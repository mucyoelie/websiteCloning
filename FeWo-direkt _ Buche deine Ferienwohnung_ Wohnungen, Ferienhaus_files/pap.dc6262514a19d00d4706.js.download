/*@license For license information please refer to pap.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3642],{80115:function(e,t,n){var r;e.exports=(r=n(96424),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=r},function(e,t){var n={d:(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};n.r(r),n.d(r,{EventPacker:()=>o});var i=new RegExp("^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"),o=function(){function e(){}return e.prototype.packEvent=function(e){return this.packEvents([e])},e.prototype.packEvents=function(e){var t=this,n=new Map;e.forEach((function(e){var r;try{var i=JSON.parse(e),o=i.event.event_name,a=i.event.event_version,s=t.getMajorVersion(a);if(!o||!s)return;var c=null!==(r=n.get(o))&&void 0!==r?r:new Map,u={event_data:i};c.set(s,u),n.set(o,c)}catch(t){console.error("Failed to pack event: ".concat(e," \n ").concat(t))}}));var r={metadata:{packer_version:"1.0.5"},events:this.convertMapToObj(n)};return JSON.stringify(r)},e.prototype.unpack=function(e,t,n){var r,i;try{var o=JSON.parse(e).events,a=this.getMajorVersion(n);console.debug("Find the event for: event_name: ".concat(t," \t event_version: ").concat(n," \t"));var s=void 0;return null!=a&&(s=null===(i=null===(r=null==o?void 0:o[t])||void 0===r?void 0:r[a])||void 0===i?void 0:i.event_data),console.debug("eventData: ".concat(s)),s?JSON.stringify(s):null}catch(t){return console.error("Failed to unpack event payload: ".concat(e)),null}},e.prototype.getMajorVersion=function(e){if(!e)return null;var t=function(e){var t=e.match(i);return t&&t.length>2?t[1]:null}(e);return t?"v".concat(t):null},e.prototype.convertMapToObj=function(e){var t=this;return Object.fromEntries(Array.from(e.entries(),(function(e){var n=e[0],r=e[1];return r instanceof Map?[n,t.convertMapToObj(r)]:[n,r]})))},e}();t.EventPacker=r.EventPacker,Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){if(!a(e))return!1;for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;t++)if(!e.hasOwnProperty(t+1<1||arguments.length<=t+1?void 0:arguments[t+1]))return!1;return!0}function a(e){return"object"===i(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;var o=n.shift();if(a(e)&&a(o))for(var c in o)if(a(o[c]))e[c]||Object.assign(e,r({},c,{})),s(e[c],o[c]);else{var u=o[c];null!=u&&Object.assign(e,r({},c,u))}return s.apply(void 0,[e].concat(n))}function c(){return window}function u(){var e=c();return Math.round(e.innerHeight)||0}function l(){return Math.round(((e=c().screen)&&e.width||0)*p());var e}function f(){return Math.round(((e=c().screen)&&e.height||0)*p());var e}function p(){return c().devicePixelRatio||0}n.r(t),n.d(t,"instance",(function(){return Z}));var m="/egcs/v2/collect",d=["event","experience"],g=["event_version","event_name","event_type"],h=["page_name","app_name","app_version"],v="onInvalidPayload",y="onPublishError",b="onFetchError",w=n(0),k=n.n(w);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){P=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new I(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="executing",d="completed",g={};function h(){}function v(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(L([])));k&&k!==n&&r.call(k,a)&&(b=k);var x=y.prototype=h.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==E(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=p;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?d:"suspendedYield",u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=d,r.method="throw",r.arg=u.arg)}}}function _(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(E(t)+" is not iterable")}return v.prototype=y,i(x,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},T(C.prototype),u(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function T(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}function C(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){C(o,r,i,a,s,"next",e)}function s(e){C(o,r,i,a,s,"throw",e)}a(void 0)}))}}var _={headers:{"Content-Type":"application/json",Connection:"keep-alive"},referrerPolicy:"origin-when-cross-origin",mode:"same-origin",credentials:"same-origin",cache:"no-cache",redirect:"follow"};function M(e,t,n,r){var i=Object.assign({},_,{method:e,body:JSON.stringify(t),keepalive:!(!r||!r.keepalive)});k()(m,i).then((function(e){e.status>=400&&n(new Error("Error on fetch ".concat(m," with ").concat(e.status," error code.")),b)})).catch((function(e){n(new Error("Error on fetch ".concat(m,". ").concat(e)),b)}))}function A(e,t,n){return I.apply(this,arguments)}function I(){return(I=S(P().mark((function e(t,n,r){var i;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s({},_,{method:t,body:JSON.stringify(n),keepalive:!(!r||!r.keepalive),headers:r&&r.headers||{}}),e.next=3,k()(m,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=["Failed to fetch","Load failed","Reached maximum amount of queued data of 64Kb for keepalive requests"];function O(e){return e instanceof Error&&!!e.message&&L.some((function(t){return e.message.includes(t)}))}function D(e,t,n){return N.apply(this,arguments)}function N(){return(N=S(P().mark((function e(t,n,r){var i,o,a,s;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<=2)){e.next=29;break}return e.prev=2,i>0&&(r.keepalive=!1),e.next=6,A(t,n,r);case 6:if(!((o=e.sent).status>=400)){e.next=9;break}return e.abrupt("return",Promise.reject(new Error("Error on fetch ".concat(m,". Failed with ").concat(o.status," error code"))));case 9:return e.next=11,o.text();case 11:return a=e.sent,s=""===a?{}:o.json(),e.abrupt("return",s);case 16:if(e.prev=16,e.t0=e.catch(2),!(i>=2)){e.next=20;break}return e.abrupt("return",Promise.reject(new Error("Error on fetch ".concat(m,". ").concat(e.t0,". Max retries reached"))));case 20:if(!O(e.t0)){e.next=26;break}return i++,e.next=24,new Promise((function(e){return setTimeout(e,100)}));case 24:e.next=27;break;case 26:return e.abrupt("return",Promise.reject(new Error("Error on fetch ".concat(m,". ").concat(e.t0))));case 27:e.next=1;break;case 29:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}function j(e){return e&&e.identifiers&&e.identifiers.view_id}var U=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"logError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EgClickstream",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;e&&n.error("".concat(t," - ").concat(e.toString()))}},{key:"postJson",value:function(e){return M("POST",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.error,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keepalive:!1})}},{key:"postJsonWithRetry",value:function(e){return D("POST",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keepalive:!1})}},{key:"isKeepaliveRelated",value:function(e){return e instanceof Error&&!!e.message&&L.some((function(t){return e.message.includes(t)}))}},{key:"groupEventsByViewId",value:function(e){var t={};return e.forEach((function(e){var n=j(e)||"no_view_id";t[n]?t[n].push(e):t[n]=[e]})),Object.keys(t).map((function(e){return t[e]}))}},{key:"getViewId",value:function(e){return j(e)}},{key:"getHeaderValue",value:function(e){var t=e&&e.length>0?j(e[0]):void 0,n={};return t&&(n["ctx-view-id"]=t),n}}],(t=null)&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function B(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V(t)?t:t+""}var F=function(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isScheduled=!1,this._batchQueue=[],this._processEvents=this._processEvents.bind(this),this._onFetchError=this._onFetchError.bind(this),this.shouldFetchWithKeepalive=!1,this._registerEventListeners()}),[{key:"publish",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.error;a(e)&&(this._batchQueue.push(e),this._scheduleAsyncProcessing(t))}},{key:"_scheduleAsyncProcessing",value:function(e){var t,n;this._isScheduled||(this._isScheduled=!0,t=this._processEvents(e),"requestIdleCallback"in(n=c())?n.requestIdleCallback(t):setTimeout(t,0))}},{key:"_processEvents",value:function(e){var t=this;return function(){var n=t._batchQueue;U.groupEventsByViewId(n).forEach((function(n){U.postJsonWithRetry(n,{keepalive:t.shouldFetchWithKeepalive,headers:U.getHeaderValue(n)}).catch((function(n){t._onFetchError(n,e)}))})),t._batchQueue=[],t._isScheduled=!1}}},{key:"_onFetchError",value:function(e,t){!0===this.shouldFetchWithKeepalive&&U.isKeepaliveRelated(e)&&(this._disableKeepalive(),setTimeout(this._enableKeepalive.bind(this),2e3)),t(e instanceof Error?e:new Error("".concat(e)),b)}},{key:"_enableKeepalive",value:function(){this.shouldFetchWithKeepalive=!0}},{key:"_disableKeepalive",value:function(){this.shouldFetchWithKeepalive=!1}},{key:"_registerEventListeners",value:function(){var e,t;e=this._enableKeepalive.bind(this),(t=c())&&t.addEventListener&&("complete"===window.document.readyState?e():window.addEventListener("load",e))}}]);function q(){return new F}var H=n(1);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$(r.key),r)}}function $(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W(t)?t:t+""}var X={onFetchError:function(){},onPublishError:function(){},onInvalidPayload:function(){}},Z=new(function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};K(this,e),this.context=n.initialContext,this.publisher=q(),this.callbacks=t,this.unpacker=new H.EventPacker},(t=[{key:"getNewInstance",value:function(e,t){return new this.constructor(e,t)}},{key:"publish",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this._createPayload(e,t);if(this._isValidPayload(n))try{this.publisher.publish(n,this._logErrorWithEmit.bind(this))}catch(e){this._logErrorWithEmit(e,y)}else this._logErrorWithEmit(new Error("publish failed due to invalid payload: ".concat(JSON.stringify(n))),v)}},{key:"updateContext",value:function(e){this.context=s({},this.context,e)}},{key:"_logErrorWithEmit",value:function(e,t){"function"==typeof this.callbacks[t]&&this.callbacks[t](e);var n={error:function(e){console.error(e)}};U.logError(e,void 0,n)}},{key:"_createPayload",value:function(e,t){return this._enrichContext(),s({},this._unpackServerPayload(t,e),e,this.context,this._getClickstreamOverrides())}},{key:"_unpackServerPayload",value:function(e,t){var n,r=t&&t.event,i=r&&r.event_name,o=r&&r.event_version;if(e&&i&&o){try{var a=this.unpacker.unpack(e,i,o);a||this._logErrorWithEmit(new Error("Unable to find a matching server payload for the provided [event_name]: ".concat(i," \t [event_version]: ").concat(o," \t [serverPayload]: ").concat(e)),v),n=JSON.parse(a)}catch(e){this._logErrorWithEmit(e,v)}return n}}},{key:"_enrichContext",value:function(){this.context=s({},this.context,this._getRequestContext(),this._getTimestamps(),this._getExperience())}},{key:"_getTimestamps",value:function(){return{timestamps:{event_origination_timestamp:Date.now()}}}},{key:"_getRequestContext",value:function(){return{request:{request_url:(t=c().location,t&&t.href||void 0),referrer_url:(e=c().document,e&&e.referrer||void 0)}};var e,t}},{key:"_getExperience",value:function(){return{experience:{experience_type:"Web",viewport_width:(e=c(),Math.round(e.innerWidth)||0),viewport_height:u(),resolution_width:l(),resolution_height:f()}};var e}},{key:"_getClickstreamOverrides",value:function(){var e=c().eg_clickstream_overrides;return e?{identifiers:{device_user_agent_id:e.device_user_agent_id},device_information:{device_type:e.device_type,device_os:e.device_os,device_os_version:e.device_os_version},experience:{experience_type:e.experience_type,experience_platform:e.experience_platform},user:{brand_customer_id:e.brand_customer_id}}:{}}},{key:"_isValidPayload",value:function(e){return o.apply(void 0,[e].concat(G(d)))&&o.apply(void 0,[e.event].concat(G(g)))&&o.apply(void 0,[e.experience].concat(G(h)))}}])&&z(e.prototype,t),n&&z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}())}]))},12929:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){(function(t){var r=n(2);function i(e){r.isTestEnvironment()&&console.log(e)}function o(){return"function"==typeof Date.now?Date.now():Number(new Date)}e.exports={toLogStore:function(e,n,r,i,a){try{"boolean"==typeof a&&a&&(!function(e,t,n,r){try{var i=document.createElement("meta");i.id="uis_debug_"+t+"_"+n+"_"+r,i.dataset.type="uis-prime-debug",i.dataset.publisher=t,i.dataset.event_type=n,i.dataset.timestamp=o(),i.dataset.debug=JSON.stringify(e),document.getElementsByTagName("head")[0].appendChild(i)}catch(a){console.log("error logging to meta tags: "+a)}}(e,n,r,i),console.log("[PlatformAnalyticsPrimeJs-publishing-event] Publisher: "+n+", evenType: "+r+", message: "+JSON.stringify(e,null,2)),void 0===t.uisPrimeLogStore&&(t.uisPrimeLogStore={})),void 0!==t.uisPrimeLogStore&&function(e,n,r,i,a){void 0===t.uisPrimeLogStore[n]&&(t.uisPrimeLogStore[n]={});void 0===t.uisPrimeLogStore[n][r]&&(t.uisPrimeLogStore[n][r]=[]);t.uisPrimeLogStore[n][r].push({timestamp:o(),message:JSON.parse(JSON.stringify(e)),publisher:n,eventType:r,label:i,isDebugEnabled:a})}(e,n,r,i,a)}catch(s){console.log("An error occurred while logging debug info: "+s)}},log:i,logError:function(e,t){var n=[];t&&n.push(t),n.push(e),e.stack&&n.push(e.stack),i(n.join("\n"))}}}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){n=window}e.exports=n},function(e,t,n){(function(t){var r=n(8),i=n(9),o=n(10),a=n(11),s=/(?:(?:test|int|stress)\.expedia\.com|exp-(?:test|int)\.net|karmalab\.net|expedmz.com|staging.*\.(?:traveltainment\.de|myersmediagroup\.com)|localhost|127\.0\.0\.1|[a-z]+\.staging1-[a-z]+\.[a-z]+|docweb\.exp-test\.net|wwwexpediacom\.sandbox\.dev\.sb\.karmalab\.net)$/i,c=/(.int.*\.sb\.karmalab\.net|^int\.)/i;function u(){return void 0!==t.location?Boolean(t.location.hostname.match(s)):-1===["prod","production"].indexOf("production")}function l(){return void 0!==t.location&&("localhost"===t.location.hostname||"127.0.0.1"===t.location.hostname||t.location.hostname.indexOf("dev")>0)}function f(){return!0}function p(){return window.performance}e.exports={isTestEnvironment:u,isLocalEnvironment:l,isBrowser:f,isPerformanceTimingSupported:function(){return p()&&window.performance.timing&&void 0!==window.performance.timing.navigationStart},isPerformanceMarkSupported:function(){return p()&&("function"==typeof window.performance.mark||"function"==typeof window.performance.webkitMark)},isTrackingDisabled:function(){return"1"===navigator.doNotTrack},isBeaconSupported:function(){return"function"==typeof navigator.sendBeacon},getConfiguration:function(){return l()?r:void 0!==t.location&&Boolean(t.location.hostname.match(c))?a:u()?i:o}}}).call(this,n(1))},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return e&&"object"===(void 0===e?"undefined":r(e))&&!Array.isArray(e)}e.exports={searchPageIdentity:function(e){var t="";return e.forEach((function(e){"pageIdentity"===e.schemaName&&(t=e)})),t},mergeObjects:function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e},mergeObjectsDeep:function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(!r.length)return t;var s=r.shift();return o(t)&&o(s)&&Object.keys(s).forEach((function(n){o(s[n])?(t[n]||Object.assign(t,i({},n,{})),e(t[n],s[n])):Object.assign(t,i({},n,s[n]))})),e.apply(void 0,[t].concat(r))}}},function(e,t,n){(function(t){var n=["chase.com","ml.com","bankofamerica.com"];function r(e,t){return new RegExp("(^|\\.)"+t+"$","i").test(e)}function i(){var e={};return"function"==typeof performance.getEntriesByType?e=performance.getEntriesByType("mark"):"function"==typeof performance.webkitGetEntriesByType&&(e=performance.webkitGetEntriesByType("mark")),e}function o(e,t){var n=e.filter((function(e){return e.name===t}));return n.length>0?n[0]:void 0}e.exports={getPointOfSale:function(){var e=window.location.hostname;if("secure2.traveltainment.de"===e)return"expedia.at";if(r(e,"traveltainment.de"))return"expedia.de";if(["travel.hotels.com","vacations.alaskaair.com","reservations.meliapackages.com","travel.riu.com","getaway.bjs.com","travel.uk.hotels.com","travel.se.hotels.com","travel.fr.hotels.com","travel.no.hotels.com","travel.ca.hotels.com","travel.jp.hotels.com","us.expedia.cn"].filter((function(t){return t===e})).length>0)return e;var t=["thailand.airasiago.com","china.airasiago.com"].filter((function(t){return r(e,t)}));if(t&&t.length>0)return t[0];var i,o=["karmalab.net","eurostar.com","poweredbygps.com","citibanamex.expedia.mx"].filter((function(t){return r(e,t)})).length>0,a=["poweredbygps"].filter((function(t){return function(e,t){return new RegExp("(^|\\.)"+t+"|\\.$","i").test(e)}(e,t)})).length>0;return o||a?e:(i=e).match(RegExp(".*"+n.join("|")+"$","g"))?i:i.match(/(^|\.)(localhost)$/)?RegExp.$2:i.match(/([^.]+(\.(co|com|web|ne))?\.[^.]+)$/)?RegExp.$1:i},getMobileOrientation:function(){var e="";return/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(window.navigator.userAgent.toLowerCase())&&(e=window.innerHeight>window.innerWidth?"Portrait":"Landscape"),e},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},getDomain:function(){var e=void 0;return(e=t.location.hostname).match(/([^.]+(\.(co|com|web|ne|net))?\.[^.]+)$/)&&!e.match(RegExp(".*"+n.join("|")+"$","g"))&&(e=RegExp.$1),e},getCurrentDate:function(){return new Date},fetchHours:function(e){return e.getHours()},fetchMinutes:function(e){return e.getMinutes()},fetchDay:function(e){return e.getDay()},uniqueArray:function(e){var t=[],n=0;return e.forEach((function(e){-1===t.indexOf(e)&&(t[n]=e,n+=1)})),t},findMark:function(e){return o(i(),e)},clearMarks:function(e){"function"==typeof performance.clearMarks&&performance.clearMarks(e)},mark:function(e){"function"==typeof performance.mark?performance.mark(e):"function"==typeof performance.webkitMark&&performance.webkitMark(e)},findSpecificRow:o,getMarkEntries:i,getQueryParameterByName:function(e,t){if(e&&t){var n=decodeURIComponent(t.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\\.\\+\\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"));return""!==n?n:null}return null},fetchMarketingIdFromCookie:function(e){e=encodeURIComponent(e);var t=new RegExp(e+"=([^;]*)").exec(document.cookie),n="";if(t&&t.length>=1){var r=decodeURIComponent(t[1]).match(/MCMID\|([^|]*)/)?RegExp.$1:"unknown";r&&r.length>=1&&(n=r)}return n}}}).call(this,n(1))},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(6),o=n(7),a=n(0),s=n(12).UisPrime,c=n(3),u=n(21),l=n(22),f=n(23),p=void 0,m=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{overridenMicroMessages:[],deviceUserAgentId:void 0,isPwa:!1,isPublishWebVitals:!1,isAutomaticAdobePageViewDisabled:!1,additionalHeaders:{},applicationName:void 0,applicationReleaseVersion:void 0,awsRegion:void 0,applicationReleaseVariant:void 0};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ctx=l.createContextualInfo(n),this.analyticsPayload=[];try{p&&(i.reset(),this._ctx.isClientSidePageLoad=!0)}catch(r){console.error("PlatformAnalyticsPrime: Got this Error while resetting Performance metrics  "+r)}this.pm=i,this.cl=new o({debugLogger:a.toLogStore,pageName:this._ctx.pageName,guid:this._ctx.deviceId}),this.isDebugEnabled=!1,p=this,i.setPlatformAnalyticsClass(e,n),this._hasCollectedEveryAnalyticsPayloads=new Promise((function(e){t._resolveHasCollectedEveryAnalyticsPayloads=e})),this._ctx.isCrossSite&&this._resolveHasCollectedEveryAnalyticsPayloads(),this.pageName=this.context.pageName,this.overridenMicroMessages=this._ctx.overridenMicroMessages,this.overridePageSchema=c.searchPageIdentity(this.overridenMicroMessages)}return r(e,[{key:"collect",value:function(e){try{if(!this._ctx.pageName||this._ctx.pageName===l.UNSPECIFIED){var t=l.updatePageName(this,e);this.getClientLog().setConfiguration({pageName:t})}0===this.analyticsPayload.length&&l.updateContextualInfoWithFirstPayload(this._ctx,e),f.injectMarketingData(e,this._ctx.isClientSidePageLoad),this.analyticsPayload.push(e),this._resolveHasCollectedEveryAnalyticsPayloads(),void 0!==e.debug&&(r=!0,(n=this).isDebugEnabled=r,n.pm.isDebugEnabled=r,n.cl.setConfiguration({isDebugEnabled:r}),f.updateDebugData(e),a.toLogStore(e.debug,"papj","load",this._ctx.pageName,this.isDebugEnabled))}catch(i){console.log("PlatformAnalyticsPrime: Error while collecting payload "+i),a.logError(i,"Error while collecting payload")}var n,r}},{key:"markPageUsable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{microMessages:[],callback:function(){}},t=(e||{}).microMessages||[],n=(e||{}).callback||function(){};"function"!=typeof n&&console.error("[PlatformAnalyticsPrime] callback argument is not a function"),this.pm.markPageUsable({microMessages:t,callback:n})}},{key:"publishWebVitals",value:function(){this.pm.publishWebVitals()}},{key:"publish",value:function(){var e=this;try{if(0===this.analyticsPayload.length)throw new Error("PlatformAnalyticsPrime: Collect analytics payload before publish");if(this._ctx.hasPub){var t=new Error("PlatformAnalyticsPrime: Data is already published on this platform analytics instance. Publishing again with the same instance indicates an error in the implementation.");this.getClientLog().logError(t)}return this._ctx.hasPub=!0,Promise.resolve().then((function(){return new s({context:e._ctx,isDebugEnabled:e.isDebugEnabled}).publish(e.analyticsPayload),e.analyticsPayload=[],!0}))}catch(n){return console.error("PlatformAnalyticsPrime: Got this Error while publishing view event  "+n),!1}}},{key:"publishClientSidePayload",value:function(){var e=this;try{for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?Promise.reject(this.getClientLog().logError(new Error("PlatformAnalyticsPrime: No data to publish"))):(n.reduce((function(e,t){return e.concat(t)}),[]).forEach((function(t){e.collect(t)})),this.publish())}catch(i){return Promise.reject(this.getClientLog().logError(new Error("PlatformAnalyticsPrime: Got this Error while publishing view event  "+i)))}}},{key:"trackEvent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];try{return t instanceof Array||(t=[t]),Promise.all([this._hasCollectedEveryAnalyticsPayloads]).then((function(){new s({context:e._ctx,isDebugEnabled:e.isDebugEnabled}).trackEvent(t,n)}))}catch(r){return this.getClientLog().logError(new Error("PlatformAnalytics: Got this Error while publishing track event  "+r)),!1}}},{key:"trackPageView",value:function(e){try{var t=e.microMessages,n=this._ctx.traceIdOfTheView,r=void 0!==this._ctx.traceIdOfTheView,i=this._ctx.applicationName;if(!(void 0!==this._ctx.applicationName)||!r||void 0===t){var o=new Error("PlatformAnalyticsPrime: missing input for trackPageView "+{traceIdOfTheView:n,applicationName:i});return this.getClientLog().logError(o),Promise.reject(o)}return new s({context:this._ctx,isDebugEnabled:this.isDebugEnabled}).trackPageView(e)}catch(o){return this.getClientLog().logError(new Error("PlatformAnalytics: Error at trackPageView: "+o)),Promise.reject(o)}}},{key:"trackAndPublishToAdobe",value:function(e){return this.trackPageView(e)}},{key:"getPerformanceMetrics",value:function(){return this.pm}},{key:"getClientLog",value:function(){return this.cl}},{key:"context",get:function(){return new u(this)}}]),e}();m.newInstance=function(){return new m(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{overridenMicroMessages:[],deviceUserAgentId:void 0})},m.getInstance=function(){return p},e.exports=m},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===i(window)&&(n=window)}e.exports=n},function(e,t,n){(function(t){var n=function(){var e=window.performance,n=((e||{}).timing||{}).navigationStart||r();function i(){return void 0===t.gaMarks&&(t.gaMarks=[]),t.gaMarks}function o(){return void 0===t.gaMeasures&&(t.gaMeasures=[]),t.gaMeasures}function a(){return"function"==typeof(window&&window.performance||{}).now?e.now():r()-n}function s(e){return c(u(),e)}function c(e,t){var n=e.filter((function(e){return e.name===t}));return n.length>0?n[0]:void 0}function u(){return"function"==typeof(e||{}).getEntriesByType?e.getEntriesByType("mark"):"function"==typeof(e||{}).webkitGetEntriesByType?e.webkitGetEntriesByType("mark"):i()}return{mark:function(t){"function"==typeof(e||{}).mark?e.mark(t):"function"==typeof(e||{}).webkitMark?e.webkitMark(t):i().push({name:t,entryType:"mark",startTime:a(),duration:0})},measure:function(t,n,r){if("function"==typeof(e||{}).measure)e.measure(t,n,r);else if("function"==typeof(e||{}).webkitMeasure)e.webkitMeasure(t,n,r);else{var i=0,c=a();if(n){var u=s(n);u?i=u.startTime:((e||{}).timing||{})[n]&&(i=e.timing[n]-e.timing.navigationStart)}if(r){var l=s(r);l?c=l.startTime:((e||{}).timing||{})[r]&&(c=e.timing[r]-e.timing.navigationStart)}o().push({name:t,entryType:"measure",startTime:i,duration:c-i})}},getGaMarks:i,getGaMeasures:o,getEntriesByName:function(t){return"function"==typeof(e||{}).getEntriesByName?e.getEntriesByName(t):"function"==typeof(e||{}).webkitGetEntriesByName?e.webkitGetEntriesByName(t):[]},findMark:s,findMeasure:function(t){return c(function(){if("function"==typeof(e||{}).getEntriesByType)return e.getEntriesByType("measure");if("function"==typeof(e||{}).webkitGetEntriesByType)return e.webkitGetEntriesByType("measure");return o()}(),t)},clearMarks:function(n){"function"==typeof(e||{}).clearMarks?e.clearMarks(n):t.gaMarks=u().filter((function(e){return e.name!==n}))},findSpecificRow:c,toJSON:function(){return"function"==typeof(e||{}).toJSON?e.toJSON():{timing:(e||{}).timing||{}}}}}();function r(){return"function"==typeof Date.now?Date.now():Number(new Date)}e.exports=n}).call(t,n(0))},function(e,t,n){(function(t){var r=n(3);function i(e){r.isTestEnvironment()&&console.log(e)}e.exports={toLogStore:function(e){try{(r.isTestEnvironment()||function(e){if(void 0===document.cookie)return!1;return-1!==document.cookie.indexOf(e)}("paLogStore=true"))&&(t&&t.paLogStore&&Array.isArray(t.paLogStore)||(t.paLogStore=[],t.paLogStoreSize=100),t.paLogStore.push(e),t.paLogStore.length>t.paLogStoreSize&&t.paLogStore.shift())}catch(n){i(n)}},log:i}}).call(t,n(0))},function(e,t,n){(function(t){var n=/(?:(?:test|int|stress)\.expedia\.com|exp-(?:test|int)\.net|karmalab\.net|expedmz.com|staging.*\.(?:traveltainment\.de|myersmediagroup\.com)|localhost|docweb\.exp-tools\.net)$/i;function r(){return!0}function i(){return window.performance}e.exports={isTestEnvironment:function(){return"undefined"!=typeof location?Boolean(location.hostname.match(n)):-1===["prod","production"].indexOf(t.env.NODE_ENV)},isLocalEnvironment:function(){return"undefined"!=typeof location&&"localhost"===location.hostname},isBrowser:r,isPerformanceTimingSupported:function(){return i()&&window.performance.timing&&void 0!==window.performance.timing.navigationStart},isPerformanceMarkSupported:function(){return i()&&("function"==typeof window.performance.mark||"function"==typeof window.performance.webkitMark)},isTrackingDisabled:function(){return navigator&&"1"===navigator.doNotTrack},isBeaconSupported:function(){return navigator&&"function"==typeof navigator.sendBeacon}}}).call(t,n(19))},function(e,t,n){var r=n(5);e.exports=new r},function(e,t,n){(function(t){var i=n(6),o=n(1),a=n(18),s="Page Usable",c="Page Change",u=["deviceId","siteId","requestId","pageName","additionalData"];function l(e,t){e&&u.forEach((function(n){e.hasOwnProperty(n)&&("siteId"===n&&isNaN(e[n])?console.log("WARNING: siteId must be Integer!"):t[n]=e[n])}))}var f=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx={},this.waitingMessage={},this.setContext(n),this.findMark=function(e){return o.findMark(e)},this.findMeasure=function(e){return o.findMeasure(e)},this.clearMarks=function(e){return o.clearMarks(e)},this.mark=function(e){return o.mark(e)},this.measure=function(e,t,n){return o.measure(e,t,n)},this.pul=function(e,n){void 0===t.puListener?(t.puListener=e,t.puScope=n):console.log("PageUsableListener has already been initialized")}}return r(e,[{key:"setContext",value:function(e){l(e,this.ctx)}},{key:"getFilteredPageUsableTime",value:function(){var e=this.getPageUsableTime();return e&&e.length>0&&(e=parseFloat((e[0].startTime/1e3).toFixed(2))),e}},{key:"justMarkPageUsable",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments[1];(n||t&&(t.callback||t.microMessages))&&(this.microMessages=(t||{}).microMessages||n.microMessages,t=(t||{}).callback||n.callback),setTimeout((function(){e.findMark(s)?console.log("WARNING: marking a page that was already usable - value won't be updated - use reset() first"):(e.clearMarks(s),e.mark(s));var n=e.getFilteredPageUsableTime();"function"==typeof e.puListener&&e.puListener.call(e.puScope,n),"function"==typeof t&&t(n,e.ctx)}),50)}},{key:"publish",value:function(e){var t=(e||{}).pageUsableTime||this.getFilteredPageUsableTime(),n=(e||{}).microMessages||[];if(this.PlatformAnalytics&&"function"==typeof this.PlatformAnalytics.getInstance&&this.PlatformAnalytics.getInstance())i.publishPageUsableToUisPrime(this.PlatformAnalytics.getInstance(),n,t),this.waitingMessage={};else if(e&&e.uisPrime)this.waitingMessage={uisPrime:!0,microMessages:n,pageUsableTime:t};else if(this.setContext(e),this.findMark(s))try{!function(e,t){var n={};l(e,n),n.pageUsableTime=t,a.publish(n)}(this.ctx,this.getFilteredPageUsableTime())}catch(r){console.log("Unable to publish performance metrics"+r.message)}else console.log("WARNING: trying to publish before page being usable")}},{key:"markPageUsable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments[2];if(i||e.microMessages||e.callback){var o=e.microMessages||(i||{}).microMessages;r=e.callback||(i||{}).callback,this.justMarkPageUsable({microMessages:o,callback:function(e){n.publish({uisPrime:!0,microMessages:o}),r(e)}})}else this.setContext(e),this.justMarkPageUsable((function(e,i){if(isNaN(n.ctx.siteId)){var o=isNaN(t.siteid)?isNaN(t.site_id)?isNaN(t.siteId)?NaN:t.siteId:t.site_id:t.siteid;isNaN(o)||(i.siteId=parseInt(o,10))}n.publish(i),"function"==typeof r&&r(e,i)}))}},{key:"getPageUsableTime",value:function(){var e=(this.findMark(s)||{}).startTime-((this.findMark(c)||{}).startTime||0);return Math.round(10*e)/10}},{key:"reset",value:function(e){this.setContext(e),this.clearMarks(s),this.clearMarks(c),this.mark(c)}},{key:"setPlatformAnalyticsClass",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPublishWebVitals:!1};this.PlatformAnalytics=e,this.waitingMessage.pageUsableTime?this.publish(this.waitingMessage):this.findMark(s)&&this.publish({uisPrime:!0}),i.publishInteractionMetrics(this.PlatformAnalytics.getInstance()),t.isPublishWebVitals&&i.publishWebVitals(this.PlatformAnalytics.getInstance())}},{key:"publishWebVitals",value:function(){this.PlatformAnalytics&&"function"==typeof this.PlatformAnalytics.getInstance&&this.PlatformAnalytics.getInstance()&&i.publishWebVitals(this.PlatformAnalytics.getInstance())}}]),e}();e.exports=f}).call(t,n(0))},function(e,t,n){(function(t){var r=n(7),i=n(9),o=n(1),a=n(11),s=n(12),c=n(13),u=n(14),l=n(15),f={navigator:t.navigator||{}};e.exports={publishInteractionMetrics:function(e){if(e&&"function"==typeof e.trackEvent){r.collect({schemaName:"interactivityMetrics",messageContent:{}},(function(t){i.collect(t,a,(function(t){0!==Object.keys(t.messageContent).length&&e.trackEvent(t,"page-usable")}))}))}else console.error("[PerformanceMetrics] cannot publish interactionMetrics to Uis Prime (platformAnalytics not defined)")},publishPageUsableToUisPrime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&"function"==typeof e.trackEvent){Array.isArray(t)||(t=[t]);var r={schemaName:"performanceMetrics",messageContent:{markName:"Page Usable",markValue:n}},i={schemaName:"corePerformanceMetrics",messageContent:{pageUsableTime:n}};if(c.collect(r,f),s.collect(r,o,(function(n){u.collect(n,o,(function(n){t.push(n),e.trackEvent(t,"page-usable")}))})),e.trackEvent(i,"page-usable"),r.messageContent.pageLoadTime){var a={schemaName:"additionalPerformanceMetrics",messageContent:{pageLoadTime:r.messageContent.pageLoadTime}};e.trackEvent(a,"timing")}}else console.error("[PerformanceMetrics] cannot publish page usable to Uis Prime (platformAnalytics not defined)")},publishWebVitals:function(e){if(e&&"function"==typeof e.trackEvent){var t=l.uisPrimeOnReport(e);l.report(t)}else console.error("[PerformanceMetrics] cannot publish web vitals to Uis Prime (platformAnalytics not defined)")}}}).call(t,n(0))},function(e,t,n){(function(t){n(8),e.exports={collect:function(e,n){try{t.perfMetrics.onFirstInputDelay((function(t){t&&(e.messageContent.firstInputDelay=t),n(e)}))}catch(r){n(e)}}}}).call(t,n(0))},function(e,t){!function(e,t){var n,r,i,o=[],a={passive:!0,capture:!0},s=new Date,c="pointerup",u="pointercancel";function l(e,o){n||(n=o,r=e,i=new Date,m(t),f())}function f(){r>=0&&r<i-s&&(o.forEach((function(e){e(r,n)})),o=[])}function p(n){if(n.cancelable){var r=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,r){function i(){l(n,r),s()}function o(){s()}function s(){t(c,i,a),t(u,o,a)}e(c,i,a),e(u,o,a)}(r,n):l(r,n)}}function m(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach((function(t){e(t,p,a)}))}m(e),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(e){o.push(e),f()}}(addEventListener,removeEventListener)},function(e,t,n){n(10),e.exports={collect:function(e,t,n){try{t.getFirstConsistentlyInteractive().then((function(t){t&&(e.messageContent.timeToInteractive=t),n(e)}))}catch(r){n(e)}}}},function(e,t,n){(function(e){!function(){if("PerformanceLongTaskTiming"in e){var t=e.__tti={e:[]};t.o=new PerformanceObserver((function(e){t.e=t.e.concat(e.getEntries())})),t.o.observe({entryTypes:["longtask"]})}}()}).call(t,n(0))},function(e,t,n){(function(n){var r;!function(){var i=window===this?this:void 0!==n&&null!=n?n:this,o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};function a(){a=function(){},i.Symbol||(i.Symbol=c)}var s=0;function c(e){return"jscomp_symbol_"+(e||"")+s++}function u(){a();var e=i.Symbol.iterator;e||(e=i.Symbol.iterator=i.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&o(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return l(this)}}),u=function(){}}function l(e){var t=0;return function(e){return u(),e={next:e},e[i.Symbol.iterator]=function(){return this},e}((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))}function f(e){u();var t=e[Symbol.iterator];return t?t.call(e):l(e)}function p(e){if(!(e instanceof Array)){e=f(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var m=0;var d="img script iframe link audio video source".split(" ");function g(e,t){for(var n=(e=f(e)).next();!n.done;n=e.next())if(n=n.value,t.includes(n.nodeName.toLowerCase())||g(n.children,t))return!0;return!1}function h(e,t){if(2<e.length)return performance.now();for(var n=[],r=(t=f(t)).next();!r.done;r=t.next())r=r.value,n.push({timestamp:r.start,type:"requestStart"}),n.push({timestamp:r.end,type:"requestEnd"});for(r=(t=f(e)).next();!r.done;r=t.next())n.push({timestamp:r.value,type:"requestStart"});for(n.sort((function(e,t){return e.timestamp-t.timestamp})),e=e.length,t=n.length-1;0<=t;t--)switch((r=n[t]).type){case"requestStart":e--;break;case"requestEnd":if(2<++e)return r.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function v(e){e=e||{},this.w=!!e.useMutationObserver,this.u=e.minValue||null,e=window.__tti&&window.__tti.e;var t=window.__tti&&window.__tti.o;this.a=e?e.map((function(e){return{start:e.startTime,end:e.startTime+e.duration}})):[],t&&t.disconnect(),this.b=[],this.f=new Map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,function(e,t){var n=XMLHttpRequest.prototype.send,r=m++;XMLHttpRequest.prototype.send=function(i){for(var o=[],a=0;a<arguments.length;++a)o[a-0]=arguments[a];var s=this;return e(r),this.addEventListener("readystatechange",(function(){4===s.readyState&&t(r)})),n.apply(this,o)}}(this.m.bind(this),this.l.bind(this)),function(e,t){var n=fetch;fetch=function(r){for(var i=[],o=0;o<arguments.length;++o)i[o-0]=arguments[o];return new Promise((function(r,o){var a=m++;e(a),n.apply(null,[].concat(p(i))).then((function(e){t(a),r(e)}),(function(e){t(e),o(e)}))}))}}(this.m.bind(this),this.l.bind(this)),function(e){e.c=new PerformanceObserver((function(t){for(var n=(t=f(t.getEntries())).next();!n.done;n=t.next())if("resource"===(n=n.value).entryType&&(e.b.push({start:n.fetchStart,end:n.responseEnd}),b(e,h(e.g,e.b)+5e3)),"longtask"===n.entryType){var r=n.startTime+n.duration;e.a.push({start:n.startTime,end:r}),b(e,r+5e3)}})),e.c.observe({entryTypes:["longtask","resource"]})}(this),this.w&&(this.h=function(e){var t=new MutationObserver((function(t){for(var n=(t=f(t)).next();!n.done;n=t.next())("childList"==(n=n.value).type&&g(n.addedNodes,d)||"attributes"==n.type&&d.includes(n.target.tagName.toLowerCase()))&&e(n)}));return t.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t}(this.B.bind(this)))}function y(e){e.i=!0;var t=0<e.a.length?e.a[e.a.length-1].end:0,n=h(e.g,e.b);b(e,Math.max(n+5e3,t))}function b(e,t){!e.i||e.v>t||(clearTimeout(e.j),e.j=setTimeout((function(){var t=performance.timing.navigationStart,n=h(e.g,e.b);t=(window.a&&window.a.A?1e3*window.a.A().C-t:0)||performance.timing.domContentLoadedEventEnd-t;if(e.u)var r=e.u;else performance.timing.domContentLoadedEventEnd?r=(r=performance.timing).domContentLoadedEventEnd-r.navigationStart:r=null;var i=performance.now();null===r&&b(e,Math.max(n+5e3,i+1e3));var o=e.a;5e3>i-n?n=null:n=5e3>i-(n=o.length?o[o.length-1].end:t)?null:Math.max(n,r),n&&(e.s(n),clearTimeout(e.j),e.i=!1,e.c&&e.c.disconnect(),e.h&&e.h.disconnect()),b(e,performance.now()+1e3)}),t-performance.now()),e.v=t)}v.prototype.getFirstConsistentlyInteractive=function(){var e=this;return new Promise((function(t){e.s=t,"complete"==document.readyState?y(e):window.addEventListener("load",(function(){y(e)}))}))},v.prototype.m=function(e){this.f.set(e,performance.now())},v.prototype.l=function(e){this.f.delete(e)},v.prototype.B=function(){b(this,performance.now()+5e3)},i.Object.defineProperties(v.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(p(this.f.values()))}}});var w={getFirstConsistentlyInteractive:function(e){return e=e||{},"PerformanceLongTaskTiming"in window?new v(e).getFirstConsistentlyInteractive():Promise.resolve(null)}};void 0!==e&&e.exports?e.exports=w:void 0===(r=function(){return w}.apply(t,[]))||(e.exports=r)}()}).call(t,n(0))},function(e,t,n){(function(t){function n(e,t,n,r){void 0!==n&&void 0!==r&&(e[t]=n-r)}e.exports={collect:function(e,r,i){var o=r.toJSON();void 0!==o.timing?(n(e.messageContent,"dnsLookupTime",o.timing.domainLookupEnd,o.timing.domainLookupStart),n(e.messageContent,"timeToFirstByte",o.timing.responseStart,o.timing.fetchStart),n(e.messageContent,"tcpConnectionTime",o.timing.connectEnd,o.timing.connectStart),n(e.messageContent,"pageLoadTime",o.timing.domContentLoadedEventEnd,o.timing.navigationStart),e.messageContent.pageLoadTime&&e.messageContent.pageLoadTime<0?t.addEventListener("load",(function(){n(e.messageContent,"pageLoadTime",o.timing.domContentLoadedEventEnd,o.timing.navigationStart),i(e)})):i(e)):i(e)}}}).call(t,n(0))},function(e,t){function n(e,t,n){void 0!==n&&(e[t]=n)}e.exports={collect:function(e,t){if(t&&t.navigator){var r=t.navigator,i=r.connection||r.mozConnection||r.webkitConnection;i&&(n(e.messageContent,"networkEffectiveType",i.effectiveType),n(e.messageContent,"networkDownLink",i.downlink))}}}},function(e,t,n){(function(t){e.exports={collect:function(e,n,r){if(void 0!==t.PerformancePaintTiming){var i=n.getEntriesByName("first-contentful-paint");if(i&&i.length>0){var o=i[0];return e.messageContent.firstContentfulPaint=Math.round(o.startTime+o.duration),void r(e)}if(void 0!==t.PerformanceObserver)new t.PerformanceObserver((function(t){var n=!0,i=!1,o=void 0;try{for(var a,s=t.getEntries()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;"first-contentful-paint"===c.name&&(e.messageContent.firstContentfulPaint=Math.round(c.startTime+c.duration),r(e))}}catch(u){i=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}})).observe({entryTypes:["paint"]});else r(e)}else r(e)}}}).call(t,n(0))},function(e,t,n){var r=n(16),i=n(17),a=function(){};e.exports={report:function(e){e&&"function"==typeof e&&(r.onCLS(e),r.onLCP(e),r.onFID(e),r.onTTFB(e),r.onFCP(e),r.onINP(e))},uisPrimeOnReport:function(e){var t=a;return e&&"function"==typeof e.trackEvent?t=function(t){(function(e){var t=[],n=e&&e.name,r=e&&e.value,a=i[n]||{},s=a.metricName,c=a.schemas;return s&&c&&c.forEach((function(e){t.push({schemaName:e,messageContent:o({},s,r)})})),t})(t).forEach((function(t){return e.trackEvent(t,"timing")}))}:console.error("[PerformanceMetrics] cannot publish web vitals to Uis Prime (platformAnalytics not defined)"),t}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"CLSThresholds",(function(){return S})),n.d(t,"FCPThresholds",(function(){return T})),n.d(t,"FIDThresholds",(function(){return N})),n.d(t,"INPThresholds",(function(){return H})),n.d(t,"LCPThresholds",(function(){return X})),n.d(t,"TTFBThresholds",(function(){return Y})),n.d(t,"getCLS",(function(){return _})),n.d(t,"getFCP",(function(){return C})),n.d(t,"getFID",(function(){return j})),n.d(t,"getINP",(function(){return $})),n.d(t,"getLCP",(function(){return Q})),n.d(t,"getTTFB",(function(){return te})),n.d(t,"onCLS",(function(){return _})),n.d(t,"onFCP",(function(){return C})),n.d(t,"onFID",(function(){return j})),n.d(t,"onINP",(function(){return $})),n.d(t,"onLCP",(function(){return Q})),n.d(t,"onTTFB",(function(){return te}));var r,i,o,a,s,c=-1,u=function(e){addEventListener("pageshow",(function(t){t.persisted&&(c=t.timeStamp,e(t))}),!0)},l=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},f=function(){var e=l();return e&&e.activationStart||0},p=function(e,t){var n=l(),r="navigate";return c>=0?r="back-forward-cache":n&&(document.prerendering||f()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},m=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},d=function(e,t,n,r){var i,o;return function(a){t.value>=0&&(a||r)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},g=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},h=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},v=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},y=-1,b=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},w=function(e){"hidden"===document.visibilityState&&y>-1&&(y="visibilitychange"===e.type?e.timeStamp:0,E())},k=function(){addEventListener("visibilitychange",w,!0),addEventListener("prerenderingchange",w,!0)},E=function(){removeEventListener("visibilitychange",w,!0),removeEventListener("prerenderingchange",w,!0)},P=function(){return y<0&&(y=b(),k(),u((function(){setTimeout((function(){y=b(),k()}),0)}))),{get firstHiddenTime(){return y}}},x=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},T=[1800,3e3],C=function(e,t){t=t||{},x((function(){var n,r=P(),i=p("FCP"),o=m("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-f(),0),i.entries.push(e),n(!0)))}))}));o&&(n=d(e,i,T,t.reportAllChanges),u((function(r){i=p("FCP"),n=d(e,i,T,t.reportAllChanges),g((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},S=[.1,.25],_=function(e,t){t=t||{},C(v((function(){var n,r=p("CLS",0),i=0,o=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=o[0],n=o[o.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>r.value&&(r.value=i,r.entries=o,n())},s=m("layout-shift",a);s&&(n=d(e,r,S,t.reportAllChanges),h((function(){a(s.takeRecords()),n(!0)})),u((function(){i=0,r=p("CLS",0),n=d(e,r,S,t.reportAllChanges),g((function(){return n()}))})),setTimeout(n,0))})))},M={passive:!0,capture:!0},A=new Date,I=function(e,t){r||(r=t,i=e,o=new Date,D(removeEventListener),L())},L=function(){if(i>=0&&i<o-A){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+i};a.forEach((function(t){t(e)})),a=[]}},O=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){I(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,M),removeEventListener("pointercancel",r,M)};addEventListener("pointerup",n,M),addEventListener("pointercancel",r,M)}(t,e):I(t,e)}},D=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,O,M)}))},N=[100,300],j=function(e,t){t=t||{},x((function(){var n,o=P(),s=p("FID"),c=function(e){e.startTime<o.firstHiddenTime&&(s.value=e.processingStart-e.startTime,s.entries.push(e),n(!0))},l=function(e){e.forEach(c)},f=m("first-input",l);n=d(e,s,N,t.reportAllChanges),f&&h(v((function(){l(f.takeRecords()),f.disconnect()}))),f&&u((function(){var o;s=p("FID"),n=d(e,s,N,t.reportAllChanges),a=[],i=-1,r=null,D(addEventListener),o=c,a.push(o),L()}))}))},U=0,V=1/0,R=0,B=function(e){e.forEach((function(e){e.interactionId&&(V=Math.min(V,e.interactionId),R=Math.max(R,e.interactionId),U=R?(R-V)/7+1:0)}))},F=function(){return s?U:performance.interactionCount||0},q=function(){"interactionCount"in performance||s||(s=m("event",B,{type:"event",buffered:!0,durationThreshold:0}))},H=[200,500],W=0,G=function(){return F()-W},J=[],K={},z=function(e){var t=J[J.length-1],n=K[e.interactionId];if(n||J.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};K[r.id]=r,J.push(r)}J.sort((function(e,t){return t.latency-e.latency})),J.splice(10).forEach((function(e){delete K[e.id]}))}},$=function(e,t){t=t||{},x((function(){var n;q();var r,i=p("INP"),o=function(e){e.forEach((function(e){e.interactionId&&z(e),"first-input"===e.entryType&&!J.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&z(e)}));var t,n=(t=Math.min(J.length-1,Math.floor(G()/50)),J[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},a=m("event",o,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=d(e,i,H,t.reportAllChanges),a&&("interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),h((function(){o(a.takeRecords()),i.value<0&&G()>0&&(i.value=0,i.entries=[]),r(!0)})),u((function(){J=[],W=F(),i=p("INP"),r=d(e,i,H,t.reportAllChanges)})))}))},X=[2500,4e3],Z={},Q=function(e,t){t=t||{},x((function(){var n,r=P(),i=p("LCP"),o=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-f(),0),i.entries=[t],n())},a=m("largest-contentful-paint",o);if(a){n=d(e,i,X,t.reportAllChanges);var s=v((function(){Z[i.id]||(o(a.takeRecords()),a.disconnect(),Z[i.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(s,0)}),!0)})),h(s),u((function(r){i=p("LCP"),n=d(e,i,X,t.reportAllChanges),g((function(){i.value=performance.now()-r.timeStamp,Z[i.id]=!0,n(!0)}))}))}}))},Y=[800,1800],ee=function e(t){document.prerendering?x((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},te=function(e,t){t=t||{};var n=p("TTFB"),r=d(e,n,Y,t.reportAllChanges);ee((function(){var i=l();if(i){var o=i.responseStart;if(o<=0||o>performance.now())return;n.value=Math.max(o-f(),0),n.entries=[i],r(!0),u((function(){n=p("TTFB",0),(r=d(e,n,Y,t.reportAllChanges))(!0)}))}}))}},function(e,t){var n="interactivityMetrics",r="corePerformanceMetrics",i="additionalPerformanceMetrics",o={CLS:{metricName:"cumulativeLayoutShift",schemas:[n,r]},LCP:{metricName:"largestContentfulPaint",schemas:[n,r]},FID:{metricName:"firstInputDelay",schemas:[n,i]},INP:{metricName:"interactionToNextPaint",schemas:[r]},TTFB:{metricName:"timeToFirstByte",schemas:[i]},FCP:{metricName:"firstContentfulPaint",schemas:[i]}};e.exports=o},function(e,t,n){var r=n(2).toLogStore,i=n(2).log,o=n(20),a=n(3),s=a.isLocalEnvironment()?"https://collector.test.expedia.com":"/cl/data";function c(e){return!!(e&&e.deviceId&&e.pageName&&e.pageUsableTime&&e.requestId)}e.exports={publish:function(e){if(!c(e))return i("Not valid PM formatted data: "),i(e),!1;this.requestBody=e,this.requestBody.utcTimestamp=Date.now(),this.requestBody.navigationTimingSupport=a.isPerformanceTimingSupported(),this.requestBody.performanceMarkSupport=a.isPerformanceMarkSupported(),this.requestBody.beaconApiSupport=a.isBeaconSupported();var t=o.sendBeacon(s+"/perfmetrics.json?persist=true",this.requestBody),n={publisher:"PM Publisher",status:"",sentData:this.requestBody};return"boolean"==typeof t?(n.status=t?"queued":"failed",r(n)):(t.onload=function(){n.status=t.status,r(n)},t.onerror=function(){n.status="error",r(n)},t.ontimeout=function(){n.status="timeout",r(n)}),t},isValid:c}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&m())}function m(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||s(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports.sendBeacon=function(e,t){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon?navigator.sendBeacon(e,JSON.stringify(t)):function(e,t){var n=new XMLHttpRequest,r={method:"POST",headers:{"Content-type":"application/json"},body:t};return n.open(r.method,e,!0),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(r.body)),n}(e,t)}}])},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(7),o=n(1);function a(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function s(){return new Date}e.exports={getFixedParams:function(e,t){var n=[];n.push("live="+i.isProductionEnv(window.location.hostname));var o=function(e){var t=[];e.gcoAgent?(t.push("gcoAgent=true"),t.push("agentLogonName="+(e.agentLogonName||"unknown")),t.push("agentCallCenter="+(e.agentCallCenter||"unknown")),t.push("agentCountry="+(e.agentCountry||"unknown"))):t.push("gcoAgent=false");return t}(e);return o.concat(function(e,t){var n=[];e.data&&"string"==typeof e.data&&e.data.split("|").forEach((function(e){n.push(e)}));e.data&&"object"===r(e.data)&&(n=n.concat(function(e){var t=[],n=void 0;Object.keys(e).length>0&&Object.keys(e).forEach((function(r){n=r+"="+String(e[r]).replace(/\n|\r/gm,""),t.push(n)}));return t}(e.data)));if(t){var i="level",o=t;n.push(i+"="+o)}return n}(e,t)).concat(n)},normalizeMessageParams:function(e){if(!e)return[];if("string"==typeof e)return[e];if("object"===(void 0===e?"undefined":r(e))&&!Array.isArray(e)){var t=[];Object.keys(e).forEach((function(n){var r;t.push(encodeURIComponent(n)+"="+encodeURIComponent((r=e[n],String(r).replace(/"/g,""))))})),e=t}return e},normalizeError:function(e){var t="NA",n=t,r=t,i=t,o=void 0;try{e&&e.stack&&(o=e.stack.match(/(([^)]+\d+))/)||e.stack.match(/@([^)]+\d+)\n/))&&(n=(o=o[1].split(":")).pop(),r=o.pop(),i=o.join(":"))}catch(a){console.log(a+" dcs:util.js")}return e&&(e={sourceURL:e.sourceURL||e.fileName||i,line:e.line||e.lineNumber||r,col:e.columnNumber||n,message:e.message,stack:e.stack||t}),e},logErrorOnConsole:function(e){console.error(e)},expGetISODateString:function(e){return e.toISOString()?e.toISOString():e.getFullYear().toString()+"-"+e.getMonth()+"-"+e.getDate()+"T"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},sendBeacon:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new Image;n.src=e,t.push(n)},isBrowser:function(){return"object"===r(window)},getCurrentDate:s,getCurrentTime:function(){return s().getTime()},consoleError:a,mergeObjects:function(e,t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))},logClientLogError:function(e,t,n){var r={};a("Something went wrong while calling "+n+" "+e);try{var i=e.indexOf(":"),s=e.substring(0,i),c=e.substring(i+1).replace(":","");Object.defineProperty(r,s,{value:c,enumerable:!0}),o.sendClientLog("/cl/2x2.json",r,t)}catch(u){a("Something went wrong while calling logClientLogError "+u)}}}},function(e,t,n){e.exports={sendClientLog:function(e,t,n){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon?(n({publisher:"Splunk and S3 Publisher",clientUrl:e,status:"successful",sentData:t}),navigator.sendBeacon(e,JSON.stringify(t))):function(e,t,n){var r=new XMLHttpRequest,i={method:"POST",headers:{"Content-type":"application/json"},body:t};return r.open(i.method,e,!0),r.setRequestHeader("Content-type","application/json"),n({publisher:"Splunk and S3 Publisher",clientUrl:e,status:"successfull",sentData:t}),r.send(JSON.stringify(i.body)),r}(e,t,n)}}},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),a=n(1),s="/cl/2x2.json",c=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!o.isBrowser())throw new Error("Error Logger is only supported on a browser");this.configuration=t||{},this.configuration.logErrorOnConsole=this.configuration.logErrorOnConsole||!0,this.configuration.pageStartTime=this.configuration.pageStartTime||o.getCurrentTime(),this.debugLogger=this.configuration.debugLogger||function(){},this.onerrorSubscribers=[];var n=this.configuration.attachWindowOnErrorHandler;(n=void 0===n||n)&&(this.errorsCountByMessage={},this.bindWindowOnError())}return i(e,[{key:"bindWindowOnError",value:function(){var e=this;window.onerror=function(){e.onWindowError.apply(e,arguments)}}},{key:"subscribeToOnErrorCallback",value:function(e){this.onerrorSubscribers.push(e)}},{key:"publishErrors",value:function(){this.onerrorSubscribers.forEach((function(e){"function"==typeof e?e():console.log(e+" must be a function!")}))}},{key:"onWindowError",value:function(e,t,n,r,i){try{var a=i?u(i,t,n,r):{onErrorMsg:e};this.errorsCountByMessage[e]=(this.errorsCountByMessage[e]||0)+1;var s=100===this.errorsCountByMessage[e];s&&(a.exceedsErrorThreshold=!0),(1===this.errorsCountByMessage[e]||s)&&this.logMessage("windowOnError",a),this.publishErrors()}catch(c){o.logClientLogError(""+c,this.debugLogger,"onWindowError")}}},{key:"logMessage",value:function(e,t,n){try{var i=n||t,c=n?t:"INFO",u=function(e,t){var n={logTime:o.expGetISODateString(o.getCurrentDate()),action:"logErrors",label:e,pageName:t.pageName,pageUrl:window.location.href,guid:t.guid,clientWidth:document.documentElement.clientWidth};return n[e+"_elapsedTime"]=o.getCurrentTime()-t.pageStartTime,n}(e,this.configuration);if("string"==typeof i){var l=i.split("=");u[l[0]]=l[1]}else Array.isArray(i)?i.forEach((function(e){var t=e.split("=");u[t[0]]=t[1]})):"object"===(void 0===i?"undefined":r(i))&&Object.keys(i).forEach((function(e){u[e]=i[e]}));o.getFixedParams(this.configuration,c).forEach((function(e){var t=e.split("=");u[t[0]]=t[1]}));var f=function(e){var t=void 0,n={};for(t=0;t<e.length;t+=1)if(-1!==e[t].indexOf("=")){var r=e[t],i=decodeURIComponent(r.substr(r.indexOf("=")+1));Object.defineProperty(n,decodeURIComponent(r.substr(0,r.indexOf("="))),{value:i,enumerable:!0,writable:!0})}return n}(o.normalizeMessageParams(u)),p=(this.configuration||{}).isDebugEnabled||!1;a.sendClientLog(s,f,this.debugLogger),this.debugLogger({messageUrl:s,JsonString:f},"clientLogging",c,this.configuration.pageName,p)}catch(m){o.logClientLogError(""+m,this.debugLogger,"logMessage")}}},{key:"logError",value:function(e,t,n){try{var r=o.normalizeMessageParams(t?u(t):{onError:"NA"});r=r.concat(o.normalizeMessageParams(n)),this.logMessage(e,"ERROR",r),this.configuration.logErrorOnConsole&&o.logErrorOnConsole(e+"\n"+r.join("\n"))}catch(i){o.logClientLogError(""+i,this.debugLogger,"logError")}}},{key:"setConfiguration",value:function(e){try{o.mergeObjects(this.configuration,e)}catch(t){o.logClientLogError(""+t,this.debugLogger,"setConfiguration")}}}]),e}();function u(e,t,n,r){return{onErrorMsg:(e=o.normalizeError(e)).message,onErrorUrl:e.sourceURL||t,onErrorLine:e.line||n,onErrorChar:e.col||r||"NA",stack:e.stack?e.stack.substr(0,200):"NA"}}e.exports=c},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(5),o=n(0),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.webPerfLogPublisher="/cl/1x1.gif",this.configuratonParams=t||{},this.performance=window.performance,this.beaconImages=[],this.isPageUsableSent=!1,this.bindWindowOnLoad()}return r(e,[{key:"logTrxEvent",value:function(e,t){try{this.logMetrics(e,t)}catch(n){o.consoleError("Something went wrong while calling logTrxEvent "+n)}}},{key:"markPageUsable",value:function(){try{this.performance&&"function"==typeof this.performance.mark&&this.performance.mark("Page Usable")}catch(e){o.consoleError("Something went wrong while calling clintLog's markPageUsable "+e)}}},{key:"setPageUsableTime",value:function(e){this.pageUsableTime=e}},{key:"logDefaultMetrics",value:function(){var e=i.collectNavigationTimings();this.logMetrics("navTiming",e)}},{key:"bindWindowOnLoad",value:function(){var e=this;try{"function"==typeof setInterval&&(window.addEventListener("load",this.logDefaultMetrics(),!1),window.addEventListener("load",(function(){return setInterval(e.logMetrics.bind(e,"",""),6e4)}),!1))}catch(t){o.consoleError("Something went wrong while calling bindWindowOnLoad "+t)}}},{key:"markIsPageUsableSent",value:function(){this.isPageUsableSent=!0}},{key:"logMetrics",value:function(e,t){var n=i.collectDefaultAttributes(this.configuratonParams),r=i.collectProvidedAttributes(this.configuratonParams,e,t),o=i.joinAttributes(n,r);if(o="?"+o.replace(/,/g,"&"),!this.isPageUsableSent){var a=i.collectPageUsableParameter(this.pageUsableTime);-1!==a.indexOf("pageUsableTime=")&&(o=i.joinAttributes(o,a),this.markIsPageUsableSent())}this.publishLog(o)}},{key:"publishLog",value:function(e){o.sendBeacon(""+this.webPerfLogPublisher+e,this.beaconImages)}},{key:"setConfiguration",value:function(e){try{o.mergeObjects(this.configuratonParams,e)}catch(t){o.consoleError("Something went wrong while setting configuration "+t)}}}]),e}();e.exports=a},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),a=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configuration=t||{},o.isBrowser()){var r=n(2),i=n(3);this.configuration.attachWindowOnErrorHandler=this.configuration.attachWindowOnErrorHandler||!0,this.configuration.logErrorOnConsole=this.configuration.logErrorOnConsole||!0,this.configuration.pageStartTime=this.configuration.pageStartTime||new Date,this.configuration.pageName=this.configuration.pageName||"unknown",this.configuration.guid=this.configuration.guid||"unknown",this.configuration.pageStartTime=this.configuration.pageStartTime||o.getCurrentTime(),this.errorLogger=new r(this.configuration),this.webPerformanceLogger=new i(this.configuration)}}return i(e,[{key:"logMessage",value:function(e,t,n){o.isBrowser()&&this.errorLogger.logMessage(e,t,n)}},{key:"logError",value:function(e,t,n){o.isBrowser()&&this.errorLogger.logError(e,t,n)}},{key:"subscribeToOnErrorCallback",value:function(e){o.isBrowser()&&this.errorLogger.subscribeToOnErrorCallback(e)}},{key:"logTrxEvent",value:function(e,t){o.isBrowser()&&this.webPerformanceLogger.logTrxEvent(e,t)}},{key:"markPageUsable",value:function(){o.isBrowser()&&this.webPerformanceLogger.markPageUsable()}},{key:"setPageUsableTime",value:function(e){o.isBrowser()&&this.webPerformanceLogger.setPageUsableTime(e)}},{key:"setConfiguration",value:function(e){o.isBrowser()&&e&&"object"===(void 0===e?"undefined":r(e))&&(o.mergeObjects(this.configuration,e),this.errorLogger.setConfiguration(e),this.webPerformanceLogger.setConfiguration(e))}},{key:"getConfiguration",value:function(){return this.configuration}}]),e}();e.exports=a},function(e,t,n){var r=n(0),i=n(6);e.exports={collectDefaultAttributes:function(e){return r.getFixedParams(e)+"&pageName="+i.getPageName(e)+"&guid="+i.getGuid(e)+"&logTime="+r.expGetISODateString(r.getCurrentDate())+"&sessionDuration="+i.getTimeOnPage()},collectNavigationTimings:function(){var e=i.getNavigationTimings();return r.normalizeMessageParams(e)},collectPageUsableParameter:function(e){var t=void 0===e?i.getPageUsable():e;return t&&""!==t?"pageUsableTime="+t:""},collectProvidedAttributes:function(e,t,n){var o=[];return t&&(o=[t+"_elapsedTime="+(r.getCurrentTime()-i.getPageStartTime(e))]),n&&(o=o.concat(r.normalizeMessageParams(n))),"action=logTrxEvent&"+(o||[]).join("&")},joinAttributes:function(e,t){var n="";return e&&t&&(n=e+"&"+t),n}}},function(e,t,n){var r=n(0);function i(e){return window.performance&&window.performance.timing&&window.performance.timing[e]||NaN}e.exports={getTimeOnPage:function(){var e=void 0,t=r.getCurrentTime(),n=void 0,i=void 0,o=void 0;try{if(!window.localStorage)return 0;n="dctk_clientLogging_firstInteractionTimestamp",i="dctk_clientLogging_lastInteractionTimestamp",o=Number(localStorage.getItem(i)),e=Number(localStorage.getItem(n)),(t-o>18e5||0===e)&&(e=t,localStorage.setItem(n,e)),o=t,localStorage.setItem(i,o)}catch(a){e=t,console.log(a+"  dcs:web-perf-logger")}return t-e},getLoggingData:function(e){var t="";if(e.data)for(var n=0,r=e.data.split("|");n<r.length&&r[n].length>0;n+=1)t+="&"+r[n];return t},getPageUsable:function(){if(window.performance&&window.performance.getEntriesByName){var e=window.performance.getEntriesByName("Page Usable","mark");return e&&e.length?Math.round(e[0].startTime):""}return""},getNavigationTimings:function(){return{unloadTime:i("unloadEventEnd")-i("unloadEventStart"),redirectTime:i("redirectEnd")-i("redirectStart"),dnsTime:i("domainLookupEnd")-i("domainLookupStart"),connectionTime:i("connectEnd")-i("connectStart"),requestTime:i("responseStart")-i("requestStart"),responseTime:i("responseEnd")-i("responseStart"),parsingTime:i("domInteractive")-i("domLoading"),domReadyCallbackTime:i("domContentLoadedEventEnd")-i("domContentLoadedEventStart"),onLdCallbackTime:i("loadEventEnd")-i("loadEventStart"),processingTime:i("domComplete")-i("domLoading"),navigationToResponse:i("responseStart")-i("navigationStart"),navigationToDomContentLoaded:i("domContentLoadedEventStart")-i("navigationStart"),navigationToOnLd:i("loadEventStart")-i("navigationStart"),fetchToResponse:i("responseStart")-i("fetchStart"),fetchToDomContentLoaded:i("domContentLoadedEventStart")-i("fetchStart"),fetchToOnLd:i("loadEventStart")-i("fetchStart"),responseToDomContentLoaded:i("domContentLoadedEventStart")-i("responseStart"),responseToOnLd:i("loadEventStart")-i("responseStart"),navigationToDomInteractive:i("domInteractive")-i("navigationStart")}},getPageName:function(e){return e.pageName||"unknown"},getGuid:function(e){return e.guid||"unknown"},getPageStartTime:function(e){var t=i("responseStart");isNaN(t)?e.pageStartTime=e.pageStartTime||r.getCurrentTime():e.pageStartTime=t}}},function(e,t,n){var r=/(?:(?:test|int|stress)\.expedia\.com|exp-(?:test|int)\.net|karmalab\.net|expedmz.com|staging.*\.(?:traveltainment\.de|myersmediagroup\.com)|localhost|docweb\.exp-tools\.net)$/i;e.exports={isProductionEnv:function(e){return!e.match(r)}}}])},function(e,t,n){(function(t){e.exports={adobeAnalyticsAccount:"expediaglobaldev",travelPixel:{url:"https://b.travel-assets.com/travel-pixel-js/1.0.0/app.js",domain:(t.location||{}).hostname,environment:"dev"},TRACK_API_URL:"/api/uisprime/track",TRACK_API_URL_CROSS_SITE:"https://wwwexpediacom.trunk.sb.karmalab.net/api/uisprime/track"}}).call(this,n(1))},function(e,t,n){(function(t){e.exports={adobeAnalyticsAccount:"expediaglobaldev",travelPixel:{url:"https://b.travel-assets.com/travel-pixel-js/1.0.0/app.js",domain:(t.location||{}).hostname,environment:"trunk"},TRACK_API_URL:"/api/uisprime/track",TRACK_API_URL_CROSS_SITE:"https://wwwexpediacom.trunk.sb.karmalab.net/api/uisprime/track"}}).call(this,n(1))},function(e,t,n){(function(t){e.exports={adobeAnalyticsAccount:"expediaglobal",travelPixel:{url:"https://b.travel-assets.com/travel-pixel-js/1.0.0/app.js",domain:(t.location||{}).hostname,environment:"prod"},TRACK_API_URL:"/api/uisprime/track",TRACK_API_URL_CROSS_SITE:"https://www.expedia.com/api/uisprime/track"}}).call(this,n(1))},function(e,t,n){(function(t){e.exports={adobeAnalyticsAccount:"expediaglobaldev",travelPixel:{url:"https://b.travel-assets.com/travel-pixel-js/1.0.0/app.js",domain:(t.location||{}).hostname,environment:"int"},TRACK_API_URL:"/api/uisprime/track",TRACK_API_URL_CROSS_SITE:"https://wwwexpediacom.trunk.sb.karmalab.net/api/uisprime/track"}}).call(this,n(1))},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(13),a=n(19),s=n(3),c=n(20),u=n(2),l=n(0).toLogStore,f="view",p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{context:[],tealiumContext:[],isDebugEnabled:!1};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t.context,this.tealiumContext=t.tealiumContext,this.isDebugEnabled=t.isDebugEnabled}return i(e,[{key:"mergePayloads",value:function(e){var t=this;this.tealiumUtagData=window.utag_data||{},this.tagCommanderData=window.tc_vars||{},e.forEach((function(e){e.tealiumUtagData&&s.mergeObjectsDeep(t.tealiumUtagData,e.tealiumUtagData),e.tagCommanderData&&s.mergeObjectsDeep(t.tagCommanderData,e.tagCommanderData)}))}},{key:"publish",value:function(e){var t=this;try{this.mergePayloads(e),a.getAllSchemas(this.context.overridenMicroMessages,e).then((function(e){0!==e.schema.length&&t.trackPrime(e.schema,f),t.context.isAutomaticAdobePageViewDisabled||g(t.tealiumUtagData,t.context,t.isDebugEnabled)}));var n=void 0;n=this.context.isPwa?this.context.tealiumContext?this.context.tealiumContext.tealiumAccountDetailsPWA:this.context.tealiumAccountDetailsPWA:this.context.tealiumContext?this.context.tealiumContext.tealiumAccountDetails:this.context.tealiumAccountDetails,!function(e,t,n){try{new(0,o.TagCommanderPublisher)({config:e,isDebugEnabled:n}).publish(t)}catch(r){console.error("[PlatformAnalyticsPrime] TagCommander publishing failed because of: "+r)}}(this.context.tc_context||this.tealiumUtagData.tc_context,this.context.tc_vars||this.tealiumUtagData.tc_vars,this.isDebugEnabled),d(this.tealiumUtagData,n,this.isDebugEnabled)}catch(r){console.error("[PlatformAnalyticsPrime] Error while publishing view event : "+r)}return!0}},{key:"trackEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";try{this.trackPrime(e,t)}catch(n){console.error("[PlatformAnalyticsPrime] Error while publishing "+t+" event: "+n)}return!0}},{key:"trackPrime",value:function(e,t){var n=this,r=o.UisPublisher,i=this.context&&this.context.applicationName,a=this.context&&this.context.traceIdOfTheView,s=this.context&&this.context.additionalHeaders,u=this.context&&this.context.applicationReleaseVersion,l=this.context&&this.context.awsRegion,p=this.context&&this.context.applicationReleaseVariant;c.addPageIdentity(e,this.context),c.addParentView(e,this.context),c.addVisitEvents(e,this.context);var d={applicationName:i,applicationReleaseVersion:u,awsRegion:l,applicationReleaseVariant:p,traceIdOfTheView:a,microMessages:e},h=((e[0]||{}).messageContent||{}).referrerId||this.context.pageName;new r({isDebugEnabled:this.isDebugEnabled,eventType:t,label:h,trackApiUrl:m(this.context.isCrossSite),additionalHeaders:s}).publish(d).then((function(e){var r=JSON.parse(e.response);"string"==typeof r&&(r=JSON.parse(r)),t===f&&n.context.isAutomaticAdobePageViewDisabled&&g(r.tealiumUtagData,r.context,n.isDebugEnabled)}))}},{key:"trackPageViewAndPublishToAdobe",value:function(e){return this.trackPageView(e)}},{key:"trackPageView",value:function(e){var t=this,n=this.context.pageName,r=new o.UisPublisher({isDebugEnabled:this.isDebugEnabled,eventType:f,label:n,trackApiUrl:m(this.context.isCrossSite)}),i={applicationName:this.context&&this.context.applicationName,traceIdOfTheView:this.context&&this.context.traceIdOfTheView,microMessages:e.microMessages};return r.publish(i).then((function(e){var n=JSON.parse(e.response);return"string"==typeof n&&(n=JSON.parse(n)),g(n.tealiumUtagData,n.context,t.isDebugEnabled),Promise.resolve(e)}))}}]),e}();function m(e){var t=u.getConfiguration();return e?t.TRACK_API_URL_CROSS_SITE:t.TRACK_API_URL}function d(e,t,n){try{if("object"!==(void 0===e?"undefined":r(e)))return void console.error("[TealiumPublisher] error: trying to publish something that is not an object (type was: "+(void 0===e?"undefined":r(e))+")");if(Object.keys(e).length>0)new(0,o.TealiumPublisher)({tealiumAccountDetails:t,isDebugEnabled:n}).publish(e)}catch(i){console.error("[PlatformAnalyticsPrime] Tealium publishing failed because of: "+i)}}function g(e,t,n){try{new(0,o.TravelPixelPublisher)(n).publish(e,t)}catch(a){var r=((e||{}).pageInfo||{}).pageName,i=((t||{}).pageIdentity||{}).pageIdentifier;l("Something went wrong with Travel-pixel library","travel-pixel",f,r||i,!0)}}e.exports={UisPrime:p,publishTealiumData:d,getTrackApiUrl:m}},function(e,t,n){var r=n(14),i=n(15),o=n(16).TagCommanderPublisher,a=n(17);e.exports={UisPublisher:r,TealiumPublisher:i,TagCommanderPublisher:o,TravelPixelPublisher:a}},function(e,t,n){(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(0).toLogStore;function o(e,t,n,r,a,s,c){var u="x-hcom-origin-id",l="x-page-id",f=/https:\/\/\w+.(staging1-)?(hotels|hoteis|hoteles).(com|cn)\/*/,p="ctx-view-id";return new Promise((function(m,d){var g={method:"POST",body:t};n.onload=function(){if(n.status>=200&&n.status<300)i({status:"successful",url:e,sentData:t},"uis",a,s,r),m(n);else if(405===n.status&&n.responseURL&&n.responseURL.match(f)){var u=new XMLHttpRequest;u.withCredentials=!0,m(o(n.responseURL,t,u,r,a,s,c))}else i({status:"FAILED - Http "+n.status,url:e,sentData:t},"uis",a,s,r),d(new Error("UIS ("+e+")replied with HTTP status code: "+n.status))},n.onerror=function(){return d(new Error("Could not connect to ",e))},n.ontimeout=function(){return d(new Error("Request timed out."))},n.open(g.method,e,!0),n.setRequestHeader("Content-type","text/plain"),c[u]&&n.setRequestHeader(u,c[u]),c[l]&&n.setRequestHeader(l,c[l]),c[p]&&n.setRequestHeader(p,c[p]);var h=JSON.stringify(g.body);n.send(h)}))}var a=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isDebugEnabled:!1,eventType:"",label:"",additionalHeaders:{}};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackApiUrl=n.trackApiUrl||"/api/uisprime/track",this.requestBody={},this.isDebugEnabled="boolean"==typeof n.isDebugEnabled&&n.isDebugEnabled,this.eventType=n.eventType,this.label=n.label,void 0!==t.uisDebugXmlHttpRequest?this.xmlHttpRequest=t.uisDebugXmlHttpRequest:this.xmlHttpRequest=new XMLHttpRequest,this.additionalHeaders=n.additionalHeaders||{}}return r(e,[{key:"publish",value:function(e){return this.requestBody=e,o(this.trackApiUrl,this.requestBody,this.xmlHttpRequest,this.isDebugEnabled,this.eventType,this.label,this.additionalHeaders)}}]),e}();e.exports=a}).call(this,n(1))},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),a=n(0).toLogStore,s="TEALIUM_OFF",c=new RegExp("page.affhub.home|page.affhub.programs","i"),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tealiumAccountDetails:{},env:void 0,isDebugEnabled:void 0};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!o.isBrowser())throw new Error("Tealium is only supported on a browser");this.isDebugEnabled=t.isDebugEnabled,this.tAccount="expedia",t.tealiumAccountDetails&&t.tealiumAccountDetails.tealiumAccountName&&(this.tAccount=t.tealiumAccountDetails.tealiumAccountName),this.tProfile="main",t.tealiumAccountDetails&&t.tealiumAccountDetails.tealiumProfileName&&(this.tProfile=t.tealiumAccountDetails.tealiumProfileName),this.env=o.isTestEnvironment()?"dev":"prod"}return i(e,[{key:"publish",value:function(e){return this.tAccount===s||this.tProfile===s||e&&e.context&&e.context.clientInfo&&e.context.clientInfo.requestMadeByBot||e&&e.pageInfo&&e.pageInfo.pageName&&c.test(e.pageInfo.pageName)?Promise.resolve():function(e,t,n,r,i){return new Promise((function(o){document.body?(l(e,t,n,r,i),o()):document.onreadystatechange=function(){"complete"===document.readyState&&(l(e,t,n,r,i),o())}}))}(e,this.tAccount,this.tProfile,this.env,this.isDebugEnabled)}}]),e}();function l(e,t,n,i,o){window.utag_data=e,document.getElementById("tealiumjs")?"object"===r(window.utag)&&"function"==typeof window.utag.view&&window.utag.view(e):function(e,t,n){var r=this,i=document.createElement("script");i.setAttribute("id","tealiumjs"),i.setAttribute("async",""),i.onerror=function(e){console.error("Error loading Tealium script",e),a(e,"tealium","view","error",r.isDebugEnabled)},i.src="//tags.tiqcdn.com/utag/"+e+"/"+t+"/"+n+"/utag.js",document.body.appendChild(i)}(t,n,i);var s=(e.pageInfo||{}).pageName;a(e,"tealium","view",s,o)}e.exports=u},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(2),o=n(0).toLogStore,a=function(){function e(t){var n=t.config,r=void 0===n?{}:n,o=t.isDebugEnabled;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!i.isBrowser())throw new Error("TagCommander is only supported on a browser");this.isDebugEnabled=o,this.enabled=r.enabled||!1,this.url=r.tcContainerUrl}return r(e,[{key:"publish",value:function(e){this.enabled&&function(e,t,n){if(!e)return;document.body?(s(t),c(e,n)):window.addEventListener("load",(function(){s(t),c(e,n)}));var r=t&&t.page_name?t.page_name:"";o(t,"tagCommander","view",r,n)}(this.url,e,this.isDebugEnabled)}}]),e}();function s(e){window.tc_vars=e}function c(e,t){if(window.self===window.top){var n=document.createElement("script");n.setAttribute("id","tcjs"),n.setAttribute("async",""),n.onerror=function(e){o(e,"tagCommander","view","error",t)};var r=u();r?setTimeout((function(){n.src=e,document.body.appendChild(n)}),r):(n.src=e,document.body.appendChild(n))}}function u(){var e=void 0;return void 0!==window.__PLUGIN_STATE__&&void 0!==window.__PLUGIN_STATE__["experiment-store"]&&void 0!==window.__PLUGIN_STATE__["experiment-store"].experimentStore&&void 0!==window.__PLUGIN_STATE__["experiment-store"].experimentStore.exposures&&void 0!==window.__PLUGIN_STATE__["experiment-store"].experimentStore.exposures.Lodging_Tag_Commander_Delay&&void 0!==window.__PLUGIN_STATE__["experiment-store"].experimentStore.exposures.Lodging_Tag_Commander_Delay.bucket&&"number"==typeof window.__PLUGIN_STATE__["experiment-store"].experimentStore.exposures.Lodging_Tag_Commander_Delay.bucket&&(e=window.__PLUGIN_STATE__["experiment-store"].experimentStore.exposures.Lodging_Tag_Commander_Delay.bucket),{1:1500,2:2e3}[e]}e.exports={TagCommanderPublisher:a,getDelayForMVT:u,addScript:c}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(2),o=n(18),a=n(4),s=n(0).toLogStore,c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDebugEnabled=t,this.hostname=window.location.hostname,this.readyToPublish=Promise.all([o.load(i)]).then((function(e){n.trvlPixApi=e[0]}))}return r(e,[{key:"publish",value:function(e,t){var n=this;return this.readyToPublish.then((function(){try{var r=e&&e.context&&e.context.user||{},i=e&&e.context&&e.context.site||{},o=t&&t.user||{},c=t&&t.site||{},u=void 0!==i.tpid&&null!==i.tpid?i.tpid:c.tpid,l=void 0!==i.eapid&&null!==i.eapid?i.eapid:c.eapid,f=void 0!==r.expUserProfileId&&null!==r.expUserProfileId?r.expUserProfileId:o.expUserId,p={guid:r.guid||o.deviceUserAgentId,tpid:u,eapid:l,expUserId:f,inAuthId:a.getCookie("IAID"),emailHash:r.xVisitorId||o.sha256HashedEmailAddress,serverPlatform:"bexg"},m=n.trvlPixApi.loadXdidApi(p),d=((e||{}).pageInfo||{}).pageName,g=((t||{}).pageIdentity||{}).pageIdentifier;return s({response:m||{}},"travelpixel","view",d||g,n.isDebugEnabled),m}catch(h){return console.log(h.stack),h}}))}}]),e}();e.exports=c},function(e,t,n){var r=n(0).toLogStore,i=(0,n(2).getConfiguration)().travelPixel;e.exports={load:function(){o||(o=function(){a||(a=new Promise((function(e,t){var n=function(){var t,n;e((t=window.travelPixel,n=void 0!==t&&new t.Waiter(i.domain,i.environment),r("TravelPixel","tpw","load","travelPixel",!1),n))};if(void 0===window.travelPixel){var o=document.createElement("script");o.onload=n,o.setAttribute("id","trvlpxjs"),o.setAttribute("async",""),o.onerror=function(e){console.error("Error loading TravelPixel script",e),t(e)},o.src=i.url,document.getElementsByTagName("head")[0].appendChild(o)}else n()})));return a}());return o}};var o=void 0,a=void 0},function(e,t,n){function r(e,t){if(t.length>1){var n=new Set;t.forEach((function(e){e.traceId&&n.add(e.traceId)}));var r=[];n.forEach((function(e){r.push(e)})),r.length>1&&e.push({schemaName:"mergeTraces",messageContent:{traceIds:r}})}}e.exports={getAllSchemas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return r(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]),e.length>0&&e.forEach((function(e){t.push(e)})),Promise.resolve({schema:t})},captureMergeTraces:r}},function(e,t,n){var r=n(0).toLogStore,i="pageIdentity",o="parentView",a="events";function s(e,t){var n,r=(n=t,e.filter((function(e){return e.schemaName===a&&e.messageContent.name===n})));0===r.length&&(r={schemaName:a,messageContent:{name:t}},e.push(r))}function c(e,t){return e.filter((function(e){return e.schemaName===t}))}e.exports={addPageIdentity:function(e,t){if(!(c(e,i).length>0))if(t.pageIdentity)e.push({schemaName:i,messageContent:t.pageIdentity});else{var n="PlatformAnalyticsPrime: pageIdentity not available in PlatformAnalytics instance";console.error(n),r(n,"PlatformAnalyticsPrime","track","error",!1)}},addParentView:function(e,t){c(e,o).length>0||e.push({schemaName:o,messageContent:{applicationNameOfTheView:t.applicationName,traceIdOfTheView:t.traceIdOfTheView}})},addVisitEvents:function(e,t){t.newVisit&&s(e,"NewVisit"),t.entryPageView&&s(e,"EntryPageView")}}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.platformAnalyticsInstance=t}return r(e,[{key:"pageName",get:function(){return this.platformAnalyticsInstance._ctx.pageName}}]),e}();e.exports=i},function(e,t,n){var r=n(2),i=n(4),o=n(3),a="unknown";e.exports={updateContextualInfoWithFirstPayload:function(e,t){e=e||{},t&&(t.applicationName&&!e.applicationName&&(e.applicationName=t.applicationName),t.traceId&&(e.traceIdOfTheView=t.traceId),t.context&&Object.keys(t.context).forEach((function(n){"pageIdentity"===n&&e.pageIdentity||"pageName"===n||(e[n]=t.context[n])})),t.tealiumContext&&(e.tealiumContext=e.tealiumContext||{},Object.keys(t.tealiumContext).forEach((function(n){e.tealiumContext[n]=t.tealiumContext[n]}))))},createContextualInfo:function(e){var t={};if(t.env=r.isTestEnvironment()?"dev":"prod",t.overridenMicroMessages=e&&e.overridenMicroMessages||[],t.deviceId=e&&e.deviceId||i.getCookie("DUAID"),t.overridenMicroMessages){var n=o.searchPageIdentity(t.overridenMicroMessages);n&&(t.pageIdentity=n.messageContent)}return t.pageName=t.pageIdentity?t.pageIdentity.pageIdentifier:a,t.hasPub=!1,t.isPwa=!!e.isPwa,t.isClientSidePageLoad=!1,t.isCrossSite=e.isCrossSite,t.traceIdOfTheView=e.traceIdOfTheView,t.applicationName=e.applicationName,t.isAutomaticAdobePageViewDisabled=!!e.isAutomaticAdobePageViewDisabled,t.additionalHeaders=e&&e.additionalHeaders||{},t.applicationReleaseVersion=e.applicationReleaseVersion,t.awsRegion=e.awsRegion,t.applicationReleaseVariant=e.applicationReleaseVariant,t},updatePageName:function(e,t){var n=e._ctx.pageName;return n===a&&(t.context&&t.context.pageIdentity?n=t.context.pageIdentity.pageIdentifier:t.adobeMappedData&&t.adobeMappedData.pageName?n=t.adobeMappedData.pageName:t.tealiumUtagData&&t.tealiumUtagData.pageInfo&&t.tealiumUtagData.pageInfo.pageName&&(n=((t.tealiumUtagData||{}).pageInfo||{}).pageName)),e._ctx.pageName=n,e.pageName=n,t.context.pageName=n,t.adobeMappedData&&t.adobeMappedData.pageName&&(t.adobeMappedData.pageName=n),t.tealiumUtagData&&t.tealiumUtagData.pageInfo&&t.tealiumUtagData.pageInfo.pageName&&(t.tealiumUtagData.pageInfo.pageName=n),n},UNSPECIFIED:a}},function(e,t,n){var r=n(3).mergeObjects,i=n(24),o=n(25),a=n(26);e.exports={injectMarketingData:function(e,t){if(e){var n=i.getMarketingDataFromCesc();e.adobeMappedData||(e.adobeMappedData={}),o.map(n,e.adobeMappedData,t),e.tealiumUtagData&&a.map(n,e.tealiumUtagData)}},updateDebugData:function(e){e.debug&&(e.adobeMappedData=e.adobeMappedData||{},e.debug.adobeMappedData=e.debug.adobeMappedData||{},r(e.debug.adobeMappedData,e.adobeMappedData),e.tealiumUtagData=e.tealiumUtagData||{},e.debug.tealiumUtagData=e.debug.tealiumUtagData||{},r(e.debug.tealiumUtagData,e.tealiumUtagData))}}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.campaignValue=t,this.timestamp=n}return r(e,[{key:"getCampaignValue",value:function(){return this.campaignValue}},{key:"getTimestamp",value:function(){return this.timestamp}},{key:"exists",value:function(){return this.campaignValue&&null!==this.timestamp}}]),e}();function o(){var e=function(){for(var e="cesc=",t=decodeURIComponent(document.cookie).split(";"),n=0;n<t.length;n+=1){for(var r=t[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return""}();return e&&e.length>1?JSON.parse(e):{}}var a="eml",s="dps",c="sem",u="semdtl",l="aff",f="ola",p="icm",m="entryPage",d="cid",g="cidVisit",h="gclid",v="seo",y="mcicid",b="visitNumber",w="hitNumber",k="marketingClick";function E(e){var t={},n=P(e,g);t.campaignIdVisit=n.getCampaignValue(),t.campaignIdVisitTimestamp=n.getTimestamp(),t.hitLevelCampaignId=n.getCampaignValue();var r=P(e,d);t.campaignId30Day=r.getCampaignValue(),t.campaignId30DayTimestamp=r.getTimestamp();var i=P(e,a);t.emailMarketingCode=i.getCampaignValue(),t.emailMarketingCodeTimestamp=i.getTimestamp();var o=P(e,s);t.distributionPartner=o.getCampaignValue(),t.distributionPartnerTimestamp=o.getTimestamp();var E=P(e,c);t.searchEngineMarketingCode=E.getCampaignValue(),t.searchEngineMarketingCodeTimestamp=E.getTimestamp();var x=P(e,l);t.affiliateMarketingCode=x.getCampaignValue(),t.affiliateMarketingCodeTimestamp=x.getTimestamp();var T=P(e,f);t.onlineAdvertisingCode=T.getCampaignValue(),t.onlineAdvertisingCodeTimestamp=T.getTimestamp();var C=P(e,p);t.intraCompanyMarketingCode=C.getCampaignValue(),t.intraCompanyMarketingCodeTimestamp=C.getTimestamp(),t.campaignIdInternalVisit=function(e,t){if(e&&t){var n=decodeURIComponent(t.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\\.\\+\\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"));return""!==n?n:null}return null}(y,window.location.href);var S=P(e,u);t.searchEngineMarketingDetails=S.getCampaignValue(),t.searchEngineMarketingDetailsTimestamp=S.getTimestamp();var _=P(e,h);t.googleClickIdentifier=_.getCampaignValue(),t.googleClickIdentifierTimestamp=_.getTimestamp();var M=P(e,v);t.searchEngineOptimisationCodeTimestamp=M.getTimestamp();var A=P(e,k);t.marketingClick=A.getCampaignValue();var I=P(e,m);t.entryPage=I.getCampaignValue();var L=P(e,b);t.visitNumber=L.getCampaignValue();var O=P(e,w);return t.hitNumber=O.getCampaignValue(),t}function P(e,t){if(e[t])try{var n=e[t];return new i(n[0],n[1])}catch(r){console.error("Campaign '{}' does not exist in cesc {}",t,e)}return new i(null,null)}e.exports={getCescCookieAsJson:o,toMarketingData:E,getMarketingDataFromCesc:function(){return E(o())}}},function(e,t,n){function r(e){return e||"NA"}e.exports={map:function(e,t,n){t.eVar10=r(e.campaignId30Day),t.eVar12=r(e.campaignIdInternalVisit),t.eVar13=r(e.emailMarketingCode),t.eVar14=r(e.distributionPartner),t.eVar15=r(e.searchEngineMarketingCode),t.eVar16=r(e.affiliateMarketingCode),t.eVar17=r(e.entryPage),t.eVar19=r(e.onlineAdvertisingCode),t.eVar21=r(e.intraCompanyMarketingCode),t.eVar23=r(e.visitNumber),t.eVar36=r(e.searchEngineMarketingDetails),t.eVar26=r(e.googleClickIdentifier),t.campaign=r(e.campaignIdVisit),e.hitLevelCampaignId&&"true"===e.marketingClick&&!n?(t.eVar22=e.hitLevelCampaignId,t.eVar27=e.hitLevelCampaignId,t.eVar33=e.hitLevelCampaignId,function(e,t){e.events?e.events.includes(t)||(e.events+=","+t):e.events=t}(t,"event227")):(delete t.eVar22,delete t.eVar27,delete t.eVar33)}}},function(e,t,n){e.exports={map:function(e,t){t.context||(t.context={}),t.context.marketingAttribution||(t.context.marketingAttribution={}),e.emailMarketingCode&&e.emailMarketingCodeTimestamp&&(t.context.marketingAttribution.emailId=e.emailMarketingCode,t.context.marketingAttribution.emailIdTimestamp=e.emailMarketingCodeTimestamp),e.distributionPartner&&e.distributionPartnerTimestamp&&(t.context.marketingAttribution.distributionPartners=e.distributionPartner,t.context.marketingAttribution.distributionPartnersTimestamp=e.distributionPartnerTimestamp),e.searchEngineMarketingCode&&e.searchEngineMarketingCodeTimestamp&&(t.context.marketingAttribution.searchEngineMarketingCode=e.searchEngineMarketingCode,t.context.marketingAttribution.searchEngineMarketingCodeTimestamp=e.searchEngineMarketingCodeTimestamp),e.googleClickIdentifier&&e.googleClickIdentifierTimestamp&&(t.context.marketingAttribution.googleClickIdentifier=e.googleClickIdentifier,t.context.marketingAttribution.googleClickIdentifierTimestamp=e.googleClickIdentifierTimestamp),e.searchEngineMarketingDetails&&e.searchEngineMarketingDetailsTimestamp&&(t.context.marketingAttribution.searchEngineMarketingDetails=e.searchEngineMarketingDetails,t.context.marketingAttribution.searchEngineMarketingDetailsTimestamp=e.searchEngineMarketingDetailsTimestamp),e.affiliateMarketingCode&&e.affiliateMarketingCodeTimestamp&&(t.context.marketingAttribution.affiliateMarketingCode=e.affiliateMarketingCode,t.context.marketingAttribution.affiliateMarketingCodeTimestamp=e.affiliateMarketingCodeTimestamp),e.onlineAdvertisingCode&&e.onlineAdvertisingCodeTimestamp&&(t.context.marketingAttribution.onlineAdvertisingCode=e.onlineAdvertisingCode,t.context.marketingAttribution.onlineAdvertisingCodeTimestamp=e.onlineAdvertisingCodeTimestamp),e.intraCompanyMarketingCode&&e.intraCompanyMarketingCodeTimestamp&&(t.context.marketingAttribution.intraCompanyMarketingCode=e.intraCompanyMarketingCode,t.context.marketingAttribution.intraCompanyMarketingCodeTimestamp=e.intraCompanyMarketingCodeTimestamp),e.campaignIdVisit&&e.campaignIdVisitTimestamp&&(t.context.marketingAttribution.campaignIdVisit=e.campaignIdVisit,t.context.marketingAttribution.campaignIdVisitTimestamp=e.campaignIdVisitTimestamp),e.campaignId30Day&&e.campaignId30DayTimestamp&&(t.context.marketingAttribution.campaignId=e.campaignId30Day,t.context.marketingAttribution.campaignIdTimestamp=e.campaignId30DayTimestamp),e.entryPage&&(t.context.marketingAttribution.entryPage=e.entryPage),t.context.marketingAttribution.pageName="D=pageName"}}}])}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/lotus-home-ui/pap.dc6262514a19d00d4706.js.map