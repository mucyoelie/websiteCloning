/*@license For license information please refer to blossom-lodging-search-hero.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8775],{97765:function(e,t,n){n.r(t),n.d(t,{Headings:function(){return U},LodgingSearchHero:function(){return j},default:function(){return F},getPrefilledInputs:function(){return V}});var r=n(96540),l=n(31370),a=n(50224),o=n(94220),i=n(90745),c=n(15144),s=n(34638),u=n(11564),d=n(16484),m=n(43857),p=n(68174),f=n(33222),g="amenities_facilities_group",v="location_group",h={hottub:g,pool:g,beach:v,lake:v,mountain:v,ocean:v,ski:v,familyfriendly:"properties_good_for_group"},b={hottub:"hot_tub",pool:"pool",beach:"beach",lake:"lake_location",mountain:"mountains_location",ocean:"ocean",ski:"skiin_skiout",familyfriendly:"families",APARTMENT:"apartment",BED_AND_BREAKFAST:"bed_and_breakfast",CABIN:"cabin",CASTLE:"castle",CHALET:"chalet",COUNTRY_HOUSE:"chateau",COTTAGE:"cottage",AGRITOURISM:"farmhouse",GUEST_HOUSE:"guest_house",APART_HOTEL:"hotel",VACATION_HOME:"house",HOUSE_BOAT:"houseboat",LODGE:"lodge",HOTEL_RESORT:"resort",CARAVAN_PARK:"RV",TOWNHOUSE:"townhouse",VILLA:"villa"},E=n(58246),y=n(86088),_=n(49790),S=n(61837),A=n(2067),O=n(71831),k=n(52431),C={event:{event_name:"sticky_search.presented",event_type:"Impression",event_version:"1.0.0",event_category:""},additional_context:{user_interface:{component_name:"sticky-lodging-search-form-cta-btn"}}},T={event:{event_name:"sticky_search.selected",event_type:"Interaction",event_version:"1.0.0",event_category:""},additional_context:{user_interface:{component_name:"sticky-lodging-search-form-cta-btn"}}},x=n(75826),N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},N.apply(this,arguments)},L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n},I=(0,A.q)(O.E),w=function(e){var t=e.moduleName,n=e.linkName,l=e.submitButtonText,a=e.className,i=e.isSticky,c=e.scrollTarget,s=L(e,["moduleName","linkName","submitButtonText","className","isSticky","scrollTarget"]),u=(0,x.iQ)();return r.createElement(_.CSSTransition,{in:i,timeout:300,classNames:"slide-in",mountOnEnter:!0,unmountOnExit:!0},r.createElement(o.b,{padding:"three"},r.createElement("div",N({className:(0,S.classNames)("StickyCTAMobileLSH",a)},s),r.createElement(I,{tag:"button",rfrr:"sticky_search",linkName:n||"Call to action click event in the lodging-search-form-hero-cta-btn",moduleName:t,className:"sticky-lodging-search-form-cta-btn",size:k.E.LARGE,isFullWidth:!0,"data-testid":"sticky-lodging-search-form-cta-btn",onClick:function(){var e=c&&c.current&&c.current.parentElement;e&&(e.scrollIntoView({block:"start",behavior:"smooth"}),e.focus(),u(T))}},l))))};w.displayName="StickyCTAMobileLSH";var P="lodgingSearchFormHero.sticky.cta.label",R=n(1192),H=n(68136),M=n(85625),D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},D.apply(this,arguments)},z=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,l,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(i){l={error:i}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(l)throw l.error}}return o},B=function(e){var t=e.enableAutoOpenCalendar,n=e.sticky,l=e.enablePrefillDestination,a=e.prefillInputs,o=(e.xPageId,e.brand),i=(0,E.Y)(y.B.LODGING_SRP).prefetchSRPAssets,c=(0,H.tF)(o).triggerPreloadingSearch,s=r.useCallback((function(e,t,n){i(e),c(e,t,n)}),[i]),u=D(D({},{includeFlexibleCalendarContent:!0,includeFlexibleDatesContent:!0}),{onFieldChange:s}),m=D(D({},u),{inputs:{},autoOpenCalendar:t,redirectToSearchResultOnSubmit:!0,enableReflection:!0});return r.createElement(d.i,{border:!0,padded:!0,overflow:!0,backgroundTheme:"secondary"},r.createElement("section",{"data-testid":"".concat(n?"sticky-":"","lodging-search-form-hero")},l&&a?r.createElement("div",{"data-testid":"prefill-lodging-search-form-hero"},r.createElement(f.Z0,D({},m,{inputs:a}))):r.createElement(f.Z0,D({},m))))};B.displayName="LodgingSearch";var U=function(e){var t=e.title,n=e.subTitle,l=e.textAlign,a=e.textAlignSmallViewport;return r.createElement(r.Fragment,null,t&&r.createElement(o.b,{margin:{small:{blockend:"three"},medium:{blockend:"six"}}},r.createElement("div",null,r.createElement("div",{"data-theme-light":"bright-1"},r.createElement(p.LM,null,r.createElement(p.NP,null,r.createElement(i.E,{tag:"h1",size:3,typeStyle:{customTheme:"standard",customStyle:"display-small"}},r.createElement(o.b,{padding:{blockend:"one"}},r.createElement(i.c,{theme:"inverse",size:700,align:a},t)))),r.createElement(p.rw,null,r.createElement(i.E,{tag:"h1",size:2,typeStyle:{customTheme:"standard",customStyle:"display-medium"}},r.createElement(o.b,{padding:{blockend:"one"}},r.createElement(i.c,{theme:"inverse",size:900,align:l},t)))))),n&&r.createElement(p.LM,null,r.createElement(p.NP,null,r.createElement(i.b,{tag:"p"},r.createElement(i.c,{theme:"inverse",size:400,weight:"bold",align:a},n))),r.createElement(p.rw,null,r.createElement(i.b,{tag:"p"},r.createElement(i.c,{theme:"inverse",size:600,weight:"bold",align:l},n)))))))},j=(0,a.L)("flexModuleModelStore","context","page")((0,l.observer)((function(e){var t,n,l,a,i=e.templateComponent,d=e.flexModuleModelStore,f=e.context,g=e.page;if(!i||!d)return null;var v=i.metadata.id,h=d.getModel(v),b=Boolean(f&&f.deviceInformation&&f.deviceInformation.mobile);if(!h)return null;var E=h.title,y=h.subTitle,_=h.textAlign,S=h.textAlignSmallViewport,A=h.enableAutoOpenCalender,O=h.enablePrefillDestination,k=h.showStickyCTAMobile,T=1===(0,M.useExperiment)("Jump_banner_on_DLP_MWeb",b&&!!k).exposure.bucket,N=E||y,L=(0,R.useLocalization)().formatText,I={enableAutoOpenCalendar:A,enablePrefillDestination:O,prefillInputs:V(f),brand:null===(t=null==f?void 0:f.site)||void 0===t?void 0:t.brand,deviceType:null===(n=null==f?void 0:f.deviceInformation)||void 0===n?void 0:n.type,pageType:null===(l=null==f?void 0:f.searchContext)||void 0===l?void 0:l.pageType,xPageId:null!==(a=null==g?void 0:g.pageId)&&void 0!==a?a:""},H=r.useRef(null),j=b&&T&&!!k,F=z(r.useState(!1),2),G=F[0],K=F[1];r.useEffect((function(){return j&&window.addEventListener("scroll",Z),function(){window.removeEventListener("scroll",Z)}}),[]);var W=(0,x.iQ)(),Q=!1,Y=function(e){e<0&&!Q&&(W(C),Q=!0),e<0||(Q=!1)},Z=r.useCallback((function(){if(j&&H&&H.current){var e=H.current.getBoundingClientRect().bottom;K(e<0),Y(e)}}),[H,K,Y]);return r.createElement(s.d,{type:"absolute",position:{top:"zero",right:"zero",bottom:"zero",left:"zero"},cloneElement:!0},r.createElement(u.a,{layout:"centered",canvasTheme:"none"},r.createElement(o.b,{padding:{inline:"three",block:"unset"}},r.createElement(c.i,{direction:"column",justifyContent:"center"},N&&r.createElement(U,{textAlign:_,textAlignSmallViewport:S,title:E,subTitle:y}),j&&r.createElement(p.LM,null,r.createElement(p.NP,null,r.createElement(w,{isSticky:G,moduleName:"sticky-lodging-search-form-hero-cta-button",submitButtonText:L(P),scrollTarget:H})),r.createElement(p.rw,null)),r.createElement("div",{className:"LodgingSearchFormHero",ref:H,"data-testid":"scroll-target-lodging-search-form-hero"},r.createElement(p.LM,null,r.createElement(p.NP,null,r.createElement(B,D({},I))),r.createElement(p.rw,null,r.createElement(m.E,{zIndex:400},r.createElement(B,D({},I,{sticky:!0}))))))))))})));j.displayName="LodgingSearchHero";var F=j,V=function(e){var t,n,r,l,a={propertySearchCriteriaInput:{primary:{destination:{regionId:function(){var t;return(null===(t=null==e?void 0:e.searchContext)||void 0===t?void 0:t.location)?e.searchContext.location.id.toString():null}()},rooms:[]}}};if(null===(n=null===(t=null==e?void 0:e.searchContext)||void 0===t?void 0:t.alternativeAccommodation)||void 0===n?void 0:n.lodgingUrlCode)(i=b[e.searchContext.alternativeAccommodation.lodgingUrlCode])&&(a.propertySearchCriteriaInput.secondary={selections:[{id:"property_type_group",value:i}]});else if(null===(l=null===(r=null==e?void 0:e.searchContext)||void 0===r?void 0:r.affinity)||void 0===l?void 0:l.code){var o=h[e.searchContext.affinity.code],i=b[e.searchContext.affinity.code];o&&i&&(a.propertySearchCriteriaInput.secondary={selections:[{id:o,value:i}]})}return a}}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/lotus-home-ui/blossom-lodging-search-hero.fc233e78bda2d32f8faa.js.map