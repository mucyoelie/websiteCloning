/*@license For license information please refer to 3222.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3222],{33222:function(e,t,a){a.d(t,{EB:function(){return Qo},Hb:function(){return Ce},Rn:function(){return be},UG:function(){return Ie},UX:function(){return Ys},Vn:function(){return Me},XU:function(){return _u},Z0:function(){return Cp},c4:function(){return ns},cY:function(){return Km},g9:function(){return $e},tX:function(){return fe}});var n=a(96540),l=a(16484),r=a(94220),i=a(14764),o=a(43857),c=a(82960),s=a(612),d=a(68174),u=a(77643),m=a(36360),p=a(2619),y=a(93149),_=a(94495),S=a(25466),E=a(75826),g=a(1023),h=a(67226),v=a(30313),D=a(34638),f=a(15144),T=a(47576),b=a(63134),C=a(69596),I=a(46198),A=a(90745),F=a(61837),O=a(71831),k=a(52431),G=a(77969),R=a(85625),L=a(48831),P=a(57732),M=a(15430),N=a(24355),x=a(68098),B=a(49784),$=a(1192),W=a(8508),w=a(10159),U=a(61917),H=a(67045),V=a(68963),z=a(48979),Y=a(13783),q=a(88427),j=a(88753),K=a(38209),J=a(18518),Q=a(91214),X=a(27438),Z=a(40051),ee=a(43298),te=a(83885),ae=a(65618),ne=a(77027),le=a(39938),re=a(44858),ie=a(67811),oe=a(15685),ce=a(56755),se=a(33055),de=Object.defineProperty,ue=Object.defineProperties,me=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,Se=(e,t,a)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ee=(e,t)=>{for(var a in t||(t={}))ye.call(t,a)&&Se(e,a,t[a]);if(pe)for(var a of pe(t))_e.call(t,a)&&Se(e,a,t[a]);return e},ge=(e,t)=>ue(e,me(t)),he=e=>{const[t,a]=n.useState(!1),{children:l}=e;return n.createElement(o.E,{zIndex:500,onFixed:e=>{a(e)}},n.createElement(c.b,{elevation:t?"floating":"default",toolbarType:t?"standard":"transparent"},n.createElement(s.V,{layout:"fullwidth",canvasTheme:t?"primary":"none",paddedViewRow:!1},n.createElement(r.b,{padding:{block:"four",inline:t?"three":void 0}},n.createElement("div",{"data-stid":"sticky-search-form"},l)))),!t&&n.createElement(r.b,{padding:"six"},n.createElement("div",null)))},ve=(e=>(e.LOWER="LOWER",e.UPPER="UPPER",e))(ve||{}),De=(e=>(e.DAY="DAY",e.MONTH="MONTH",e.WEEK="WEEK",e.WEEKEND="WEEKEND",e))(De||{}),fe=(e=>(e.MULTI_DESTINATION="MULTI_DESTINATION",e.ONE_WAY="ONE_WAY",e.ROUND_TRIP="ROUND_TRIP",e))(fe||{}),Te=(e=>(e.FROM_AIRPORT="FROM_AIRPORT",e.ROUNDTRIP="ROUNDTRIP",e.TO_AIRPORT="TO_AIRPORT",e))(Te||{}),be=(e=>(e.FLIGHT_CAR="FLIGHT_CAR",e.FLIGHT_HOTEL="FLIGHT_HOTEL",e.FLIGHT_HOTEL_CAR="FLIGHT_HOTEL_CAR",e.HOTEL_ACTIVITY="HOTEL_ACTIVITY",e.HOTEL_CAR="HOTEL_CAR",e))(be||{}),Ce=(e=>(e.CFAR_DETAILS="CFAR_DETAILS",e.CHECKOUT="CHECKOUT",e.CHECKOUT_ERROR="CHECKOUT_ERROR",e.CONFIRMATION="CONFIRMATION",e.DETAILS="DETAILS",e.ENTRY="ENTRY",e.FEATURES="FEATURES",e.INSURANCE_DETAILS="INSURANCE_DETAILS",e.ITINERARY="ITINERARY",e.PAYMENT_ERROR="PAYMENT_ERROR",e.POST_BOOKING="POST_BOOKING",e.SEARCH_RESULTS="SEARCH_RESULTS",e.SYSTEM="SYSTEM",e.USER="USER",e))(Ce||{}),Ie=(e=>(e.ACTIVITIES="ACTIVITIES",e.ALL_INCLUSIVE="ALL_INCLUSIVE",e.CARS="CARS",e.CRUISES="CRUISES",e.EVENTS="EVENTS",e.FLIGHTS="FLIGHTS",e.LODGING="LODGING",e.PACKAGES="PACKAGES",e))(Ie||{}),Ae=["localhost","wwwexpediacom","shared-ui.expedia.biz"],Fe=e=>{const{children:t}=e,a=Ae.includes(window.location.hostname);return n.createElement(n.Fragment,null,a&&n.createElement(r.b,{margin:{blockend:"three"}},n.createElement(y.p,{theme:"warning",text:"Fallback is in use"},n.createElement(_.a,{size:_.E.MEDIUM,name:"warning"}))),t)};Fe.displayName="FallbackBadge";var Oe=u.J1`
  fragment SearchFormProductSelectorFragment on SearchFormProductSelector {
    products {
      ...SearchFormProductFragment
    }
  }

  fragment SearchFormProductFragment on SearchFormProduct {
    clickAnalytics {
      linkName
      referrerId
    }
    id
    label
    selected
    type
    targetURI
  }
`,ke=e=>{const{data:t,initialSelectedProduct:a,onProductTypeSelection:l}=e,{products:r}=t,i=(0,E.KY)(),o=r.findIndex((({type:e})=>e===a)),[c,s]=n.useState(-1!==o?o:0),u={selectedTab:c,onTabSelect:e=>{const{clickAnalytics:t,type:a,targetURI:n}=r[e];if(t){const{linkName:e,referrerId:a}=t;i(a,e)}(null==n?void 0:n.startsWith("http"))?window.open(n,"_blank"):(s(e),l(a))},tabsType:S.c.NATURAL,targetURI:""},m=r.map(((e,t)=>{const{id:a,label:l,targetURI:r}=e;return n.createElement(S.E,{key:t,id:null!=a?a:void 0,name:l,targetURI:null!=r?r:""})}));return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(S.f,Ee({},u),m)),n.createElement(d.rw,null,n.createElement(S.f,ge(Ee({className:"uitk-card-roundcorner-top-left uitk-card-roundcorner-top-right"},u),{centerAlign:!0}),m)))};ke.displayName="SearchFormProductSelector",ke.fragment=Oe;var Ge={SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE"),SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER:new p.SystemEvent(p.SystemEventLevel.INFO,"SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER")},Re={__typename:"SearchFormProductSelector",products:[{clickAnalytics:{linkName:"Lodging search form selected",referrerId:"Web.SearchForm.Product.Selector.Lodging.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_lodging",label:"Stays",selected:!0,targetURI:"/Hotels",type:"LODGING",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Flights search form selected",referrerId:"Web.SearchForm.Product.Selector.Flights.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_flights",label:"Flights",selected:!1,targetURI:"/Flights",type:"FLIGHTS",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Cars search form selected",referrerId:"WebSearchForm.Product.Selector.Cars.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_cars",label:"Cars",selected:!1,targetURI:"/Cars",type:"CARS",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Packages search form selected",referrerId:"Web.SearchForm.Product.Selector.Packages.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_packages",label:"Packages",selected:!1,targetURI:"/Vacation-Packages",type:"PACKAGES",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"All-inclusive vacations selected",referrerId:"Web.SearchForm.Product.Selector.AllInclusive.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_all_inclusive",label:"All-inclusive vacations",selected:!1,targetURI:"/",type:"ALL_INCLUSIVE",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Activities search form selected",referrerId:"Web.SearchForm.Product.Selector.Activities.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_activities",label:"Things to do",selected:!1,targetURI:"/Activities",type:"ACTIVITIES",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Cruises search form selected",referrerId:"Web.SearchForm.Product.Selector.Cruises.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_cruises",label:"Cruises",selected:!1,targetURI:"/Cruises",type:"CRUISES",__typename:"SearchFormProduct"}]},Le=u.J1`
  query ProductSelectorQuery($context: ContextInput!) {
    searchForm(context: $context) {
      productSelector {
        ...SearchFormProductSelectorFragment
      }
    }
  }
  ${ke.fragment}
`,Pe=e=>{var t,a,l;const{inputs:r,skipSsr:i,skipQuery:o,batchKey:c}=e,{context:s}=(0,m.R)(),d=(0,p.useLoggerEvents)(Ge),u=ge(Ee({},r),{context:s}),{data:y,error:_,loading:S}=(0,g.I)(Le,{context:{batchKey:c},variables:u,ssr:!i,skip:!!o});if(S)return null;if(_)return d.SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE.log({name:_.name,error:new Error(_.message)}),n.createElement(Fe,null,n.createElement(ke,ge(Ee({},e),{data:Re})));const E=null!=(l=null==(a=null==(t=null==y?void 0:y.searchForm)?void 0:t.productSelector)?void 0:a.products)?l:[];if(!y||E.length<=1){return 1===E.length&&d.SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER.log({name:"A single product is rendered"}),null}return n.createElement(ke,ge(Ee({},e),{data:y.searchForm.productSelector}))};Pe.displayName="sharedui-ProductSelector";var Me=e=>{var t,a,o,c,s,u,m,p;const{batchKey:y,initialSelectedProduct:_,onProductTypeSelection:S,searchFormOptionsByLob:E,sticky:g}=e,[h,v]=n.useState(_),D={batchKey:y,onFieldChange:()=>{},redirectToSearchResultOnSubmit:!0},f=null==(t=null==E?void 0:E.lodging)?void 0:t.inputs,T=null==(a=null==E?void 0:E.flights)?void 0:a.inputs,b=null==(o=null==E?void 0:E.cars)?void 0:o.inputs,C=null==(c=null==E?void 0:E.activities)?void 0:c.inputs,I=null==(s=null==E?void 0:E.cruises)?void 0:s.inputs;E&&(e=>{const t=Ee({},e);for(const a in t)t[a]&&"enableReflection"in t[a]&&(t[a].enableReflection=!1)})(E);const A={LODGING:n.createElement(Cp,ge(Ee(Ee({},D),null==E?void 0:E.lodging),{inputs:null!=f?f:{}})),FLIGHTS:n.createElement(Km,ge(Ee(Ee({},D),null==E?void 0:E.flights),{inputs:null!=T?T:{includeFlightType:!0,flightSearchCriteria:{primary:{journeyCriterias:[],travelers:[],tripType:"ROUND_TRIP"}},fixedTravelers:!1,disabledCabins:null}})),CARS:n.createElement(Qo,ge(Ee(Ee({},D),null==E?void 0:E.cars),{inputs:null!=b?b:{carSearchCriteria:null}})),PACKAGES:n.createElement(_u,ge(Ee(Ee({},D),null==E?void 0:E.packages),{inputs:{packageSearchCriteria:{primary:(null==(p=null==(m=null==(u=null==E?void 0:E.packages)?void 0:u.inputs)?void 0:m.packageSearchCriteria)?void 0:p.primary)||{}},packageType:"FLIGHT_HOTEL",includePackageType:!0}})),ALL_INCLUSIVE:n.createElement(Jl,{inputs:{}}),ACTIVITIES:n.createElement(ns,ge(Ee(Ee({},D),null==E?void 0:E.activities),{inputs:null!=C?C:{activitySearchCriteria:null}})),CRUISES:n.createElement(Ys,ge(Ee(Ee({},D),null==E?void 0:E.cruises),{inputs:null!=I?I:{cruiseSearchCriteriaInput:null}}))},F=n.createElement("div",{id:`search_form_product_selector_${h.toLowerCase()}`},A[h]),O=n.createElement(Pe,{batchKey:y,inputs:{},onProductTypeSelection:e=>{v(e),null==S||S(e)},initialSelectedProduct:_}),k=n.createElement(l.i,{border:!0,overflow:!0},n.createElement("div",null,O,n.createElement(r.b,{padding:"six"},F))),G=n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,O,n.createElement(r.b,{margin:{blockstart:"six"}},F))),n.createElement(d.rw,null,g?n.createElement(he,null,k):n.createElement("div",null,k)));return n.createElement("div",{"data-stid":"search-form-sticky"},n.createElement(i.tb,null,G))},Ne={ONE_ONE:h.E.R1_1,FOUR_THREE:h.E.R4_3,SIXTEEN_NINE:h.E.R16_9,THREE_TWO:h.E.R3_2,THREE_FOUR:h.E.R3_4,TWENTY_ONE_NINE:h.E.R21_9,FOUR_ONE:h.E.R4_1},xe=({batchKey:e,initialSelectedProduct:t})=>n.createElement(f.i,{direction:"column",alignItems:"center"},n.createElement(f.j,{minWidth:"full_width",maxWidth:"full_width"},n.createElement("div",null,n.createElement(r.b,{margin:{blockstart:"three",inline:"three"}},n.createElement("section",{"data-testid":"multi-product-search-form-with-background-image"},n.createElement(l.i,{border:!0},n.createElement(l.m,null,n.createElement(Me,{batchKey:e,initialSelectedProduct:t})))))))),Be=u.J1`
  query SearchFormBackgroundImageQuery($context: ContextInput!, $uriContext: UriContextInput!, $contentTopic: String!, $experienceType: String!) {
    travelExperienceManagerContent(context: $context, uriContext: $uriContext, contentTopic: $contentTopic, experienceType: $experienceType) {
      editorialComponent {
        content {
          ... on EMMediaComponents {
            items {
              mediaType {
                ... on Image {
                  description
                  src: url
                  aspectRatio
                }
              }
            }
          }
        }
      }
    }
  }
`,$e=e=>{var t,a;const{batchKey:l,initialSelectedProduct:r,inputs:i,skipSsr:o}=e,{context:c}=(0,m.R)(),s=ge(Ee({},i),{context:c}),{data:u,error:p,loading:y}=(0,g.I)(Be,{variables:s,ssr:!o});if(y||p||!u||!u.travelExperienceManagerContent.editorialComponent||!u.travelExperienceManagerContent.editorialComponent.content)return n.createElement("div",null,n.createElement(xe,{batchKey:l,initialSelectedProduct:r}));const{content:_}=u.travelExperienceManagerContent.editorialComponent;if("EMMediaComponents"!==_.__typename||1!==(null==(t=_.items)?void 0:t.length)||"Image"!==(null==(a=_.items[0])?void 0:a.mediaType.__typename))return n.createElement("div",null,n.createElement(xe,{batchKey:l,initialSelectedProduct:r}));const{aspectRatio:S,description:E,src:f}=_.items[0].mediaType;return n.createElement("div",null,n.createElement(v.E,null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(xe,{batchKey:l,initialSelectedProduct:r})),n.createElement(d.rw,null,n.createElement(D.d,{type:"relative"},n.createElement(h.a,{ratio:S?Ne[S]:h.E.R4_1},n.createElement(h.b,{placeholderImage:!0,alt:E,src:f})),n.createElement(D.d,{type:"absolute",position:{top:"center",right:"four",left:"four"}},n.createElement(xe,{batchKey:l,initialSelectedProduct:r})))))))};$e.displayName="sharedui-SearchFormWithBackgroundImage";var We=({rows:e})=>n.createElement(n.Fragment,null,e.map((({type:e},t)=>n.createElement(r.b,{key:t,padding:0===t?void 0:{blockstart:"three"}},n.createElement("div",null,n.createElement(T.b,{animation:!0,type:e}))))));function we(e,t,a){return e.replace(`\${${t}}`,a)}var Ue=e=>e.includes("(")?e.split("(")[0].trim():e.trim(),He=({textFragment:e,values:t,count:a=0,locale:n="en-US"})=>{if(!e||"EGDSCardinalLocalizedText"!==e.__typename)return"";const{templates:l,models:r}=e,i=new Intl.PluralRules(n.replace("_","-")).select(a).toUpperCase(),o=l.find((e=>e.category===i));return o&&r?function(e,t,a){return t.reduce(((e,t,n)=>we(e,t.key,a[n])),e)}(o.template,r,t):""},Ve=u.J1`
  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {
    egdsElementId
    goToErrorLinkText
    goToFirstErrorLinkText
    heading
    body {
      text
    }
    analytics {
      linkName
      referrerId
    }
    impressionAnalytics {
      linkName
      referrerId
    }
    headingTemplate {
      ... on EGDSCardinalLocalizedText {
        models {
          key
          source
        }
        templates {
          category
          template
        }
      }
    }
  }
`,ze=({errorCount:e=0,inputErrorRef:t,data:a})=>{var l,r;const i=(0,E.KY)(),{body:o,goToErrorLinkText:c,goToFirstErrorLinkText:s,heading:d,analytics:u,impressionAnalytics:m,headingTemplate:p}=a,y=0===e,_=1===e,S=n.createRef();if(n.useEffect((()=>{var e;(0,F.liveAnnounce)(h,F.Level.ASSERTIVE),null==(e=S.current)||e.focus()}),[]),y)return null;const g=_?c:s,h=d.trim()?d:(e=>{if("EGDSCardinalLocalizedText"===(null==p?void 0:p.__typename)){const t=p.templates.slice(1,3),a=_?"":p.models[0].key;return we(_?t[0].template:t[1].template,a,e.toString())}return""})(e);return n.createElement(E.ee,{referrerId:null!=(l=null==m?void 0:m.referrerId)?l:"",linkName:null!=(r=null==m?void 0:m.linkName)?r:""},n.createElement(C.E,{theme:"error"},n.createElement(A.E,{size:7,"aria-level":3},h),o&&n.createElement(A.c,{size:300},o.text),g&&n.createElement(I.E,{domRef:S},n.createElement("button",{type:"button",onClick:()=>{var e;if(null==(e=null==t?void 0:t.current)||e.focus(),u){const{referrerId:e,linkName:t}=u;i(_?`${e}.One.Error`:`${e}.Many.Errors`,t)}}},g))))};ze.displayName="SearchToolsEGDSErrorSummary",ze.fragment=Ve;var Ye=u.J1`
  fragment EGDSButtonFragment on EGDSButton {
    primary
    disabled
    accessibility
    icon {
      id
      description
      token
      title
    }
    analytics {
      linkName
      referrerId
    }
    action {
      accessibility
    }
  }
`,qe=u.J1`
  fragment EGDSSearchFormButtonFragment on EGDSSearchFormButton {
    egdsElementId
    ...EGDSButtonFragment
    onClick {
      ...EGDSSubmitSearchFormActionFragment
    }
  }

  fragment EGDSSubmitSearchFormActionFragment on EGDSSubmitSearchFormAction {
    analytics {
      linkName
      referrerId
    }
  }
  ${Ye}
`,je=({children:e,submitButtonProps:t,primary:a,isFullWidth:l=!1})=>n.createElement(O.E,ge(Ee({},t),{size:k.E.LARGE,"aria-label":null!=a?a:"",isFullWidth:l}),e),Ke=({data:e,isFullWidth:t=!1})=>{var a,l;const r=(0,E.KY)(),{egdsElementId:i,primary:o,disabled:c,onClick:s,icon:u}=e,m={id:null!=i?i:"search_form_submit_button",disabled:c,onClick:n.useCallback((()=>{if(s&&"EGDSSubmitSearchFormAction"===s.__typename){const{referrerId:e,linkName:t}=s.analytics;r(e,t)}}),[s,r]),type:"submit"};return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(je,{isFullWidth:!0,submitButtonProps:m,primary:o},o)),n.createElement(d.rw,null,u?n.createElement(je,{submitButtonProps:m,primary:o,isFullWidth:t},n.createElement(_.a,{name:null!=(a=null==u?void 0:u.token)?a:"search",title:null!=(l=null==u?void 0:u.title)?l:"",id:null==u?void 0:u.id})):n.createElement(je,{submitButtonProps:m,primary:o,isFullWidth:t},o)))};Ke.displayName="EGDSSearchFormButton",Ke.fragment=qe;var Je=0;var Qe=function(e){const t=n.useRef();if(!t.current){const a=Je+=1;t.current=e?`${e}-${a}`:`dialog-${a}`}return t.current},Xe=(e,t,a)=>{const n=new CustomEvent("change"),l=document.createElement("input");a&&(l.type=a),l.value=e;const r=e=>{t(e)};l.addEventListener("change",r),l.dispatchEvent(n),l.removeEventListener("change",r)},Ze=(e=>(e.BOTTOM="BOTTOM",e.CENTERED="CENTERED",e.FULLSCREEN="FULLSCREEN",e.POPOVER="POPOVER",e.SIDE="SIDE",e))(Ze||{}),et=e=>0===e?"ZERO":1===e?"ONE":2===e?"TWO":e>2&&e<5?"FEW":e>=5&&e<10?"MANY":"OTHER",tt="yyyy-MM-dd",at=e=>{const t=864e5*e;return new Date((new Date).getTime()+t)},nt=e=>Math.ceil(e/1e3/60/60/24),lt=({year:e,month:t,day:a})=>new Date(e,t-1,a),rt=/[٠-٩]/,it=e=>{if("string"==typeof e)return t=e,rt.test(t)?t.replace(/[٠-٩]/g,(e=>String.fromCharCode(e.charCodeAt(0)-1632+48))):t;var t;const a=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0");return`${e.getFullYear()}-${n}-${a}`},ot={SUN:N.j.SUN,MON:N.j.MON,TUE:N.j.TUE,WED:N.j.WED,THU:N.j.THU,FRI:N.j.FRI,SAT:N.j.SAT},ct=e=>{var t;return!!(null==(t=null==e?void 0:e.value)?void 0:t.startsWith("0"))},st=(e,t,a)=>{const n=new Date(e.year,e.month,e.day);return!e.isPast&&(t&&a?n>=t&&n<=a:t&&!a?n>=t:!(!t&&a)||n<=a)},dt=e=>new Date(`${e}T00:00:00`),ut=(e,t,a,n,l)=>{const r=n,{formatDateString:i}=l;if(e&&t){const n=new Date(e),l=new Date(t);if(n<l){n.setDate(n.getDate()+1);for(let e=n;e<=l;e.setDate(e.getDate()+1)){const t=i(e,{raw:tt});r[t]&&(r[t].isWithinDateRange=a)}}}return r},mt=(e,t,a,n,l,r,i,o,c)=>{const s=e;return a&&s[a]&&(s[a].isSelected=!0,n&&s[n]&&(s[n].isSelected=!0)),l&&s[l]&&(!t||i&&l!==a)&&(s[l].isSelected=!1),c&&s[c]&&(s[c].isSelected=!0),r&&s[r]&&(s[r].isSelected=!0),r&&s[r]&&o&&l!==c&&r!==c&&(s[r].isSelected=!1),s},pt=e=>e.locale?e.locale.replace("_","-"):"en-US",yt=e=>String(e).padStart(2,"0"),_t=e=>({positive:"positive",standard:"default"}[e.theme]||"default"),St=e=>{const t={defaults:null};return e.forEach((e=>{const a=`${(n=e.date).year}-${yt(n.month)}-${yt(n.day)}`;var n;t[a]=(e=>{var t;return{dateText:{textTheme:_t(e),date:e.date},accessibilityText:null!=(t=e.accessibilityText)?t:null,isSelected:!1,isWithinDateRange:!1}})(e)})),t},Et=e=>({day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}),gt=e=>Ee({__typename:"Date"},Et(e)),ht=(e,t,a)=>"flights"===e&&(null==t?void 0:t.journeyCriteria)&&t.journeyCriteria.length>0?{journeyCriteria:t.journeyCriteria.map((e=>({origin:e.origin,destination:e.destination,departureDate:e.departureDate}))),flightsSearchContext:{tripType:a?"ROUND_TRIP":"ONE_WAY"}}:null;function vt(e){return null!==e}var Dt=e=>{const{day:t,dayData:a}=e,{day:l,isPast:r,isToday:i}=t,{dateText:o,isSelected:c,isWithinDateRange:s,validStartDate:d,validEndDate:u}=a||{},m=!st(t,d,u),{textTheme:p}=o||{},y=n.useMemo((()=>{if(!c){if(r)return"muted";if("positive"===p&&c)return"default"}return"default"}),[c,i,r]);return n.createElement("div",{"data-stid":c?"selected":s?"in-range":"positive"===p||"negative"===p?i?`today-${p}`:p:i?"today":"default"},n.createElement(M.Tm,{theme:!c&&!s&&!r&&p||"default",backgroundShape:"rounded"},n.createElement(P.d,{"aria-disabled":"true",theme:y,size:300,weight:"regular",disabled:m},"positive"!==p||c||s?l:n.createElement(A.c,{theme:"inverse"},l))))},ft=(e,t)=>st(t,e.validStartDate,e.validEndDate);Dt.canClick=ft,Dt.canSpan=ft,Dt.getAriaLabel=(e,t,a)=>{const{localeDateString:n}=t,{accessibilityText:l}=e,r=l?we(l,"date",n):n;return st(t,e.validStartDate,e.validEndDate)?r:a.formatText("calendar.unavailable.a11yLabel",n)};var Tt=(e,t,a)=>{const{formatDateString:n}=t,[l,r]=e.split(" - ");if(!l||!r)return"";const i=n(it(l),{skeleton:"MMMd"}),o=n(it(r),{skeleton:"MMMd"});return(null==a?void 0:a.start)&&(null==a?void 0:a.end)?`${i}, ${a.start} - ${o}, ${a.end}`:`${i} - ${o}`},bt=(e,t,a,n)=>{const{formatDateString:l}=n,[r,i]=t.split(" - "),o=a?l(e,{skeleton:"MMMd"}):r,c=a?i:l(e,{skeleton:"MMMd"});return"Invalid date"===o||"Invalid date"===c?"":`${o} - ${c}`},Ct=e=>{const{day:t,dayData:{validStartDate:a,validEndDate:l}={}}=e,r=!st(t,a,l),i=n.useMemo((()=>t.isPast?"muted":t.isToday?"today":"default"),[t.isPast,t.isToday]);return n.createElement(P.d,{theme:i,disabled:r},t.day)},It=(e,t)=>st(t,e.validStartDate,e.validEndDate);Ct.canClick=It,Ct.canSpan=It,Ct.getAriaLabel=(e,t,a)=>{const{localeDateString:n}=t;return st(t,e.validStartDate,e.validEndDate)?n:a.formatText("calendar.unavailable.a11yLabel",n)};var At=u.J1`
  fragment IconFragment on Icon {
    id
    title
    token
    description
    size
  }
`,Ft={EXTRA_SMALL:_.E.EXTRA_SMALL,SMALL:_.E.SMALL,MEDIUM:_.E.MEDIUM,MEDIUM_LARGE:_.E.MEDIUM,LARGE:_.E.LARGE,XLARGE:_.E.XLARGE},Ot=e=>{const{data:t,uniqueId:a}=e,{id:l,title:r,description:i,size:o}=t,c=Math.random().toString(16).slice(2),s=a||l||c,d=Ft[null!=o?o:"LARGE"];return n.createElement(_.a,{id:s,name:l,title:null!=r?r:i,description:i,size:d})};Ot.displayName="Icon",Ot.fragment=At;var kt=u.J1`
  fragment EGDSSearchFormMoreInfoTriggerSheetFragment on EGDSSheet {
    closeAccessibility
    closeAnalytics {
      referrerId
      linkName
    }
    sheetTypes {
      ... on EGDSSheetTypePerViewSize {
        sheetType
        viewSize
      }
    }
  }
`,Gt=(e,t)=>{const a={BOTTOM:{hasModal:!0,type:"bottom",triggerRef:null},DEFAULT:{type:"popover",width:"LARGE"===t?360:void 0,applyBlockStartMargin:!0,position:"LARGE"===t?{inline:"leading",block:"trailing"}:{inline:"block"},showOverTrigger:!1}};return a[e]||a.DEFAULT},Rt=n.forwardRef((({data:e,isVisible:t,toggleVisibility:a,children:l,position:r,showOverTrigger:i=!1,sheetTypesByView:o},c)=>{var s,u,m,p;const y=(0,E.KY)(),{closeAccessibility:S,sheetTypes:g,closeAnalytics:h}=e,v=(null==o?void 0:o.mobile)||Ze[null!=(u=null==(s=null==g?void 0:g.find((e=>"SMALL"===e.viewSize)))?void 0:s.sheetType)?u:"BOTTOM"],D=(null==o?void 0:o.desktop)||Ze[null!=(p=null==(m=null==g?void 0:g.find((e=>"LARGE"===e.viewSize)))?void 0:m.sheetType)?p:"POPOVER"],f=Gt(v,"SMALL"),T=Gt(D,"LARGE"),b=()=>{const{linkName:e,referrerId:t}=h;y(t,e),a&&a()},C={isVisible:t,triggerRef:null!=c?c:null,onDismiss:b,autoFocus:!0,returnFocusOnClose:!0},I=n.createElement(V.g,null,n.createElement(H.E,{type:"button",onClick:b},n.createElement(_.a,{name:"close",title:null!=S?S:"",id:"sheet-close-button"}))),A=n.createElement(V.f,{padded:!0},l);return n.createElement(V.h,{isVisible:t},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement("div",{"data-testid":`${f.type}-sheet`},n.createElement(V.e,Ee(Ee({},C),f),I,A))),n.createElement(d.rw,null,n.createElement(V.e,ge(Ee(Ee({},C),T),{position:null!=r?r:null==T?void 0:T.position,showOverTrigger:null!=i?i:null==T?void 0:T.showOverTrigger}),I,A))))}));Rt.fragment=kt,Rt.displayName="EGDSSearchFormMoreInfoTriggerSheet";var Lt=u.J1`
  fragment EGDSSearchFormMoreInfoTriggerFragment on EGDSMoreInfoTrigger {
    text
    icon {
      ...IconFragment
    }
    triggerAction {
      accessibility
      text
      analytics {
        referrerId
        linkName
      }
      sheet {
        ...EGDSSearchFormMoreInfoTriggerSheetFragment
      }
    }
  }
  ${Ot.fragment}
  ${Rt.fragment}
`,Pt=n.forwardRef((({data:e,children:t,onHandleClick:a,textSize:l},r)=>{var i;const{icon:o,text:c,triggerAction:{analytics:s}}=e,d=(0,E.KY)(),u=ge(Ee({},o),{size:null!=(i=o.size)?i:"SMALL",description:""});return n.createElement(U.E,{theme:"default"},n.createElement("button",{type:"button",onClick:()=>{if(s){const{referrerId:e,linkName:t}=s;d(e,t)}a&&a()},ref:r},null!=t?t:n.createElement(A.c,{size:null!=l?l:300},c),n.createElement(Ot,{data:u})))}));Pt.fragment=Lt,Pt.displayName="EGDSSearchFormMoreInfoTrigger";var Mt=e=>{const{data:t,isCalendarTab:a}=e,l=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL?"start":"center",[i,o]=n.useState(!1),[c,s,u]=(0,w.useDialog)("more-info-trigger-sheet","pwaDialogNested"),m=n.useRef(null),p=()=>{c?s.closeDialog():s.openDialog()},_=()=>{o((e=>{var t;return e&&(null==(t=m.current)||t.focus()),!e}))};return n.createElement(r.b,{padding:{small:{blockend:"one"}},margin:{medium:{blockend:"four"},small:{inlinestart:"two",blockend:"four"}}},n.createElement(f.i,{alignItems:"start",space:"two",justifyContent:l},n.createElement(f.j,{alignSelf:"center"},n.createElement(r.b,null,n.createElement(y.p,{size:"small",theme:"positive"}))),n.createElement(f.j,null,n.createElement(f.i,{justifyContent:"center"},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(f.i,{justifyContent:"center"},n.createElement(Pt,{ref:m,data:t,onHandleClick:p,textSize:200}),n.createElement(u,null,n.createElement(Rt,{toggleVisibility:p,isVisible:c,data:t.triggerAction.sheet},n.createElement(A.a,{size:2},t.triggerAction.text))))),n.createElement(d.rw,null,n.createElement(n.Fragment,null,n.createElement(Pt,{ref:m,data:t,onHandleClick:_,textSize:200}),n.createElement(Rt,{toggleVisibility:_,isVisible:i,data:t.triggerAction.sheet,ref:m,position:{inline:"leading",block:"leading"},showOverTrigger:!0},n.createElement(A.a,{size:2},t.triggerAction.text)))))))))},Nt="EGDSBasicPill",xt=u.J1`
  fragment EGDSBasicPillFragment on EGDSBasicPill {
    accessibility
    disabled
    name
    primary
    selected
    selectedText
    value
    icon {
      ...IconFragment
    }
    selectAnalytics {
      ...AnalyticsFragment
    }
    deselectAnalytics {
      ...AnalyticsFragment
    }
  }

  fragment AnalyticsFragment on ClientSideAnalytics {
    linkName
    referrerId
  }

  ${Ot.fragment}
`,Bt=e=>{const{data:t,onChange:a,triggerPill:l,onClick:r,active:i}=e,{accessibility:o,name:c,primary:s,selected:d,value:u,disabled:m,icon:p,selectAnalytics:y,deselectAnalytics:_,selectedText:S}=t,g=(0,E.KY)(),h=null!=c?c:"egds-basic-pill",[v,D]=n.useState(d),f=(0,n.useRef)(!1),T=S||s,C=(0,b.u)(h,(e=>{const{checked:t}=e.currentTarget;if(D(t),f.current||(f.current=!0),a&&a(e),y&&t){const{linkName:t,referrerId:a}=y;return g(a,t),e}if(_&&!t){const{linkName:e,referrerId:t}=_;g(t,e)}return e}));return n.useEffect((()=>{f.current&&(0,F.liveAnnounce)(null!=o?o:void 0,F.Level.POLITE)}),[o]),n.useEffect((()=>{D(d)}),[d]),n.createElement(Y.E,{checked:v,active:i,disabled:m,icon:"Icon"===(null==p?void 0:p.__typename)?p.token:"",id:h,name:`${Nt}-${c}`,onChange:C,value:null!=u?u:"",altText:null!=o?o:"",triggerPill:l,onClick:()=>{r&&r()}},v?T:s)};Bt.displayName="EGDSBasicPill",Bt.fragment=ge(Ee({},xt),{__typename:"EGDSBasicPill"});var $t=u.J1`
  fragment EGDSDatePickerFlexibilityCalendarContentFragment on EGDSDatePickerFlexibilityCalendarContent {
    __typename
    flexibleDateOptions {
      ...EGDSBasicPillFragment
    }
    formElementId
    title {
      text
      accessibility
    }
  }
  ${Bt.fragment}
`,Wt="EGDSDatePickerFlexibilityCalendarContent",wt=`${Wt}-SelectedOption`,Ut=({data:e,onSelect:t,currentlySelectedPillValue:a,className:l})=>{var i,o;const c=null!=(o=null==(i=null==e?void 0:e.flexibleDateOptions)?void 0:i.map((e=>{var t,n,l,r;return{selected:e.value===a,checked:e.value===a,text:null!=(t=e.primary)?t:"",disabled:e.disabled,value:null!=(n=e.value)?n:"",id:null!=(l=e.value)?l:"",altText:null!=(r=e.accessibility)?r:void 0}})))?o:[];return n.createElement(r.b,{margin:{medium:{inlinestart:"two",blockend:"three",blockstart:"one"},small:{inlinestart:"two",blockend:"three",blockstart:"one"}}},n.createElement("div",{className:l},n.createElement(z.S,{data:c,handleSelectedPill:e=>{t(e)}})))};Ut.displayName=Wt,Ut.fragment=$t;var Ht=e=>{const{flexibleCalendarProps:t,dailyPriceExplainabilityTextProps:a}=e,l=null==t?void 0:t.data,r=null==t?void 0:t.includeFlexibleCalendarContent,i=null==a?void 0:a.isCalendarTab;return n.createElement(n.Fragment,null,a&&i&&n.createElement(Mt,Ee({},a)),r&&t&&l&&n.createElement(Ut,ge(Ee({},t),{data:l})))},Vt=u.J1`
  fragment EGDSBasicTabsFragment on EGDSBasicTabs {
    __typename
    egdsElementId
    selectedTabId
    tabs {
      ... on EGDSBasicTab {
        __typename
        accessibility
        clickAnalytics {
          linkName
          referrerId
        }
        label
        tabId
      }
    }
  }
`,zt=({data:e,onTabSelected:t,backgroundColor:a,tabsType:l})=>{const{tabs:r,selectedTabId:i}=e,o=(0,E.KY)(),c=i?r.findIndex((e=>"EGDSBasicTab"===e.__typename?e.tabId===i:0)):0,[s,u]=(0,n.useState)(c),m=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL,p=m?S.c.EQUAL_WIDTH:S.c.NATURAL,y={selectedTab:-1!==s?s:0,onTabSelect:e=>{u(e);const a=r[e];if("EGDSBasicTab"===a.__typename){const{clickAnalytics:e,tabId:n}=a;(e=>{if(e&&"ClientSideAnalytics"===(null==e?void 0:e.__typename)){const{linkName:t,referrerId:a}=e;o(a,t)}})(e),t&&t(n)}},tabsType:null!=l?l:p,backgroundColor:null!=a?a:S.d.PRIMARY};return n.createElement(S.f,ge(Ee({},y),{withBorder:!0}),r.map((e=>{const t="EGDSBasicTab"===e.__typename?e.tabId:"",a="EGDSBasicTab"===e.__typename?e.label:"";return n.createElement(S.E,{id:t,key:t,name:a,targetURI:`#EGDSBasicTabSearchForm_${t}`})})))};zt.fragment=Vt,zt.displayName="EGDSBasicTabs";var Yt=u.J1`
  fragment EGDSStandardBadgeFragment on EGDSStandardBadge {
    __typename
    text
    theme
    size
    accessibility
  }
`,qt=({data:e})=>{var t;const{text:a,theme:l,size:r,accessibility:i}=e,o={text:null!=a?a:"",theme:null!=l?l:"standard",size:null!=r?r:"large",a11yText:null!=(t=null!=i?i:a)?t:""};return a?n.createElement(y.p,Ee({},o)):null};qt.displayName="EGDSStandardBadge",qt.fragment=Yt;var jt=u.J1`
  fragment EGDSBadgeFragment on EGDSBadge {
    __typename

    ...EGDSStandardBadgeFragment
  }

  ${qt.fragment}
`,Kt=({data:e})=>"EGDSStandardBadge"===e.__typename?n.createElement(qt,{data:e}):null;Kt.displayName="SearchToolsEGDSBadge",Kt.fragment=jt;var Jt=u.J1`
  fragment EGDSToggleButtonFragment on EGDSToggleButton {
    __typename
    egdsElementId
    primary
    subText
    name
    selectedAnalytics {
      linkName
      referrerId
    }
    unselectedAnalytics {
      linkName
      referrerId
    }
    icon {
      ... on Icon {
        id
        size
      }
    }
    selected
    disabled
  }
`,Qt=({data:e,onChange:t,children:a,ariaLabel:l})=>{const{primary:r,subText:i,disabled:o,selected:c,name:s,selectedAnalytics:d,unselectedAnalytics:u}=e,m=(0,E.KY)();return n.createElement(M.tr,{id:null!=s?s:"",disabled:o,name:null!=s?s:"",checked:c,onChange:e=>{t&&t(e),(e=>{const t=e?d:u;if("ClientSideAnalytics"===(null==t?void 0:t.__typename)){const{linkName:e,referrerId:a}=t;m(a,e)}})(!c)},"aria-label":null!=l?l:`${r} ${i}`},a)};Qt.displayName="EGDSToggleButton",Qt.fragment=Jt;var Xt=u.J1`
  fragment EGDSToggleButtonGroupFragment on EGDSToggleButtonGroup {
    __typename
    options {
      ...EGDSToggleButtonFragment
    }
  }

  ${Qt.fragment}
`,Zt=({data:e})=>{const{options:t}=e,[a,l]=n.useState(t),r=e=>{l((t=>t.map((t=>t.name===e.target.name?ge(Ee({},t),{selected:!t.selected}):t))))};return n.createElement(j.b,{wrapButtons:!0},a.map(((e,t)=>n.createElement(Qt,{key:t,data:e,onChange:r}))))};Zt.displayName="EGDSToggleButtonGroup",Zt.fragment=Xt;var ea=u.J1`
  fragment EGDSDatePickerFlexibleMonthsFragment on EGDSDatePickerFlexibleMonths {
    heading
    subHeading
    options {
      ...EGDSToggleButtonGroupFragment
    }
  }
  ${Zt.fragment}
`,ta="EGDSDatePickerFlexibleMonths",aa=`${ta}-Options`,na=({monthSelectionButton:e,onMonthSelectionToggle:t,badge:a,isBadgeLoading:l})=>{const{icon:i,primary:o,subText:c}=e;return n.createElement(Qt,{data:e,onChange:t,ariaLabel:`${o} ${c}`},n.createElement(f.i,{direction:"column",alignItems:"center",blockSize:"full_size",justifyContent:"center"},i&&n.createElement(_.a,{name:"Icon"===(null==i?void 0:i.__typename)?i.id:""}),o&&n.createElement(A.c,{size:100,weight:"bold",spacing:"one"},null!=o?o:""),c&&n.createElement(r.b,{padding:{blockend:a||l?"one":"unset"}},n.createElement("div",null,n.createElement(A.c,{size:100},null!=c?c:""))),a&&!l&&n.createElement(Kt,{data:a}),l&&n.createElement(T.b,{animation:!0,type:"secondary"})))},la=({data:e,monthsSelectionToggleButtons:t,onMonthSelectionToggle:a,priceInsightsPrices:l,isPriceInsightsDataLoading:i,priceInsightsExplainabilityText:o,hasMobileExplainabilityTextBeenClicked:c})=>{const{heading:s,subHeading:u}=e,m=(0,d.eg)({viewSizes:d.pf}),p=m<=d.pf.MEDIUM,y=m<=d.pf.SMALL,_={grow:1,maxWidth:y||p?void 0:"twenty_four",minWidth:y||p?"quarter_width":void 0},[S,E]=n.useState(!1),[g,h]=n.useState(!1),D=n.useRef(null);n.useEffect((()=>{h(!0)}),[c]),n.useEffect((()=>{h(!1)}),[]);const b=()=>{E((e=>{var t;return e&&(null==(t=D.current)||t.focus()),!e}))};return n.createElement("div",null,n.createElement(f.i,{alignItems:"center",direction:"column",space:"three"},n.createElement(f.j,null,n.createElement("div",null,n.createElement(A.E,{size:6,align:"center"},s),n.createElement(A.b,null,u)))),t&&n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(r.b,{padding:{blockstart:"four"}},n.createElement(f.i,{direction:"row",justifyContent:"space-around",wrap:"wrap",space:"three"},null==t?void 0:t.options.map(((e,t)=>n.createElement(f.j,ge(Ee({},_),{key:t}),n.createElement("div",null,n.createElement(na,{monthSelectionButton:e,onMonthSelectionToggle:a,badge:l?l[t]:null,isBadgeLoading:i}))))))),o&&n.createElement(Rt,{isVisible:g,data:o.triggerAction.sheet,toggleVisibility:()=>h(!1)},n.createElement(A.a,{size:2},o.triggerAction.text)))),n.createElement(d.zQ,null,n.createElement(n.Fragment,null,n.createElement(r.b,{padding:{blockstart:"four"}},n.createElement(v.E,{columns:6,space:"three"},null==t?void 0:t.options.map(((e,t)=>n.createElement(v.a,ge(Ee({},_),{key:t}),n.createElement("div",null,n.createElement(na,{monthSelectionButton:e,onMonthSelectionToggle:a,badge:l?l[t]:null,isBadgeLoading:i}))))))),n.createElement(r.b,{padding:{blockstart:"four"}},n.createElement(f.i,{justifyContent:"center"},n.createElement(n.Fragment,null,o&&!i&&n.createElement("div",null,n.createElement(Pt,{ref:D,data:o,onHandleClick:b,textSize:200}),n.createElement(Rt,{toggleVisibility:b,isVisible:S,data:o.triggerAction.sheet,ref:D,position:{inline:"trailing",block:"leading"},showOverTrigger:!0},n.createElement(A.a,{size:2},o.triggerAction.text))),i&&n.createElement(T.b,{animation:!0}))))))))};la.displayName=ta,la.fragment=ea;var ra=u.J1`
  fragment EGDSBasicCheckBoxFragment on EGDSBasicCheckBox {
    egdsElementId
    description
    enabled
    checkedAnalytics {
      linkName
      referrerId
    }
    uncheckedAnalytics {
      linkName
      referrerId
    }
    label {
      text
    }
    name
    required
    state
  }
`,ia=({data:e,checked:t,onChange:a})=>{const{egdsElementId:l,description:r,enabled:i,name:o,required:c,label:s,checkedAnalytics:d,uncheckedAnalytics:u,state:m}=e,[p,y]=n.useState(null!=t?t:"CHECKED"===m);n.useEffect((()=>{y(null!=t?t:"CHECKED"===m)}),[t,m]);const _=(0,E.KY)(),S=n.useCallback((e=>{if(y(e.currentTarget.checked),d&&!p){const{referrerId:e,linkName:t}=d;_(e,t)}if(u&&p){const{referrerId:e,linkName:t}=u;_(e,t)}null==a||a(e)}),[d,p,a,_,u]);return n.createElement(K.E,{id:null!=l?l:"",checked:p,description:null!=r?r:void 0,disabled:!i,name:null!=o?o:void 0,onChange:S,required:c},null==s?void 0:s.text)};ia.displayName="EGDSBasicCheckBox",ia.fragment=ge(Ee({},ra),{__typename:"EGDSBasicCheckBox"});var oa=u.J1`
  fragment EGDSCheckBoxFragment on EGDSCheckBox {
    __typename

    ...EGDSBasicCheckBoxFragment
  }

  ${ia.fragment}
`,ca=({data:e,onChange:t})=>"EGDSBasicCheckBox"===(null==e?void 0:e.__typename)?n.createElement(ia,{onChange:t,data:e}):null;ca.displayName="EGDSCheckBox",ca.fragment=oa;var sa=u.J1`
  fragment EGDSBasicRemovablePillFragment on EGDSBasicRemovablePill {
    primary
    name
    accessibility
    id
    removeAnalytics {
      referrerId
      linkName
    }
    value
  }
`,da=({data:e,onClick:t})=>{var a;const{id:l,primary:r,accessibility:i,removeAnalytics:o,name:c,value:s}=e,d=null!=(a=null!=l?l:c)?a:"egds-basic-removable-pill",u=(0,E.KY)();return n.createElement("div",null,n.createElement(Y.a,{id:d,onClick:e=>{if(t&&t({event:e,id:null!=l?l:""}),o){const{referrerId:e,linkName:t}=o;u(e,t)}},a11yRemoveText:i||""},r),n.createElement("input",{type:"hidden",name:null!=c?c:"",value:null!=s?s:""}))};da.displayName="EGDSBasicRemovablePill",da.fragment=sa;var ua=u.J1`
  fragment EGDSBasicTriggerPillFragment on EGDSBasicTriggerPill {
    id
    disabled
    primary
    selected
    icon {
      ...IconFragment
    }
    selectAnalytics {
      ...AnalyticsFragment
    }
    deselectAnalytics {
      ...AnalyticsFragment
    }
    accessibility
  }

  fragment AnalyticsFragment on ClientSideAnalytics {
    linkName
    referrerId
  }

  ${Ot.fragment}
`,ma=e=>{const{data:t,onChange:a,triggerPill:l,onClick:r,domRef:i,active:o}=e,{id:c,primary:s,selected:d,disabled:u,icon:m,selectAnalytics:p,deselectAnalytics:y,accessibility:_}=t,S=(0,E.KY)(),g=null!=c?c:"egds-basic-pill",[h,v]=n.useState(o||d);n.useEffect((()=>{v(null!=o&&o)}),[o]);const D=(0,b.u)(g,(e=>{if(v(!h),a&&a(e),r&&r(),p&&h){const{linkName:t,referrerId:a}=p;return S(a,t),e}if(y&&!h){const{linkName:e,referrerId:t}=y;S(t,e)}return e}));return n.createElement(Y.E,{checked:h,active:h,selected:d,disabled:u,icon:"Icon"===(null==m?void 0:m.__typename)?m.token:"",id:g,name:`EGDSBasicTriggerPill-${g}`,triggerPill:l,onClick:D,altText:null!=_?_:"",domRef:i},s)};ma.displayName="EGDSBasicTriggerPill",ma.fragment=ua;var pa=u.J1`
  fragment EGDSPillFragment on EGDSPill {
    __typename

    ...EGDSBasicPillFragment
    ...EGDSBasicTriggerPillFragment
    ...EGDSBasicRemovablePillFragment
  }

  ${Bt.fragment}
  ${ma.fragment}
  ${da.fragment}
`,ya=e=>{const{data:t}=e;switch(t.__typename){case"EGDSBasicPill":return n.createElement(Bt,ge(Ee({},e),{data:t}));case"EGDSBasicTriggerPill":return n.createElement(ma,ge(Ee({},e),{data:t}));case"EGDSBasicRemovablePill":return n.createElement(da,ge(Ee({},e),{data:t}));default:return null}};ya.displayName="SearchToolsEGDSPill",ya.fragment=pa;var _a=u.J1`
  fragment EGDSDatePickerFlexibleNightsFragment on EGDSDatePickerFlexibleNights {
    heading
    includeWeekend {
      ...EGDSCheckBoxFragment
    }
    options {
      ...EGDSPillFragment
    }
  }
  ${ya.fragment}
  ${ca.fragment}
`,Sa="EGDSDatePickerFlexibleNights",Ea=`${Sa}-Options`,ga=`${Sa}-Weekend`,ha=({data:e,onNightSelectionPillChange:t,nightsSelectionPills:a,onIncludeWeekendCheck:l,includeWeekendCheckbox:r})=>{const{heading:i}=e;return n.createElement("div",null,n.createElement(f.i,{alignItems:"center",direction:"column",space:"three"},n.createElement(f.j,null,n.createElement(A.E,{size:6},i)),n.createElement(f.j,null,n.createElement(z.S,{data:a,handleSelectedPill:t,wrap:!0,align:"center"}),";"),r&&n.createElement(f.j,null,n.createElement(ca,{data:r,onChange:l}))))};ha.displayName=Sa,ha.fragment=_a;var va=u.J1`
  fragment EGDSDatePickerFlexibilityDatesContentFragment on EGDSDatePickerFlexibilityDatesContent {
    __typename
    nightsSelection {
      ...EGDSDatePickerFlexibleNightsFragment
    }
    monthsSelection {
      ...EGDSDatePickerFlexibleMonthsFragment
    }
  }
  ${la.fragment}
  ${ha.fragment}
`,Da=({data:e,className:t,onNightSelectionPillChange:a,nightsSelectionPills:l,onIncludeWeekendCheck:i,includeWeekendCheckbox:o,monthsSelectionToggleButtons:c,onMonthSelectionToggle:s,priceInsightsPrices:d,isPriceInsightsDataLoading:u,priceInsightsExplainabilityText:m,hasMobileExplainabilityTextBeenClicked:p})=>{const{nightsSelection:y,monthsSelection:_}=e;return n.createElement(r.b,{padding:"four"},n.createElement("div",{className:t},y&&n.createElement(ha,{data:y,onNightSelectionPillChange:a,nightsSelectionPills:l,onIncludeWeekendCheck:i,includeWeekendCheckbox:o}),n.createElement(r.c,{blockMargin:"six"}),_&&n.createElement(la,{data:_,isPriceInsightsDataLoading:u,priceInsightsPrices:d,monthsSelectionToggleButtons:c,onMonthSelectionToggle:s,priceInsightsExplainabilityText:m,hasMobileExplainabilityTextBeenClicked:p})))};Da.displayName="EGDSDatePickerFlexibilityDatesContent",Da.fragment=va;var fa=u.J1`
  fragment EGDSDatePickerFlexibilityContentFragment on EGDSDatePickerFlexibilityContent {
    __typename
    calendarContent {
      ...EGDSDatePickerFlexibilityCalendarContentFragment
    }
    contentSelector {
      ...EGDSBasicTabsFragment
    }
    flexibleDatesContent {
      ...EGDSDatePickerFlexibilityDatesContentFragment
    }
    flexibilityLabel {
      templates {
        template
        category
      }
      models {
        key
      }
    }
  }
  ${zt.fragment}
  ${Ut.fragment}
  ${Da.fragment}
`,Ta=({data:e,children:t,className:a,onContentSelectorSelection:l,onNightSelectionPillChange:r,nightsSelectionPills:i,onIncludeWeekendCheck:o,includeWeekendCheckbox:c,monthsSelectionToggleButtons:s,onMonthSelectionToggle:u,contentSelector:m,priceInsightsPrices:p,isPriceInsightsDataLoading:y,priceInsightsExplainabilityText:_,hasMobileExplainabilityTextBeenClicked:E})=>{const{flexibleDatesContent:g}=e,h="EGDSBasicTabs"===(null==m?void 0:m.__typename)?m.selectedTabId:"",v={calendarTabId:"calendar-tab",flexibleTabId:"flexible-dates-tab"},{calendarTabId:D,flexibleTabId:f}=(()=>{if("EGDSBasicTabs"===(null==m?void 0:m.__typename)){const{tabs:e}=m;return"EGDSBasicTab"===e[0].__typename&&"EGDSBasicTab"===e[1].__typename?{calendarTabId:e[0].tabId,flexibleTabId:e[1].tabId}:v}return v})(),T=n.createElement("div",{className:a},"EGDSBasicTabs"===(null==m?void 0:m.__typename)&&n.createElement(zt,{data:m,onTabSelected:l,backgroundColor:S.d.SECONDARY,tabsType:S.c.EQUAL_WIDTH}),h===D&&n.createElement(n.Fragment,null,n.createElement("div",{id:D}),t),h===f&&g&&n.createElement("div",{id:f},n.createElement(Da,{data:g,priceInsightsPrices:p,isPriceInsightsDataLoading:y,onNightSelectionPillChange:r,nightsSelectionPills:i,onIncludeWeekendCheck:o,includeWeekendCheckbox:c,monthsSelectionToggleButtons:s,onMonthSelectionToggle:u,priceInsightsExplainabilityText:_,hasMobileExplainabilityTextBeenClicked:E})));return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(q.E,{direction:"vertical"},T)),n.createElement(d.rw,null,T))};Ta.displayName="EGDSDatePickerFlexibilityContent",Ta.fragment=fa;var ba=e=>{var t;const a=null==(t=e.find((e=>e.selected)))?void 0:t.value;return!!a&&((null==a?void 0:a.includes("WEEK"))||(null==a?void 0:a.includes("6_DAY_LOWER,7_DAY_UPPER"))||(null==a?void 0:a.includes("MONTH")))},Ca={INCLUDE_WEEKEND_UPDATE:(e,{checked:t,enabled:a=!0})=>e.includeWeekendCheckbox.data?ge(Ee({},e),{includeWeekendCheckbox:ge(Ee({},e.includeWeekendCheckbox),{data:ge(Ee({},e.includeWeekendCheckbox.data),{state:t,enabled:a})})}):Ee({},e),INCLUDE_WEEKEND_NIGHTS_STATE_UPDATE:(e,{checked:t})=>e.includeWeekendCheckbox.data?ge(Ee({},e),{includeWeekendCheckbox:ge(Ee({},e.includeWeekendCheckbox),{checkboxNightsState:t})}):Ee({},e),INCLUDE_WEEKEND_RESET:e=>{var t;return e.includeWeekendCheckbox.data?ge(Ee({},e),{includeWeekendCheckbox:ge(Ee({},e.includeWeekendCheckbox),{data:null!=(t=e.includeWeekendCheckbox.prevIncludeWeekendState)?t:e.includeWeekendCheckbox.data})}):Ee({},e)},INCLUDE_WEEKEND_PREV_STATE_UPDATE:(e,{prevIncludeWeekendState:t})=>e.includeWeekendCheckbox.data?ge(Ee({},e),{includeWeekendCheckbox:ge(Ee({},e.includeWeekendCheckbox),{prevIncludeWeekendState:t})}):Ee({},e)},Ia=e=>{if(e){const t=null==e?void 0:e.options.map(((e,t)=>0===t||1===t?ge(Ee({},e),{selected:!e.selected}):e));return ge(Ee({},e),{options:[...t]})}return null},Aa={MONTHS_SELECTION_UPDATE:(e,{selectedMonth:t})=>{if(e.monthsOptions.data&&t){const a=e.monthsOptions.data.options.map((e=>e.name===t?ge(Ee({},e),{selected:!e.selected}):e));return ge(Ee({},e),{monthsOptions:ge(Ee({},e.monthsOptions),{data:ge(Ee({},e.monthsOptions.data),{options:[...a]})})})}return Ee({},e)},MONTHS_SELECTION_RESET:e=>{var t;return e.monthsOptions.data?ge(Ee({},e),{monthsOptions:ge(Ee({},e.monthsOptions),{data:null!=(t=e.monthsOptions.prevMonthsOptionsSelected)?t:e.monthsOptions.data})}):Ee({},e)},MONTHS_SELECTION_PREV_STATE_UPDATE:(e,{prevMonthsOptions:t})=>ge(Ee({},e),{monthsOptions:ge(Ee({},e.monthsOptions),{prevMonthsOptionsSelected:t})}),MONTHS_SELECTION_DEFAULT_UPDATE:e=>{var t;return e.monthsOptions.data?ge(Ee({},e),{monthsOptions:ge(Ee({},e.monthsOptions),{data:Ee({},null!=(t=Ia(e.monthsOptions.data))?t:e.monthsOptions.data)})}):Ee({},e)},MONTHS_SELECTION_OPTIONS_UPDATE:(e,{monthsSelectionOptions:t})=>e.monthsOptions.data?ge(Ee({},e),{monthsOptions:ge(Ee({},e.monthsOptions),{data:ge(Ee({},e.monthsOptions.data.options),{__typename:"EGDSToggleButtonGroup",options:t})})}):Ee({},e)},Fa={NIGHTS_OPTIONS_CHANGED:(e,{nightsRangeSelected:t})=>{if(e.nightsSelection.data){const a=e.nightsSelection.data.map((e=>e.value===t?ge(Ee({},e),{selected:!0}):ge(Ee({},e),{selected:!1})));return ge(Ee({},e),{nightsSelection:ge(Ee({},e.nightsSelection),{data:[...a]})})}return Ee({},e)},NIGHTS_OPTIONS_PREV_STATE_UPDATE:(e,{prevNightsOptions:t})=>ge(Ee({},e),{nightsSelection:ge(Ee({},e.nightsSelection),{prevNightsRangeSelected:t})}),NIGHTS_OPTIONS_RESET:e=>{var t;return e.nightsSelection.data?ge(Ee({},e),{nightsSelection:ge(Ee({},e.nightsSelection),{data:null!=(t=e.nightsSelection.prevNightsRangeSelected)?t:e.nightsSelection.data})}):Ee({},e)}},Oa={CONTENT_SELECTOR_CHANGED:(e,{tabSelected:t})=>e.contentSelector.data?ge(Ee({},e),{contentSelector:ge(Ee({},e.contentSelector),{data:ge(Ee({},e.contentSelector.data),{selectedTabId:null!=t?t:""})})}):Ee({},e),CONTENT_SELECTOR_RESET:e=>{if(e.contentSelector.data){const{prevTabSelected:t,data:a}=e.contentSelector,{selectedTabId:n}=a;return ge(Ee({},e),{contentSelector:ge(Ee({},e.contentSelector),{data:ge(Ee({},e.contentSelector.data),{selectedTabId:null!=t?t:n})})})}return Ee({},e)},CONTENT_SELECTOR_PREV_STATE_UPDATE:(e,{prevTab:t})=>ge(Ee({},e),{contentSelector:ge(Ee({},e.contentSelector),{prevTabSelected:null!=t?t:e.contentSelector.prevTabSelected})})},ka=Ee(Ee(Ee(Ee({},Oa),Fa),Ca),Aa),Ga=(e,t)=>{const a=ka[t.type];return a?a(e,t):e},Ra=({data:e,isPriceInsightsLoading:t,onHandleClick:a})=>n.createElement(r.b,{padding:{blockend:"three",inline:"two"}},n.createElement("div",null,t&&n.createElement(T.b,{animation:!0}),e&&!t&&n.createElement(Pt,{onHandleClick:a,data:e,textSize:200}))),La=u.J1`
  fragment SearchFormFlexibleDatesPriceInsightsMonthlyFragment on SearchFormPriceInsightsMonthlyResponse {
    options {
      ... on SearchFormPriceInsightsMonthlyOption {
        __typename
        button {
          ...EGDSToggleButtonFragment
        }
        price {
          ...EGDSBadgeFragment
        }
      }
    }
    explainabilityText {
      ...EGDSSearchFormMoreInfoTriggerFragment
    }
  }
  ${Pt.fragment}
  ${Qt.fragment}
  ${Kt.fragment}
`,Pa=u.J1`
  query SearchFormPriceInsights($context: ContextInput!, $gaiaId: String!) {
    searchFormPriceInsights(context: $context) {
      flexibleDatesMonthly(gaiaId: $gaiaId) {
        __typename
        ...SearchFormFlexibleDatesPriceInsightsMonthlyFragment
      }
    }
  }

  ${La}
`,Ma=u.J1`
  fragment SearchFormFlexibleDatesPriceInsightsDailyFragment on SearchFormPriceInsightsDailyResponse {
    days {
      ...SearchFormPriceInsightsDayFragment
    }
    explainabilityText {
      ...EGDSSearchFormMoreInfoTriggerFragment
    }
    analytics {
      presentationAnalytics
      rangeAnalytics
      startDateAnalytics
      errorAnalytics
    }
  }

  fragment SearchFormPriceInsightsDayFragment on SearchFormPriceInsightsDay {
    date {
      day
      month
      year
    }
    theme
    accessibilityText
  }
  ${Pt.fragment}
`,Na=u.J1`
  query SearchFormPriceInsightsDaily($context: ContextInput!, $criteria: SearchFormPriceInsightsDailyInput!) {
    searchFormPriceInsights(context: $context) {
      dailyPrice(criteria: $criteria) {
        __typename
        ...SearchFormFlexibleDatesPriceInsightsDailyFragment
      }
    }
  }

  ${Ma}
`,xa="on_submit",Ba="on_close",$a="on_checkin_date_change",Wa=e=>{var t,a,l,r,i,o,c,s,u,p,y,_,S,g,h,v,D,f,T,C,I,A,F,O,k,L,P,M,N,w,U,H,V;const{autoOpen:z,startDate:Y,endDate:q,enableSameDayDateRange:j,buttonText:K,clearButtonText:J,inputLabel1:Q,inputLabel2:X,allowClearDates:Z,validDaysLowerBoundInclusive:ee,validDaysUpperBoundInclusive:te,skipQuery:ae,typename:ne,errorMessage:le,buttonTextTemplate:re,onClearDates:ie,onSelectEndDate:oe,onSelectStartDate:ce,onChangeEndDate:se,onChangeStartDate:de,onClose:ue,onOpen:me,setFieldRefByTypename:pe,onNextCalendarClick:ye,onPreviousCalendarClick:_e,flexibleDateContent:Se,flexibleContentConfig:he,dialogId:ve,startDateString:De,endDateString:fe,showCalendar:Te,toggleCalendar:be,showStartDateEndDateHiddenInputs:Ce,input1Stid:Ie,popoverWidth:Ae,gaiaId:Fe,onFlexibleTabSelection:Oe,dailyPriceInsightsConfig:ke,priceInsightsDayData:Ge,dayTemplateComponent:Re,handleCalendarScroll:Le,dailyPriceAnalytics:Pe,dailyPriceInsightsExplainabilityText:Me}=e,{context:Ne}=(0,m.R)(),xe=(0,E.iQ)(),Be=pt(Ne),$e=(0,E.KY)(),We=(0,$.useLocalization)(),Ue=n.useRef(null),[He,Ve]=n.useState(null),[ze,Ye]=n.useState(),[qe,je]=n.useState(null),{exposure:Ke,logExperiment:Je}=(0,R.useExperiment)("Monthly_Price_Insights_in_Flex_Search"),[Qe,{loading:Ze}]=(0,G._)(Pa,{onCompleted:e=>{if(e.searchFormPriceInsights.flexibleDatesMonthly.options){const t=e.searchFormPriceInsights.flexibleDatesMonthly.options.map((({button:e})=>e)).filter(vt),a=e.searchFormPriceInsights.flexibleDatesMonthly.options.map((({price:e})=>e)).filter(vt);1===Ke.bucket&&(He||Ve(t),Ye(a),je(e.searchFormPriceInsights.flexibleDatesMonthly.explainabilityText))}}}),{exposure:rt,logExperiment:ot}=(0,R.useExperiment)("Monthly_Price_Insights_api_call_gate_web"),{exposure:st,logExperiment:dt}=(0,R.useExperiment)("Auto_close_date_selector_after_end_date_selection"),yt=(e,t)=>{const a=null!=e?e:t?lt(t):"";return a?it(a):null};z&&me&&me();const _t=yt(De,Y),St=yt(fe,q),[Et,gt]=n.useState(_t),[ht,Dt]=n.useState(St),[ft,bt]=n.useState(_t),[It,At]=n.useState(St),[Ft,Ot]=n.useState(500),[kt,Gt]=n.useState(!1),Rt="boolean"==typeof Te&&be,[Lt,Pt]=n.useState(Rt?Te:null!=z&&z),[Mt,Nt]=n.useState(Lt),[xt,Bt]=n.useState(!1),$t=n.useMemo((()=>te?lt(te):at(Ft)),[Ft,te]),Wt=n.useMemo((()=>ee?lt(ee):void 0),[ee]),[Ut,Vt]=n.useState({defaults:{validStartDate:Wt,validEndDate:$t}});n.useEffect((()=>{if(Ge&&(null==ke?void 0:ke.dailyPriceInsightsEnabled)){const e=mt(Ge,Y,_t,St,ft,It,!1,!1,q),t=ut(ft,It,!0,e,We);Vt((e=>ge(Ee(Ee({},e),t),{defaults:ge(Ee({},e.defaults),{dateText:{textTheme:null}})})))}else Vt({defaults:{validStartDate:Wt,validEndDate:$t}})}),[$t,Wt,!!Ge,Fe]);const[zt,Yt]=n.useState("EGDSCardinalLocalizedText"===(null==re?void 0:re.__typename)?re.text:K),qt=null==(t=null==Se?void 0:Se.calendarContent)?void 0:t.flexibleDateOptions,jt=null!=(a=null==qt?void 0:qt.find((e=>ft&&It?e.selected:ct(e))))?a:null,Kt=(null==jt?void 0:jt.primary)?`(${jt.primary})`:void 0,Jt={value:null==jt?void 0:jt.value,hasValueChanged:!1,trailingText:jt&&ct(jt)?"":Kt},[Qt,Xt]=n.useState(Jt),Zt=(0,d.eg)({viewSizes:d.pf})>=d.pf.LARGE,ea=!(!(null==Se?void 0:Se.contentSelector)||!(null==he?void 0:he.includeFlexibleDatesContent)),ta=null==Se?void 0:Se.contentSelector,na=(e=>{var t;return null!=(t=null==e?void 0:e.options.map((e=>{var t,a,n,l;return{selected:e.selected,checked:!1,text:null!=(t=e.primary)?t:"",disabled:e.disabled,value:null!=(a=e.value)?a:"",id:null!=(n=e.name)?n:"",altText:null!=(l=e.accessibility)?l:""}})))?t:[]})(null!=(r=null==(l=null==Se?void 0:Se.flexibleDatesContent)?void 0:l.nightsSelection)?r:null),la=null!=(c=null==(o=null==(i=null==Se?void 0:Se.flexibleDatesContent)?void 0:i.nightsSelection)?void 0:o.includeWeekend)?c:null,ra=null!=(p=null==(u=null==(s=null==Se?void 0:Se.flexibleDatesContent)?void 0:s.monthsSelection)?void 0:u.options)?p:null,ia={contentSelector:{data:null!=ta?ta:null},nightsSelection:{data:na},includeWeekendCheckbox:{data:la,checkboxNightsState:ba(na)?"UNCHECKED":null!=(y=null==la?void 0:la.state)?y:"UNCHECKED"},monthsOptions:{data:ra}},[oa,ca]=(e=>{const[t,a]=(0,n.useReducer)(Ga,e);return[t,a]})(ia),{contentSelector:sa,nightsSelection:da,includeWeekendCheckbox:ua,monthsOptions:ma}=oa,pa="EGDSBasicTab"===(null==(S=null==(_=sa.data)?void 0:_.tabs[0])?void 0:S.__typename)?null==(h=null==(g=sa.data)?void 0:g.tabs[0])?void 0:h.tabId:"date_form_nested_flexible_tab_calendar",ya="EGDSBasicTab"!==(null==(D=null==(v=sa.data)?void 0:v.tabs[0])?void 0:D.__typename)||sa.data.selectedTabId===pa,_a=null!=(f=(null==he?void 0:he.includeFlexibleDatesContent)&&!ya)&&f,[Sa,ha]=n.useState(),va=(0,b.u)((()=>{const e=ya&&(null==he?void 0:he.includeFlexibleCalendarContent)&&Qt.trailingText;return _a||e?`${ne}-Flexible`:ne})(),(e=>e)),[Da,fa]=n.useState();n.useEffect((()=>{!(null==Da?void 0:Da.includes(Ba))||(null==Da?void 0:Da.includes(xa))||Zt?fa(null):(ea&&(ca({type:"CONTENT_SELECTOR_RESET"}),ma.prevMonthsOptionsSelected&&ca({type:"MONTHS_SELECTION_RESET"}),da.prevNightsRangeSelected&&ca({type:"NIGHTS_OPTIONS_RESET"}),ua.prevIncludeWeekendState&&ca({type:"INCLUDE_WEEKEND_RESET"})),bt(Et),At(ht))}),[Da]),n.useEffect((()=>{var e,t;ca({type:"NIGHTS_OPTIONS_PREV_STATE_UPDATE",prevNightsOptions:na}),ca({type:"INCLUDE_WEEKEND_PREV_STATE_UPDATE",prevIncludeWeekendState:la}),ca({type:"CONTENT_SELECTOR_PREV_STATE_UPDATE",prevTab:null!=(t=null==(e=sa.data)?void 0:e.selectedTabId)?t:pa}),ca({type:"MONTHS_SELECTION_PREV_STATE_UPDATE",prevMonthsOptions:ra})}),[]);n.useEffect((()=>{if(kt){Gt(!1);let e="";ft&&It&&(e=(()=>{const e=`${ft} - ${It}`,t=Tt(e,We),{trailingText:a}=Qt;return a&&ya&&(null==he?void 0:he.includeFlexibleCalendarContent)?`${t} ${a}`:e})()),Xe(ya?e:null!=Sa?Sa:"",va)}}),[kt]),n.useEffect((()=>{if(_t&&(bt(_t),gt(_t)),St&&(At(St),Dt(St)),_t||St||(bt(""),At("")),te){const e=lt(te).getTime()-(new Date).getTime();Ot(nt(e))}}),[St,_t,ae,ee,te]),n.useEffect((()=>{ae||(null==jt?void 0:jt.value)===Qt.value||Xt(Jt)}),[jt,ae]),n.useEffect((()=>{pe("EGDSSearchFormDatePickerField",Ue)}),[]);const Ca=n.useCallback((()=>{var e,t;Lt&&(null!=(t=null==(e=null==Ue?void 0:Ue.current)?void 0:e.getBoundingClientRect().top)?t:20)<=20&&(Pt(!1),document.body.click())}),[Lt]);n.useEffect((()=>{if(Lt)return window.addEventListener("scroll",Ca),()=>window.removeEventListener("scroll",Ca)}),[Lt,Ca]),n.useEffect((()=>{var e;Rt&&(Te&&!Mt?null==(e=Ue.current)||e.click():!Te&&Mt&&document.body.click())}),[Te,be]),(0,B._H)(W.Jm,W.ht,{onSuccess:()=>{var e;null==(e=Ue.current)||e.click()}});const Aa=(e,t)=>{if("EGDSCardinalLocalizedText"===(null==re?void 0:re.__typename)&&e&&t){const a=Number(new Date(e)),n=Number(new Date(null!=t?t:"")),l=nt(n-a);Yt(((e,t)=>{const a=e.templates.find((e=>e.category===et(t)));return a?we(a.template,e.models[0].key,t.toString()):""})(re,l))}},Fa=(e,t)=>{var a,n;const l=It!==e,r=q&&l;Gt(!1),Bt(!0),null===e&&null!==ft||bt(e),e&&(de(e),ft!==e&&ce(),Ge&&"positive"===(null==(n=null==(a=Ge[e])?void 0:a.dateText)?void 0:n.textTheme)&&(null==Pe?void 0:Pe.startDateAnalytics)&&xe({clientPayload:JSON.parse(null==Pe?void 0:Pe.startDateAnalytics)})),e||(bt(""),de(""),ce());const i=(e=>{var t,a;return null==(a=null==(t=null==e?void 0:e.toISOString())?void 0:t.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/gi))?void 0:a[0]})(e&&(e=>{const t=new Date(e);return null==t||t.setDate(t.getDate()+1),t})(e)),o=t||i||null;t&&dt(st),o?(At(o),It!==o&&oe(),se(o),Aa(e,o)):e?bt(e):e||(At(""),se(""),oe()),((e,t,a,n)=>{var l,r;const{formatDateString:i}=n;if(e&&t){const n=new Date(e),o=new Date(t);if(n<o){n.setDate(n.getDate()+1);for(let e=n;e<=o;e.setDate(e.getDate()+1))if("positive"===(null==(r=null==(l=a[i(e,{raw:tt})])?void 0:l.dateText)?void 0:r.textTheme))return!0}}return!1})(e,o,Ut,We)&&(null==Pe?void 0:Pe.rangeAnalytics)&&xe({clientPayload:JSON.parse(Pe.rangeAnalytics)}),Ge&&(null==ke?void 0:ke.dailyPriceInsightsEnabled)&&(Vt(mt(Ut,Y,e,o,ft,It,l,r,t)),Vt(ut(ft,It,!1,Ut,We)),Vt(ut(e,t,!0,Ut,We)))},Oa=()=>{var e;const t=null!=(e=null==qt?void 0:qt.find((e=>"0_day"===e.value)))?e:null;if(t){const{value:e}=t;Xt({value:e,trailingText:"",hasValueChanged:!0})}},{selectedFlexibleDatesNights:ka,selectedFlexibleDatesMonths:La}=_a?(()=>{var e,t,a,n,l,r,i;const o=null==(e=da.data)?void 0:e.find((e=>!0===e.selected)),c=(null==(t=ma.data)?void 0:t.options)?[null==(a=null==ma?void 0:ma.data)?void 0:a.options[0],null==(n=null==ma?void 0:ma.data)?void 0:n.options[1]]:[],s=null!=(i=null==(r=null==(l=ma.data)?void 0:l.options)?void 0:r.filter((e=>e.selected)))?i:[],d=null==(u=s&&(null==s?void 0:s.length)>0?s:c)?void 0:u.map((e=>{var t,a;const n=null==(t=e.name)?void 0:t.split("_"),l=null!=(a=null==n?void 0:n.splice(n.length-2,n.length).join("_"))?a:"";return{shortMonthName:n?n[n.length-1]:"",monthsDate:l}})).filter((e=>!!e.monthsDate&&!!e.shortMonthName));var u;return{selectedFlexibleDatesNights:o,selectedFlexibleDatesMonths:d}})():{selectedFlexibleDatesNights:void 0,selectedFlexibleDatesMonths:[]},Ma=()=>{var e;const t=null==(e=null==Se?void 0:Se.flexibilityLabel)?void 0:e.templates,a=null==ka?void 0:ka.text,n=null==La?void 0:La.map((e=>e.shortMonthName)),l=ra&&n.length>0,r=l&&n.length>6?5:n.length-1,i=l&&t?t[r].template:"",o=l?[a,...n]:[];let c=i;return o.forEach(((e,t)=>{var a,n;const l=null==(n=null==(a=null==Se?void 0:Se.flexibilityLabel)?void 0:a.models[t])?void 0:n.key;c=we(c,null!=l?l:"",null!=e?e:"")})),c};n.useEffect((()=>{_a&&ha(Ma)}),[]);const Na=()=>{var e,t,a,n;if(_a){const a=Ma();ha(a);const n=null!=(t=null==(e=ma.data)?void 0:e.options.some((e=>e.selected)))&&t;n||ca({type:"MONTHS_SELECTION_DEFAULT_UPDATE"});const l=da.prevNightsRangeSelected!==da.data||(null==ua?void 0:ua.prevIncludeWeekendState)!==(null==ua?void 0:ua.data)||(null==ma?void 0:ma.prevMonthsOptionsSelected)!==ma.data;ca({type:"MONTHS_SELECTION_PREV_STATE_UPDATE",prevMonthsOptions:n?ma.data:Ia(ma.data)}),ca({type:"INCLUDE_WEEKEND_PREV_STATE_UPDATE",prevIncludeWeekendState:null==ua?void 0:ua.data}),ca({type:"NIGHTS_OPTIONS_PREV_STATE_UPDATE",prevNightsOptions:da.data}),Gt(l)}if(ea){const e="EGDSBasicTabs"===(null==(a=null==sa?void 0:sa.data)?void 0:a.__typename)?null==(n=sa.data)?void 0:n.selectedTabId:"";ca({type:"CONTENT_SELECTOR_PREV_STATE_UPDATE",prevTab:e}),sa.prevTabSelected!==e&&Gt(!0)}},Wa=(e,t)=>{if(!Zt&&ea&&(fa([xa]),Na()),!Y&&!q&&e&&t)return gt(e),Dt(t),void Gt(!0);e||t||Oa(),(null!=_t?_t:"")===e&&(null!=St?St:"")===t||(gt(e),Dt(t),Gt(!0))};(0,B._H)(W.z,W.vZ,{onSuccess:({payload:e})=>{const t=it(e.startDate),a=it(e.endDate);Fa(t,a),Wa(t,a)}});n.useEffect((()=>{He&&ca({type:"MONTHS_SELECTION_OPTIONS_UPDATE",monthsSelectionOptions:He})}),[He]);const[wa,Ua]=n.useState(!1),Ha={data:Se,onNightSelectionPillChange:e=>{ca({type:"NIGHTS_OPTIONS_CHANGED",nightsRangeSelected:e}),(e=>{var t,a,n;const l=da.data.findIndex((t=>t.value===e)),r=null==(n=null==(a=null==(t=null==Se?void 0:Se.flexibleDatesContent)?void 0:t.nightsSelection)?void 0:a.options[l])?void 0:n.selectAnalytics;(null==r?void 0:r.linkName)&&(null==r?void 0:r.referrerId)&&$e(r.referrerId,r.linkName)})(e);const t=e.includes("WEEK")||e.includes("6_DAY_LOWER,7_DAY_UPPER")||e.includes("MONTH"),a=e.includes("DAY"),n=ba(da.data);t&&ca({type:"INCLUDE_WEEKEND_UPDATE",checked:"CHECKED",enabled:!1}),a&&n&&ca({type:"INCLUDE_WEEKEND_UPDATE",checked:ua.checkboxNightsState,enabled:!0})},nightsSelectionPills:da.data,includeWeekendCheckbox:ua.data,onIncludeWeekendCheck:e=>{const t=e.target.checked?"CHECKED":"UNCHECKED";ca({type:"INCLUDE_WEEKEND_NIGHTS_STATE_UPDATE",checked:t}),ca({type:"INCLUDE_WEEKEND_UPDATE",checked:t})},onMonthSelectionToggle:e=>{ca({type:"MONTHS_SELECTION_UPDATE",selectedMonth:e.target.name})},monthsSelectionToggleButtons:ma.data,onContentSelectorSelection:e=>{var t;Ce("EGDSBasicTabs"===(null==(t=sa.data)?void 0:t.__typename)&&e===pa),ca({type:"CONTENT_SELECTOR_CHANGED",tabSelected:e}),e!==pa&&(null==Oe||Oe(),Je(Ke))},contentSelector:sa.data,priceInsightsPrices:ze,isPriceInsightsDataLoading:Ze,priceInsightsExplainabilityText:qe,hasMobileExplainabilityTextBeenClicked:wa},Va=ea?{component:Ta,props:Ha}:void 0,za=Zt||ya?Ht:Ra,Ya=null==he?void 0:he.includeFlexibleCalendarContent,qa="EGDSBasicTabs"===(null==(T=sa.data)?void 0:T.__typename)&&ya?"":"is-visually-hidden is-hidden",ja={data:null!=(C=null==Se?void 0:Se.calendarContent)?C:{},onSelect:e=>{if(null==qt?void 0:qt.length){const t=qt.find((t=>t.value===e));if(t){const{selectAnalytics:e,value:a,primary:n}=t,l=ct(t)?"":`(${n})`;Xt((e=>{var t,n;const r=null!=(n=null==(t=qt.find((t=>t.value===e.value)))?void 0:t.deselectAnalytics)?n:null;return r&&$e(r.referrerId,r.linkName),{value:a,trailingText:l,prevValue:e.value,hasValueChanged:!0}})),e&&$e(e.referrerId,e.linkName)}}},currentlySelectedPillValue:null!=(I=Qt.value)?I:"",className:ea?qa:"",includeFlexibleCalendarContent:!(!(null==he?void 0:he.includeFlexibleCalendarContent)||!(null==Se?void 0:Se.calendarContent))},Ka=Zt||!qe||ya?{flexibleCalendarProps:ja,dailyPriceExplainabilityTextProps:Me?{data:Me,isCalendarTab:ya}:void 0}:{data:qe,onHandleClick:()=>Ua((e=>!e)),isPriceInsightsLoading:Ze},Ja={inputName1:"EGDSDateRange-date-selector-trigger",input1Stid:null!=Ie?Ie:"default",autoCloseOnSelection:1===st.bucket,allowClearDates:null!=(A=Z&&ya)&&A,clearButtonLabel:J,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",dayTemplateComponent:null!=Re?Re:Ct,dayData:Ut,endDate:It,enableSameDayDateRange:j,inputLabel1:Q,inputLabel2:X,locale:Be,maxDate:$t,minDate:Wt,onDateRangeChange:Fa,onDateRangeClear:()=>{bt(null),At(null),Oa(),ie()},onClose:()=>{Rt&&be(!1);const e=Et!==ft;Zt?Na():fa((t=>{const a=e?[Ba,$a]:[Ba];return t?[...t,...a]:[...a]})),Qt.hasValueChanged&&""!==ft&&""!==It&&(Gt(!0),Xt((e=>ge(Ee({},e),{hasValueChanged:!1})))),xt&&(Gt(!0),Bt(!1)),ue(),Nt(!1)},onSubmit:Wa,onOpen:()=>{(null==Pe?void 0:Pe.presentationAnalytics)&&Ge?xe({clientPayload:JSON.parse(null==Pe?void 0:Pe.presentationAnalytics)}):(null==Pe?void 0:Pe.errorAnalytics)&&!Ge&&xe({clientPayload:JSON.parse(null==Pe?void 0:Pe.errorAnalytics)}),Rt&&be(!0),(null==Se?void 0:Se.contentSelector)&&(null==he?void 0:he.includeFlexibleDatesContent)&&(Fe?(ot(rt),1===rt.bucket&&Qe({variables:{context:Ne,gaiaId:null!=Fe?Fe:""}}),ya||Je(Ke)):ze&&(null==ze?void 0:ze.length)>0&&Ye(null)),me(),Nt(!0),ya||null==Oe||Oe()},invalidInput1:le,startDate:ft,submitButtonLabel:zt,useSingleTrigger:!0,initialOpenState:Lt,startDateRef:Ue,onNextClicked:ye,onPrevClicked:_e,onScrollHandler:Le,handleShape:"circle",alertTemplateComponent:za,alertTemplateData:Ka,calendarWrapper:Va,trailingText1:Ya&&!_a?null!=(F=Qt.trailingText)?F:"":void 0,dialogId:ve,inputValue1:_a?Sa:void 0,popoverWidth:Ae};return n.createElement(n.Fragment,null,n.createElement(x.E,Ee({},Ja)),(null==(k=null==(O=null==Se?void 0:Se.flexibleDatesContent)?void 0:O.nightsSelection)?void 0:k.includeWeekend)&&"CHECKED"===(null==(L=null==ua?void 0:ua.data)?void 0:L.state)&&ea&&!ya&&n.createElement("input",{type:"hidden","data-stid":ga,name:`${ga}-${null==(P=Se.flexibleDatesContent.nightsSelection)?void 0:P.includeWeekend.name}`,value:"INCLUDE_WEEKEND"}),(null==(N=null==(M=null==Se?void 0:Se.flexibleDatesContent)?void 0:M.nightsSelection)?void 0:N.options)&&ka&&ea&&!ya&&n.createElement("input",{type:"hidden","data-stid":Ea,name:`${Ea}-${ka.id}`,value:ka.value}),(null==(U=null==(w=null==Se?void 0:Se.flexibleDatesContent)?void 0:w.monthsSelection)?void 0:U.options)&&ea&&!ya&&n.createElement("input",{type:"hidden","data-stid":aa,name:aa,value:La.map((e=>e.monthsDate)).join("/")}),(null==Se?void 0:Se.calendarContent)&&Ya&&ya&&n.createElement("input",{type:"hidden","data-stid":wt,name:`${wt}-${null==(H=Se.calendarContent)?void 0:H.formElementId}`,value:null!=(V=Qt.value)?V:""}))},wa=u.J1`
  fragment EGDSDateRangePickerFragment on EGDSDateRangePicker {
    buttonText
    buttonTextTemplate {
      ... on EGDSCardinalLocalizedText {
        text
        models {
          key
          source
          __typename
        }
        templates {
          category
          template
          __typename
        }
        __typename
      }
    }
    clearButtonText
    firstDayOfWeek
    maxNumberOfDaysSelected
    sameDaySelectionAllowed
    selectedStartDate {
      ...DateFragment
    }
    startDatePlaceholderText
    selectedEndDate {
      ...DateFragment
    }
    endDatePlaceholderText
    validDaysLowerBoundInclusive {
      ...DateFragment
    }
    validDaysUpperBoundInclusive {
      ...DateFragment
    }
    submitButtonAnalytics {
      linkName
      referrerId
    }
    nextButtonAnalytics {
      linkName
      referrerId
    }
    previousButtonAnalytics {
      linkName
      referrerId
    }
    startDateButtonAnalytics {
      linkName
      referrerId
    }
    endDateButtonAnalytics {
      linkName
      referrerId
    }
    clearDatesButtonAnalytics {
      linkName
      referrerId
    }
    showClearDatesButton

    flexibleDateContent {
      ...EGDSDatePickerFlexibilityContentFragment
    }
  }

  fragment DateFragment on Date {
    day
    month
    year
  }

  ${Ta.fragment}
`,Ua="EGDSDatePickerFlexibleNights",Ha="EGDSDateRangePicker",Va={START_DATE_NAME_PREFIX:`${Ha}-StartDate`,END_DATE_NAME_PREFIX:`${Ha}-EndDate`,PARTIAL_STAY_START_DATE_NAME_PREFIX:"EGDSDateRangePartialStay-StartDate",PARTIAL_STAY_END_DATE_NAME_PREFIX:"EGDSDateRangePartialStay-EndDate",SOFT_PACKAGES_START_DATE_NAME_PREFIX:"EGDSDateRangePickerSoftPackages-StartDate",SOFT_PACKAGES_END_DATE_NAME_PREFIX:"EGDSDateRangePickerSoftPackages-EndDate",FLEXIBILITY_PREFIX:"EGDSDatePickerFlexibilityCalendarContent-SelectedOption",FLEXIBILITY_NIGHTS_PREFIX:`${Ua}-Options`,FLEXIBILITY_WEEKEND_PREFIX:`${Ua}-Weekend`,FLEXIBILITY_MONTHS_PREFIX:"EGDSDatePickerFlexibleMonths-Options"},za=e=>{var t,a,l,r,o,c;const s=(0,E.KY)(),{data:u,analytics:p,egdsElementId:y,label:_,validDaysUpperBoundInclusive:S,skipReflection:g,onOpenDatesField:h,updatePlaybackDates:v,lobName:D,enablePriceCalendar:f,priceCalendarInputs:T,dialogId:C,popoverWidth:I,gaiaId:A,dailyPriceInsightsConfig:F,onLocationChange:O,isPartialDates:k}=e,{__typename:P,selectedStartDate:M,selectedEndDate:N,validDaysUpperBoundInclusive:x,sameDaySelectionAllowed:B,clearButtonText:$,showClearDatesButton:W,startDatePlaceholderText:w,endDatePlaceholderText:U,clearDatesButtonAnalytics:H,endDateButtonAnalytics:V,startDateButtonAnalytics:z,submitButtonAnalytics:Y,nextButtonAnalytics:q,previousButtonAnalytics:j,flexibleDateContent:K,buttonText:J}=u,{context:Q}=(0,m.R)(),{state:X,dispatch:Z}=(0,i.kW)(),{start:ee,end:te}=null!=(t=X.dates)?t:{},{start:ae,end:ne}=null!=(a=X.partialStaysDates)?a:{},le=k&&ae?gt(dt(null!=ae?ae:"")):M,re=k&&ne?gt(dt(ne)):N,ie=le?it(lt(le)):"",oe=re?it(lt(re)):"",[ce,se]=n.useState({startDate:ie,endDate:oe}),de="EGDSBasicTabs"===(null==(l=null==K?void 0:K.contentSelector)?void 0:l.__typename)?null==K?void 0:K.contentSelector.tabs:null,ue=de&&"EGDSBasicTab"===de[0].__typename?de[0].tabId:"calendar-tab",[me,pe]=n.useState("EGDSBasicTabs"!==(null==(r=null==K?void 0:K.contentSelector)?void 0:r.__typename)||(null==K?void 0:K.contentSelector.selectedTabId)===ue),{exposure:ye,logExperiment:_e}=(0,R.useExperiment)("Daily_Price_Insight_AA_test"),{exposure:Se,logExperiment:he}=(0,R.useExperiment)("Price_Insight_Calendar_in_Search_Form"),{dailyPriceDebounce:ve}=null!=F?F:{},De=e=>"partial-stay-date-range-select"===y?Va[`PARTIAL_STAY_${e}_DATE_NAME_PREFIX`]:"soft_packages_date_form_field"===y?Va[`SOFT_PACKAGES_${e}_DATE_NAME_PREFIX`]:Va[`${e}_DATE_NAME_PREFIX`],fe=e=>{var t,a;const n=null!=(t=null==e?void 0:e.referrerId)?t:"",l=null!=(a=null==e?void 0:e.linkName)?a:"";n&&l&&s(n,l)},Te=(0,b.u)("EGDSPriceCalendar",(e=>e)),be=()=>{fe(Y),f&&Xe(`${ce.startDate} - ${ce.endDate}`,Te)},Ce=()=>{var e;if(f&&O&&(null==(e=null==T?void 0:T.journeyCriteria)?void 0:e[0])){const e=T.journeyCriteria[0];O({name:"origin_select",value:e.origin}),O({name:"destination_select",value:e.destination})}he&&Se&&he(Se),null==h||h(),fe(p)},[Ie,Ae]=n.useState(void 0),[Fe,Oe]=n.useState(void 0),[ke]=(0,G._)(Na,{onCompleted:e=>{var t,a,n,l,r,i,o,c,s,d;const u=null!=(n=null==(a=null==(t=null==e?void 0:e.searchFormPriceInsights)?void 0:t.dailyPrice)?void 0:a.days)?n:[];if(1===(null==Se?void 0:Se.bucket)){const t=u.length>0?St(u):void 0;Ae({days:t,explainabilityText:(null==(r=null==(l=null==e?void 0:e.searchFormPriceInsights)?void 0:l.dailyPrice)?void 0:r.explainabilityText)&&u.length>0?null==(o=null==(i=null==e?void 0:e.searchFormPriceInsights)?void 0:i.dailyPrice)?void 0:o.explainabilityText:void 0,analytics:null!=(d=null==(s=null==(c=null==e?void 0:e.searchFormPriceInsights)?void 0:c.dailyPrice)?void 0:s.analytics)?d:void 0})}}});n.useEffect((()=>{Oe(null==Ie?void 0:Ie.days)}),[Ie]);const Ge=e=>{ke({variables:e})},Re=1===(null==Se?void 0:Se.bucket)&&Fe?Dt:void 0,[Le,Pe]=n.useState(!1),Me=!!A&&!!Ge&&Le;n.useEffect((()=>{A?(Oe(void 0),Pe(!0)):A||Ae(void 0)}),[A]),n.useEffect((()=>{if(Me){const e=Et(new Date),t=Et(new Date((new Date).getFullYear(),(new Date).getMonth()+3));if(e&&t&&1===(null==ye?void 0:ye.bucket)){Ge({context:Q,criteria:{checkInDate:e,checkOutDate:t,gaiaId:A}})}_e&&ye&&ve&&_e(ye),Pe(!1)}}),[Le]);const Ne=Ee({onClearDates:()=>fe(H),onSelectEndDate:()=>fe(V),onSelectStartDate:()=>fe(z),onClose:be,onOpen:Ce,onChangeStartDate:e=>{se((t=>ge(Ee({},t),{startDate:null!=e?e:t.startDate}))),v&&v(e,!0)},onChangeEndDate:e=>{se((t=>(g||Z({type:"UPDATE_DATES",end:e,start:t.startDate}),v&&v(e,!1),ge(Ee({},t),{endDate:null!=e?e:t.endDate}))))},onNextCalendarClick:()=>{fe(q)},onPreviousCalendarClick:()=>{fe(j)}},g?{}:{startDateString:ee,endDateString:te}),xe=ge(Ee(Ee(Ee({},e),u),Ne),{typename:P,startDate:le,endDate:re,validDaysUpperBoundInclusive:null!=S?S:x,enableSameDayDateRange:B,clearButtonText:null!=$?$:"",inputLabel1:null!=_?_:w,inputLabel2:null!=_?_:U,allowClearDates:null!=W&&W,dayTemplateComponent:Re,priceInsightsDayData:Fe,dailyPriceInsightsConfig:ge(Ee({},F),{dailyPriceInsightsEnabled:1===Se.bucket}),dailyPriceAnalytics:null==Ie?void 0:Ie.analytics,showStartDateEndDateHiddenInputs:e=>pe(e),dailyPriceInsightsExplainabilityText:null==Ie?void 0:Ie.explainabilityText});n.useEffect((()=>{g||k||se((e=>Ee(Ee(Ee({},e),ee?{startDate:ee}:{}),te?{endDate:te}:{})))}),[se,ee,te,g]),n.useEffect((()=>{k&&se((e=>Ee(Ee(Ee({},e),ae?{startDate:ae}:{}),ne?{endDate:ne}:{})))}),[ae,ne,k]);const Be=n.useCallback((()=>ht(D,T,!0)),[D,T])(),$e={submitButtonLabel:J,initialStartDate:ie,initialEndDate:oe,dateLabel:null!=_?_:w,dialogId:C,onOpen:Ce,onClose:be,onDateChange:(e,t)=>{se({startDate:e,endDate:t})}};return n.createElement(n.Fragment,null,f&&D&&Be?n.createElement(L.D,{lobName:D,queryInputs:Be,priceCalendarPassthroughProps:$e}):n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(Wa,ge(Ee({},xe),{autoOpen:!1}))),n.createElement(d.rw,null,n.createElement(Wa,ge(Ee({},xe),{popoverWidth:I})))),me&&n.createElement(n.Fragment,null,n.createElement("input",{type:"hidden","data-stid":De("START"),name:`${De("START")}-${y}`,value:null!=(o=ce.startDate)?o:""}),n.createElement("input",{type:"hidden","data-stid":De("END"),name:`${De("END")}-${y}`,value:null!=(c=ce.endDate)?c:""})))};za.displayName=Ha,za.fragment=wa;var Ya="EGDSSingleDatePicker",qa=`${Ya}-Date`,ja=u.J1`
  fragment EGDSSingleDatePickerFragment on EGDSSingleDatePicker {
    buttonText
    selectedStartDate {
      ...DateFragment
    }
    validDaysLowerBoundInclusive {
      ...DateFragment
    }
    validDaysUpperBoundInclusive {
      ...DateFragment
    }
    submitButtonAnalytics {
      linkName
      referrerId
    }
    startDateButtonAnalytics {
      linkName
      referrerId
    }
    firstDayOfWeek
  }

  fragment DateFragment on Date {
    day
    month
    year
  }
`,Ka=({analytics:e,data:t,egdsElementId:a,label:l,setFieldRefByTypename:r,errorMessage:o,index:c,showCalendar:s,toggleCalendar:d,autoOpen:u,dialogId:p,skipReflection:y,updatePlaybackDates:_,totalLegs:S,input1Stid:g,lobName:h,enablePriceCalendar:v,priceCalendarInputs:D,onLocationChange:f})=>{var T;const C=(0,E.KY)(),{__typename:I,buttonText:A,selectedStartDate:F,validDaysLowerBoundInclusive:O,validDaysUpperBoundInclusive:k,startDateButtonAnalytics:G,submitButtonAnalytics:R}=t,{state:P,dispatch:M}=(0,i.kW)(),{start:N,end:$}=null!=(T=P.dates)?T:{},[w]=n.useState(null!=u&&u),U=new Date;(new Date).setDate(U.getDate()+1);const[H,V]=n.useState((()=>{if(F)return it(lt(F));if(v&&"flights"===h){const e=new Date;return e.setDate(e.getDate()+14),it(e)}return""})()),[z,Y]=n.useState(it(U)),[q,j]=n.useState(330),K=(0,b.u)(`${I}`,(e=>e)),[J,Q]=n.useState(!1),[X,Z]=n.useState(!1);n.useEffect((()=>{if(!y&&N?V(N):F&&V(it(lt(F))),O&&Y(it(lt(O))),k){const e=lt(k).getTime()-(new Date).getTime();j(nt(e))}}),[it,F,O,k,N]),n.useEffect((()=>{if(J){Q(!1);Xe(H?`${H}`:"",K)}}),[J]);const ee=`${a}${Number.isInteger(c)?`-${c}`:""}`,{context:te}=(0,m.R)(),ae=n.useRef(null),ne=e=>{var t,a;const n=null!=(t=null==e?void 0:e.referrerId)?t:"",l=null!=(a=null==e?void 0:e.linkName)?a:"";n&&l&&C(n,l)};n.useEffect((()=>{r("EGDSSearchFormDatePickerField",ae)}),[]);const le=e=>{Q(!1),Z(!0),V(e),_&&S&&(0===c||c===S-1)&&_(e,0===c),ne(G)},re=n.useCallback((()=>ht(h,D,!1)),[h,D]),ie=()=>{var t;if(v&&f&&(null==(t=null==D?void 0:D.journeyCriteria)?void 0:t[0])){const e=D.journeyCriteria[0];f({name:"origin_select",value:e.origin}),f({name:"destination_select",value:e.destination})}ne(e)},oe=()=>{ne(R),X&&(Q(!0),Z(!1))};(0,B._H)(W.Jm,W.ht,{onSuccess:()=>{var e;null==(e=ae.current)||e.click()}});const ce={isSingleDateSelection:!0,input1Stid:null!=g?g:"default",startDate:H,submitButtonLabel:A,inputLabel1:null!=l?l:void 0,maxDate:at(q),autoCloseOnSelection:!1,allowClearDates:!1,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",initialOpenState:w,locale:pt(te),handleShape:"circle",invalidInput1:o,dialogId:p,startDateRef:ae,onDateRangeChange:le,onOpen:ie,onClose:oe,endDate:null},se=re(),de={submitButtonLabel:A,initialStartDate:H,dateLabel:null!=l?l:void 0,dialogId:p,onOpen:ie,onClose:oe,onDateChange:le};return n.createElement(n.Fragment,null,v&&h&&se?n.createElement(L.D,{lobName:h,queryInputs:se,priceCalendarPassthroughProps:de}):n.createElement(x.E,Ee({},ce)),n.createElement("input",{type:"hidden","data-stid":qa,name:`${qa}-${ee}`,value:H}))};Ka.displayName=Ya,Ka.fragment=ja;var Ja=u.J1`
  fragment EGDSSearchFormDatePickerFieldFragment on EGDSSearchFormDatePickerField {
    egdsElementId
    label
    placeholder
    errorMessage
    validations {
      ... on EGDSMaxLengthInputValidation {
        errorMessage
      }
    }
    action {
      ...EGDSOpenDatePickerActionFragment
    }
  }

  fragment EGDSOpenDatePickerActionFragment on EGDSOpenDatePickerAction {
    accessibility
    analytics {
      linkName
      referrerId
    }
    datePicker {
      ...EGDSDateRangePickerFragment
      ...EGDSSingleDatePickerFragment
    }
  }

  ${za.fragment}
  ${Ka.fragment}
`,Qa=e=>{const{setFieldRefByTypename:t,fieldError:a,data:l,dialogId:r,validDaysUpperBoundInclusive:i,overrideErrorMessage:o,priceCalendarProps:c,popoverWidth:s}=e,{action:d,errorMessage:u,validations:m}=l,{lobName:p,enablePriceCalendar:y,priceCalendarInputs:_,onLocationChange:S}=null!=c?c:{},E=Qe();if("EGDSOpenDatePickerAction"!==(null==d?void 0:d.__typename))return null;const g=a?(e=>{var t,a;const n=e.validations,l=null==m?void 0:m.some((e=>"EGDSRequiredInputValidation"===e.__typename));return(null==n?void 0:n.sameDate)||(null==n?void 0:n.endDateBeforeStartDate)||(null==n?void 0:n.dateOutsideTripRange)?null!=(t=null!=o?o:u)?t:"":(null==n?void 0:n.maxDate)&&m&&"EGDSMaxLengthInputValidation"===m[0].__typename?null!=(a=m[0].errorMessage)?a:"":(null==n?void 0:n.emptyDate)&&l&&null!=u?u:""})(a):"",h=ge(Ee({},e),{analytics:d.analytics,setFieldRefByTypename:t,errorMessage:g,dialogId:r||E});switch(d.datePicker.__typename){case"EGDSDateRangePicker":return n.createElement(za,ge(Ee(Ee({},l),h),{data:d.datePicker,validDaysUpperBoundInclusive:i,lobName:p,enablePriceCalendar:y,priceCalendarInputs:_,onLocationChange:S,popoverWidth:s}));case"EGDSSingleDatePicker":return n.createElement(Ka,ge(Ee(Ee({},l),h),{data:d.datePicker,lobName:p,enablePriceCalendar:y,priceCalendarInputs:_,onLocationChange:S}));default:return null}};Qa.displayName="EGDSSearchFormDatePickerField",Qa.fragment=Ja;var Xa=u.J1`
  fragment EGDSPrimaryButtonFragment on UIPrimaryButton {
    egdsElementId
    ...EGDSButtonFragment
  }

  ${Ye}
`,Za=({data:e,onClick:t,size:a,isFullWidth:l=!0,floating:r=!1})=>{const{egdsElementId:i,primary:o,analytics:c}=e,s=null!=i?i:"search_form_primary_button",d=(0,E.KY)(),u={onClick:n.useCallback((()=>{if(c){const{referrerId:e,linkName:t}=c;d(e,t)}t()}),[c,t,d]),id:s,isFullWidth:l,size:a||k.E.LARGE};return r?n.createElement(Q.E,{type:"fade-button"},n.createElement(J.E,Ee({},u),o)):n.createElement(O.E,Ee({},u),o)};Za.displayName="SearchToolsEGDSPrimaryButton",Za.fragment=Xa;var en=u.J1`
  fragment EGDSTertiaryButtonFragment on UITertiaryButton {
    egdsElementId
    ...EGDSButtonFragment
  }

  ${Ye}
`,tn=({onClick:e,isFullWidth:t,size:a,data:l,isDisabled:r,domRef:i,id:o})=>{const{egdsElementId:c,primary:s,disabled:d,accessibility:u,analytics:m,icon:p}=l,y=o||(c||"search_form_tertiary_button"),S=(0,E.KY)(),g=r||d,h=n.useCallback((()=>{if(m){const{referrerId:e,linkName:t}=m;S(e,t)}e()}),[m,e,S]);return n.createElement(H.E,{"aria-label":null!=u?u:"",id:y,"data-test-id":y,onClick:h,disabled:g,isFullWidth:t,size:a,domRef:i},p&&n.createElement(_.a,{name:p.id}),s)};tn.displayName="SearchToolsEGDSTertiaryButton",tn.fragment=en;var an=u.J1`
  fragment EGDSSearchFormSelectActionFragment on EGDSSearchFormSelectAction {
    analytics {
      linkName
      referrerId
    }

    options {
      ...SearchFormSelectorOptionFragment
    }
  }

  fragment SearchFormSelectorOptionFragment on EGDSBasicOption {
    changeAnalytics {
      linkName
      referrerId
    }
    selected
    value
    label
  }
`,nn="EGDSSearchFormInputFieldWithSelection",ln=`${nn}`,rn=({data:e,trigger:t,triggerType:a,onOptionSelect:l,hideIcon:r})=>{var i,o,c;const{egdsElementId:s,leftIcon:u,label:m}=t,{analytics:p}=e,y=e.options.filter((({__typename:e})=>"EGDSBasicOption"===e)).map((e=>e)),_=(0,E.KY)(),[S,g]=n.useState(!1),[h,v]=n.useState(y.findIndex((e=>e.selected))),{label:D,value:f}=null!=(i=y.find(((e,t)=>t===h)))?i:t,[T,C]=n.useState(null!=f?f:""),I=n.createRef(),F=n.createRef(),O=n.createRef(),G=`${ln}-${s}`,R=(0,b.u)(G,(e=>e)),L=n.useCallback((e=>{e&&g((e=>!e));const{referrerId:t,linkName:a}=p;_(t,a)}),[p,_]),P=()=>{g(!1)},M=(0,b.u)(G,(e=>{if(C(e.target.value),l){const t=y.find((t=>t.value===e.target.value));t&&l(t)}return e})),N=()=>y.map(((e,t)=>n.createElement(X.a,{selected:t===h,key:e.label},n.createElement(X.b,null,n.createElement(k.a,{role:"menuitemradio",onClick:e=>((e,t)=>{var a,n,l,r,i,o,c,s;v(e),g(!1),Xe(y[e].value,R),_(null!=(l=null==(n=null==(a=y[e])?void 0:a.changeAnalytics)?void 0:n.referrerId)?l:"",null!=(o=null==(i=null==(r=y[e])?void 0:r.changeAnalytics)?void 0:i.linkName)?o:""),null==(c=null==I?void 0:I.current)||c.focus(),null==(s=O.current)||s.focus(),t.preventDefault()})(t,e)},e.label)),n.createElement(A.c,{size:300},e.label)))),x=n.createElement(Z.i,{name:G,label:null!=m?m:"",icon:r?"":null!=(o=null==u?void 0:u.id)?o:"",domRef:F,onChange:M,"aria-label":null!=m?m:""},y.map((({label:e,value:t})=>n.createElement("option",{key:t,label:e,value:t},t)))),B=n.createElement(Y.E,{name:G,id:s,triggerPill:!0,selected:!0,toggleState:S,onClick:()=>L(!0),domRef:O},null!=(c=D!==m?D:f)?c:""),$=e=>n.createElement(ee.E,{id:`${s}_menu`,isOpen:S,onDismiss:P,disableBodyClickHandler:!1},n.createElement(ee.b,null,B),n.createElement(ee.c,{position:ee.P.LEFT,width:e},n.createElement("div",{role:"menu"},n.createElement(X.E,null,N()))));return n.createElement(n.Fragment,null,"pill"===a&&n.createElement(d.LM,null,n.createElement(d.NP,null,$(210)),n.createElement(d.rw,null,$(260))),"selector"===a&&x,n.createElement("input",{type:"hidden","data-testid":G,name:G,value:"selector"===a?T:null!=f?f:""}))};rn.displayName=nn,rn.fragment=an;var on=u.J1`
  fragment EGDSSearchFormInputFieldFragment on EGDSSearchFormInputField {
    egdsElementId
    value
    label
    placeholder
    leftIcon {
      ...IconFragment
    }
    action {
      ...EGDSSearchFormSelectActionFragment
    }
  }
  ${Ot.fragment}
  ${rn.fragment}
`,cn=({data:e,triggerType:t,onOptionSelect:a,hideIcon:l})=>{var r;return"EGDSSearchFormSelectAction"===(null==(r=e.action)?void 0:r.__typename)&&t?n.createElement(rn,{data:e.action,trigger:e,triggerType:t,onOptionSelect:a,hideIcon:l}):null};cn.displayName="EGDSSearchFormInputField",cn.fragment=on;var sn=u.J1`
  fragment EGDSBasicOptionFragment on EGDSBasicOption {
    label
    value
    egdsElementId
    changeAnalytics {
      linkName
      referrerId
    }
    __typename
  }
`,dn=({data:e})=>{const{label:t,value:a,egdsElementId:l}=e,r=`${l}-${a}`;return n.createElement("option",{key:r,value:a},t)};dn.displayName="EGDSBasicOption",dn.fragment=sn;var un=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,mn=(e,t,a)=>{if("EGDSTravelerChildren"===a.children.__typename){const{children:n}=a,l=ge(Ee({},n),{count:ge(Ee({},n.count),{value:e}),ages:t.length?t.map((e=>ge(Ee({},n.ageTemplate),{value:e}))):[]});return Ee({},l)}return Ee({},a.children)},pn=(e,t,a,n)=>{var l;if(!a)return null;const r=t.reduce(((e,t)=>{var a,n;return e+t.adults.value+t.children.count.value+(null!=(n=null==(a=t.infants)?void 0:a.count.value)?n:0)}),0),i="lap"===n?t.reduce(((e,t)=>{var a,n;return e+(null!=(n=null==(a=t.infants)?void 0:a.count.value)?n:0)}),0):0,o="seat"===n?t.reduce(((e,t)=>{var a,n;return e+(null!=(n=null==(a=t.infants)?void 0:a.count.value)?n:0)}),0):0,c=t.reduce(((e,t)=>{var a;return e+(null!=(a=t.adults.value)?a:0)}),0),s=t.reduce(((e,t)=>e+t.children.count.value),0),d=t.reduce(((e,t)=>{var a;return e+(null!=(a=("EGDSTravelerChildren"===t.children.__typename?t.children.ages:[]).filter((e=>"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12)).length)?a:0)}),0),u=(e=>e.reduce(((e,t)=>{var a,n;const l="EGDSTravelerChildren"===t.children.__typename?t.children.ages:[],r="EGDSTravelerInfant"===(null==(a=t.infants)?void 0:a.__typename)?t.infants.ages:[];return e+l.filter(un).length+(null!=(n=r.filter(un).length)?n:0)}),0))(t),m=d+c<i,p=a.map((e=>{var a;if("EGDSTravelersInputValidation"===e.__typename){const{type:n,errorMessage:l,maxCount:i,errorSummary:p,infantsInSeatPerAdult:y}=e;return null!=(a={MAX_TRAVELERS:i&&r>i?{message:l,type:n,displayConfirmation:!0,errorCount:1,errorSummary:ge(Ee({},p),{heading:l})}:null,CHILD_AGE_REQUIRED:u>0?{message:l,type:n,displayConfirmation:!1,errorCount:u,errorSummary:p}:null,MANY_INFANT_ON_LAP:m?{message:l,type:n,displayConfirmation:!0,errorCount:1,errorSummary:p}:null,MANY_INFANT_IN_SEAT:y&&d+c<o/y?{message:l,type:n,displayConfirmation:!0,errorCount:1,errorSummary:p}:null,MAX_ROOMS_WITH_CHILD:t.length>1&&s>0?{message:l,type:n,displayConfirmation:!0,errorCount:1,errorSummary:p}:null}[n])?a:null}return null})).filter((e=>null!==e));return p.find((t=>e&&e.type===t.type))&&(null==e?void 0:e.displayConfirmation)?ge(Ee({},e),{errorCount:"CHILD_AGE_REQUIRED"===e.type?u:1}):null!=(l=p[0])?l:null},yn=(e,t)=>{var a,n,l,r,i,o,c,s,d;switch(t.type){case"ADD_ROOM":{const{adults:t,label:l,removeRoomButton:r,removeRoomAnnouncement:i,children:o,infants:c}=e.rooms[0];if("EGDSTravelerStepInput"===t.__typename&&"EGDSTravelerChildren"===o.__typename&&o.ages){const s=ge(Ee({},o.count),{value:0}),d={__typename:"EGDSTravelerSelectorRoom",children:ge(Ee({},o),{count:s,ages:[]}),adults:ge(Ee({},t),{value:1}),label:l,removeRoomButton:r,removeRoomAnnouncement:i,infants:"EGDSTravelerInfant"===(null==c?void 0:c.__typename)?ge(Ee({},c),{count:ge(Ee({},c.count),{value:0}),ages:[]}):null},u=e.rooms.concat(d),m=pn(e.error?e.error:null,u,null!=(a=e.validations)?a:[],null==(n=e.infantSeatSelection)?void 0:n.value);return ge(Ee({},e),{rooms:u,error:m})}return ge(Ee({},e),{rooms:[]})}case"REMOVE_ROOM":{const{roomIndex:a}=t,n=e.rooms.filter(((e,t)=>t!==a)),i=pn(e.error?e.error:null,n,null!=(l=e.validations)?l:[],null==(r=e.infantSeatSelection)?void 0:r.value);return ge(Ee({},e),{rooms:n,error:i})}case"RESET_STATE":return t.state;case"RESET_ROOMS":return ge(Ee({},e),{rooms:t.state.rooms});case"UPDATE_INFANT_SEAT_SELECTION":{const{value:a}=t,n=pn(e.error?e.error:null,e.rooms,null!=(i=e.validations)?i:[],a);return ge(Ee({},e),{infantSeatSelection:{value:t.value},error:n})}case"UPDATE_TRAVELERS_COUNT":{const{roomIndex:a,count:n,travelersType:l}=t,r=e.rooms.map(((e,t)=>{var r,i,o;if(t===a)switch(l){case"adults":return ge(Ee({},e),{adults:ge(Ee({},e.adults),{value:n})});case"children":if("EGDSTravelerChildren"===e.children.__typename){const{children:t}=e,a=n>t.count.value,l="EGDSTravelerChildAgeSelect"===t.ageTemplate.__typename?ge(Ee({},t.ageTemplate),{value:null}):null,o=a?null==(r=t.ages)?void 0:r.concat(null!=l?l:t.ageTemplate):null==(i=t.ages)?void 0:i.slice(0,-1),c=ge(Ee({},t),{count:ge(Ee({},t.count),{value:n}),ages:o});return ge(Ee({},e),{children:c})}return e;case"infants":if("EGDSTravelerInfant"===(null==(o=e.infants)?void 0:o.__typename)){const{infants:t}=e,a=n>t.count.value?t.ages.concat(t.ageTemplate):t.ages.slice(0,-1),l=ge(Ee({},t),{count:ge(Ee({},t.count),{value:n}),ages:a});return ge(Ee({},e),{infants:l})}return e;default:return e}return e})),i=pn(e.error?e.error:null,r,null!=(o=e.validations)?o:[],null==(c=e.infantSeatSelection)?void 0:c.value);return ge(Ee({},e),{rooms:r,error:i})}case"UPDATE_CHILD_AGE":{const{roomIndex:a,childIndex:n,childAge:l,isInfant:r}=t,i=e.rooms.map(((e,t)=>{var i;return t!==a||"EGDSTravelerChildren"!==e.children.__typename||r?t===a&&"EGDSTravelerInfant"===(null==(i=e.infants)?void 0:i.__typename)&&r?ge(Ee({},e),{infants:ge(Ee({},e.infants),{ages:e.infants.ages.map(((e,t)=>"EGDSTravelerChildAgeSelect"===e.__typename&&n===t?ge(Ee({},e),{value:l}):Ee({},e)))})}):e:ge(Ee({},e),{children:ge(Ee({},e.children),{ages:e.children.ages.map(((e,t)=>"EGDSTravelerChildAgeSelect"===e.__typename&&n===t?ge(Ee({},e),{value:l}):Ee({},e)))})})})),o=pn(e.error?e.error:null,i,null!=(s=e.validations)?s:[],null==(d=e.infantSeatSelection)?void 0:d.value);return ge(Ee({},e),{rooms:i,error:o})}case"SHOW_ERROR":if(e.error){const{message:t,type:a,errorCount:n,errorSummary:l}=e.error,r={message:t,type:a,displayConfirmation:!0,errorCount:n,errorSummary:l};return ge(Ee({},e),{error:r})}return Ee({},e);case"SET_VALIDATIONS":return ge(Ee({},e),{validations:t.validations});case"UPDATE_TRAVELERS_BULK":{const{adultTravelerCounts:a,childTravelerCounts:n,childrenAges:l}=t;if(null==a?void 0:a.length){const t=a.map(((t,a)=>ge(Ee({},e.rooms[a]),{adults:ge(Ee({},e.rooms[a].adults),{value:t}),children:(null==l?void 0:l.length)?mn((null==n?void 0:n.length)?n[a]:0,l[a],e.rooms[a]):ge(Ee({},e.rooms[a].children),{count:ge(Ee({},e.rooms[a].children.count),{value:0}),ages:[]})})));return ge(Ee({},e),{rooms:t})}return Ee({},e)}default:return e}},_n=n.createContext({state:{}}),Sn=({children:e,rooms:t,validations:a,skipQuery:l,infantSeatSelection:r})=>{const[i,o]=n.useReducer(yn,{rooms:t,validations:a,infantSeatSelection:r?{value:r.selected}:null}),[c,s]=n.useState(i);n.useEffect((()=>{l||o({type:"RESET_STATE",state:{rooms:t,validations:a,infantSeatSelection:r?{value:r.selected}:null}})}),[l,r,t]),n.useEffect((()=>{i!==c&&s(i)}),[i,c]),n.useEffect((()=>{o({type:"SET_VALIDATIONS",validations:a})}),[a]);const d={state:c,dispatch:o};return n.createElement(_n.Provider,{value:d},e)},En=()=>n.useContext(_n),gn=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,hn=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,vn=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,Dn=(e,t,a)=>{var n,l,r,i,o,c,s,d,u;if(!a)return null;const m=null!=(l=null==(n=t.children)?void 0:n.count.value)?l:0,p=null!=(i=null==(r=t.infantsInSeat)?void 0:r.count.value)?i:0,y=null!=(c=null==(o=t.infantsOnLap)?void 0:o.count.value)?c:0,_=null!=(s=t.adults.value)?s:0,S=_+m+p+y,E="EGDSTravelerChildren"===(null==(g=t.children)?void 0:g.__typename)?g.ages.filter(gn).length:0;var g;const h=(e=>"EGDSTravelerInfant"===(null==e?void 0:e.__typename)?null==e?void 0:e.ages.filter(hn).length:0)(t.infantsInSeat);var v;const D=E+h+("EGDSTravelerInfant"===(null==(v=t.infantsOnLap)?void 0:v.__typename)?null==v?void 0:v.ages.filter(vn).length:0),f="EGDSTravelerChildren"===(null==(d=t.children)?void 0:d.__typename)?null==(u=t.children)?void 0:u.ages.filter((e=>"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12)).length:0,T=f+_<y,b=a.map((e=>{if("EGDSTravelersInputValidation"===e.__typename){const{type:t,errorMessage:a,maxCount:n,errorSummary:l,infantsInSeatPerAdult:r}=e;return{MAX_TRAVELERS:n?S>n&&{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null,CHILD_AGE_REQUIRED:D>0?{message:a,type:t,displayConfirmation:!1,errorCount:D,errorSummary:l}:null,MANY_INFANT_ON_LAP:T?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null,MANY_INFANT_IN_SEAT:r&&f+_<p/r?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null}[t]}return null})).filter((e=>!!e));return b.find((t=>e&&e.type===(null==t?void 0:t.type)))&&(null==e?void 0:e.displayConfirmation)?ge(Ee({},e),{errorCount:"CHILD_AGE_REQUIRED"===e.type?D:1}):b?b[0]:null},fn=(e,t)=>{var a,n,l,r;switch(t.type){case"RESET_STATE":return t.state;case"UPDATE_TRAVELERS_COUNT":{const n=((e,t)=>{var a,n,l,r,i,o,c,s,d,u,m,p,y,_;switch(t.travelersType){case"adults":return ge(Ee({},e),{adults:ge(Ee({},e.adults),{value:t.count})});case"children":if("EGDSTravelerChildren"===(null==(a=e.children)?void 0:a.__typename)){const{children:a}=e,r=t.count>a.count.value,i="EGDSTravelerChildAgeSelect"===a.ageTemplate.__typename?ge(Ee({},a.ageTemplate),{value:null}):null,o=r?null==(n=a.ages)?void 0:n.concat(null!=i?i:a.ageTemplate):null==(l=a.ages)?void 0:l.slice(0,-1),c=ge(Ee({},a),{count:ge(Ee({},a.count),{value:t.count}),ages:o});return ge(Ee({},e),{children:c})}if("EGDSBasicTraveler"===(null==(r=e.children)?void 0:r.__typename)){const{children:a}=e;return ge(Ee({},e),{children:ge(Ee({},a),{count:ge(Ee({},a.count),{value:t.count})})})}return e;case"infants_in_seat":if("EGDSTravelerInfant"===(null==(i=e.infantsInSeat)?void 0:i.__typename)&&"EGDSTravelerInfant"===(null==(o=e.infantsOnLap)?void 0:o.__typename)){const{infantsInSeat:a,infantsOnLap:n}=e,l=t.count>a.count.value?null==(c=a.ages)?void 0:c.concat(a.ageTemplate):null==(s=a.ages)?void 0:s.slice(0,-1),r=ge(Ee({},a),{count:ge(Ee({},a.count),{value:t.count}),ages:l}),i=r.count.value>0?0:r.count.max,o=ge(Ee({},n),{count:ge(Ee({},null==n?void 0:n.count),{max:i})});return ge(Ee({},e),{infantsInSeat:r,infantsOnLap:o})}if("EGDSBasicTraveler"===(null==(d=e.infantsInSeat)?void 0:d.__typename)){const{infantsInSeat:a}=e;return ge(Ee({},e),{infantsInSeat:ge(Ee({},a),{count:ge(Ee({},a.count),{value:t.count})})})}return e;case"infants_on_lap":if("EGDSTravelerInfant"===(null==(u=e.infantsOnLap)?void 0:u.__typename)&&"EGDSTravelerInfant"===(null==(m=e.infantsInSeat)?void 0:m.__typename)){const{infantsOnLap:a,infantsInSeat:n}=e,l=t.count>a.count.value?null==(p=a.ages)?void 0:p.concat(a.ageTemplate):null==(y=a.ages)?void 0:y.slice(0,-1),r=ge(Ee({},a),{count:ge(Ee({},a.count),{value:t.count}),ages:l}),i=r.count.value>0?0:r.count.max,o=ge(Ee({},n),{count:ge(Ee({},null==n?void 0:n.count),{max:i})});return ge(Ee({},e),{infantsOnLap:r,infantsInSeat:o})}if("EGDSBasicTraveler"===(null==(_=e.infantsOnLap)?void 0:_.__typename)){const{infantsOnLap:a}=e;return ge(Ee({},e),{infantsOnLap:ge(Ee({},a),{count:ge(Ee({},a.count),{value:t.count})})})}return e;default:return e}})(e.travelers,t),l=Dn(e.error?e.error:null,n,null!=(a=e.validations)?a:[]);return ge(Ee({},e),{travelers:n,error:l})}case"UPDATE_CHILD_AGE":{const a=((e,t)=>{var a,n,l;return"EGDSTravelerChildren"===(null==(a=e.children)?void 0:a.__typename)&&""===t.infantType?ge(Ee({},e),{children:ge(Ee({},e.children),{ages:e.children.ages.map(((e,a)=>"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===a?ge(Ee({},e),{value:t.childAge}):Ee({},e)))})}):"EGDSTravelerInfant"===(null==(n=e.infantsInSeat)?void 0:n.__typename)&&"infants_in_seat"===t.infantType?ge(Ee({},e),{infantsInSeat:ge(Ee({},e.infantsInSeat),{ages:e.infantsInSeat.ages.map(((e,a)=>"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===a?ge(Ee({},e),{value:t.childAge}):Ee({},e)))})}):"EGDSTravelerInfant"===(null==(l=e.infantsOnLap)?void 0:l.__typename)&&"infants_on_lap"===t.infantType?ge(Ee({},e),{infantsOnLap:ge(Ee({},e.infantsOnLap),{ages:e.infantsOnLap.ages.map(((e,a)=>"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===a?ge(Ee({},e),{value:t.childAge}):Ee({},e)))})}):e})(e.travelers,t),l=Dn(e.error?e.error:null,a,null!=(n=e.validations)?n:[]);return ge(Ee({},e),{travelers:a,error:l})}case"UPDATE_PETS_FILTER":{const a=((e,t)=>{var a;if("EGDSBasicCheckBox"===(null==(a=e.pets)?void 0:a.__typename)){const a=t.checked?"CHECKED":"UNCHECKED";return ge(Ee({},e),{pets:ge(Ee({},e.pets),{state:a})})}return e})(e.travelers,t),n=Dn(e.error?e.error:null,a,null!=(l=e.validations)?l:[]);return ge(Ee({},e),{travelers:a,error:n})}case"SHOW_ERROR":if(e.error){const{message:t,type:a,errorCount:n,errorSummary:l}=e.error,r={message:t,type:a,displayConfirmation:!0,errorCount:n,errorSummary:l};return ge(Ee({},e),{error:r})}return Ee({},e);case"UPDATE_TRAVELERS_BULK":{const{adultTravelerCounts:a,childTravelerCounts:n,childrenAges:l,petCounts:i}=t,o=((e,t,a,n)=>{var l;if("EGDSTravelerChildren"===(null==(l=n.children)?void 0:l.__typename)){const{children:l}=n;return ge(Ee({},n),{adults:ge(Ee({},n.adults),{value:e}),children:ge(Ee({},n.children),{count:ge(Ee({},n.children.count),{value:t}),ages:a.length?a.map((e=>ge(Ee({},null==l?void 0:l.ageTemplate),{value:e}))):[]})})}return n})(a,n,l,e.travelers),c=((e,t)=>{var a;if("EGDSBasicCheckBox"===(null==(a=e.pets)?void 0:a.__typename)){const a=t>0?"CHECKED":"UNCHECKED";return ge(Ee({},e),{pets:ge(Ee({},e.pets),{state:a})})}return e})(o,i),s=Dn(e.error?e.error:null,o,null!=(r=e.validations)?r:[]);return ge(Ee({},e),{travelers:c,error:s})}case"UPDATE_CABIN_CLASS":return ge(Ee({},e),{cabinClass:t.cabinClass});default:return e}},Tn=n.createContext({state:{}}),bn=({children:e,travelers:t,validations:a,skipQuery:l,cabinClass:r})=>{const[i,o]=n.useReducer(fn,{travelers:t,validations:a,cabinClass:r});n.useEffect((()=>{l||o({type:"RESET_STATE",state:{travelers:t,validations:a,cabinClass:r}})}),[l]);const c=n.useMemo((()=>({state:i,dispatch:o,cabinClass:r})),[i,o,r]);return n.createElement(Tn.Provider,{value:c},e)},Cn=()=>n.useContext(Tn),In=u.J1`
  fragment EGDSTravelerChildAgeSelectFragment on EGDSTravelerChildAgeSelect {
    labelTemplate {
      ... on EGDSBasicLocalizedText {
        models {
          key
          source
        }
        template
      }
    }
    options {
      ...EGDSBasicOptionFragment
    }
    egdsElementId
    value
  }

  ${dn.fragment}
`,An=({childIndex:e,roomIndex:t,isInfant:a,infantType:l,childAgeRef:r,data:i})=>{const o=En(),c=Cn(),s=void 0!==t,{labelTemplate:d,options:u,egdsElementId:m,value:p}=i,y=(0,E.KY)(),_=`child-${m}${s?`-${t}`:""}-${e}`,S=`age-${m}${s?`-${t}`:""}-${e}`,g=e+1,h=null!=p?p:"",v=Number.isInteger(h),{error:D}=s?o.state:c.state,f="CHILD_AGE_REQUIRED"===(null==D?void 0:D.type)&&D.displayConfirmation,T=D&&"CHILD_AGE_REQUIRED"===D.type&&!v&&f?D.message:"",b="EGDSBasicLocalizedText"===d.__typename&&d.models.length>=1?we(d.template,d.models[0].key,g.toString()):"";return n.createElement(Z.i,{domRef:r,invalid:T,label:b,"aria-label":b,id:S,name:_,onChange:n=>{const r=parseInt(n.target.value,10),i=u.find((e=>"EGDSBasicOption"===e.__typename&&e.value===n.target.value));if(i&&"EGDSBasicOption"===(null==i?void 0:i.__typename)&&(null==i?void 0:i.changeAnalytics)){const{referrerId:e,linkName:t}=i.changeAnalytics;y(e,t)}Number.isNaN(r)||(s?o.dispatch({type:"UPDATE_CHILD_AGE",roomIndex:t,childIndex:e,childAge:r,isInfant:a,infantType:l}):c.dispatch({type:"UPDATE_CHILD_AGE",childIndex:e,childAge:r,infantType:l}))},value:h,emptyState:"string"==typeof h,required:!0},u.map((e=>"EGDSBasicOption"===e.__typename&&n.createElement(dn,{key:`${_}-${e.value}`,data:e}))))};An.displayName="EGDSTravelerChildAgeSelect",An.fragment=ge(Ee({},In),{__typename:"EGDSTravelerChildAgeSelect"});var Fn=u.J1`
  fragment TemplateModelFragment on TemplateModel {
    key
    source
  }
`,On=u.J1`
  fragment EGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {
    template
    models {
      ...TemplateModelFragment
    }
  }

  ${Fn}
`,kn=u.J1`
  fragment EGDSCardinalLocalizedTextFragment on EGDSCardinalLocalizedText {
    egdsElementId
    text
    models {
      ...TemplateModelFragment
    }
    templates {
      ...CardinalTemplateFragment
    }
  }

  fragment CardinalTemplateFragment on CardinalTemplate {
    template
    category
  }

  ${Fn}
`,Gn=u.J1`
  fragment EGDSCompositeLocalizedTextFragment on EGDSCompositeLocalizedText {
    egdsElementId
    text
    template
    models {
      ...CompositeLocalizedTextModelFragment
    }
  }

  fragment CompositeLocalizedTextModelFragment on CompositeLocalizedTextModel {
    key
    models {
      ...EGDSTemplateModelsFragment
    }
  }

  fragment EGDSTemplateModelsFragment on EGDSTemplateModels {
    models {
      ...TemplateModelFragment
    }
  }

  ${Fn}
`,Rn=u.J1`
  fragment EGDSLocalizedTextFragment on EGDSLocalizedText {
    ...EGDSBasicLocalizedTextFragment
    ...EGDSCardinalLocalizedTextFragment
    ...EGDSCompositeLocalizedTextFragment
  }

  ${On}
  ${kn}
  ${Gn}
`,Ln=u.J1`
  fragment EGDSTravelerStepInputFragment on EGDSStepInput {
    ... on EGDSTravelerStepInput {
      decreaseAnalytics {
        linkName
        referrerId
      }
      increaseAnalytics {
        linkName
        referrerId
      }
      decreaseText
      decreaseTextTemplate {
        ...EGDSBasicLocalizedTextFragment
      }
      increaseText
      increaseTextTemplate {
        ...EGDSBasicLocalizedTextFragment
      }
      egdsElementId
    }
    label
    max
    min
    step
    subLabel
    value
  }

  ${On}
`,Pn=(e,t)=>{if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){const a=(t+1).toString();return we(e.template,e.models[0].key,a)}return""},Mn=({roomIndex:e,travelersType:t,data:a})=>{const{label:l,max:r,min:i,subLabel:o,value:c}=a,s=En(),d=Cn(),u=(0,E.KY)(),m=void 0!==e,p="EGDSTravelerStepInput"===a.__typename&&(m?{incrementText:Pn(a.increaseTextTemplate,e),decrementText:Pn(a.decreaseTextTemplate,e)}:{incrementText:a.increaseText||"",decrementText:a.decreaseText||""}),y="EGDSTravelerStepInput"===a.__typename?`${a.egdsElementId}${m?`-${e}`:""}`:"";return n.createElement(te.a,ge(Ee({},p),{label:l,incrementId:`${y}-increase`,decrementId:`${y}-decrease`,min:null!=i?i:0,max:null!=r?r:0,onChange:n=>{const l=parseInt(n.target.value,10);if("EGDSTravelerStepInput"===a.__typename){const{increaseAnalytics:e,decreaseAnalytics:t}=a;l>c&&e.referrerId&&e.linkName?u(e.referrerId,a.increaseAnalytics.linkName):t.referrerId&&t.linkName&&u(t.referrerId,a.decreaseAnalytics.linkName)}Number.isNaN(l)||(m?s.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:t,roomIndex:e,count:l}):d.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:t,count:l}))},value:c,description:null!=o?o:"",id:y}))};Mn.displayName="EGDSTravelersStepInput",Mn.fragment=ge(Ee({},Ln),{__typename:"EGDSTravelerStepInput"});var Nn=u.J1`
  fragment EGDSTravelerChildrenFragment on EGDSTraveler {
    count {
      ...EGDSTravelerStepInputFragment
    }
    ... on EGDSBasicTraveler {
      type
    }
    ... on EGDSTravelerChildren {
      ages {
        ...EGDSTravelerChildAgeSelectFragment
      }
      ageTemplate {
        ...EGDSTravelerChildAgeSelectFragment
      }
    }
    ... on EGDSTravelerInfant {
      ages {
        ...EGDSTravelerChildAgeSelectFragment
      }
      ageTemplate {
        ...EGDSTravelerChildAgeSelectFragment
      }
    }
  }

  ${Mn.fragment}
  ${An.fragment}
`,xn=({data:e,childAgeRef:t,roomIndex:a,travelersType:l})=>{var i;const{count:o,__typename:c}=e,s="infants"===l||"infants_on_lap"===l||"infants_in_seat"===l,d=("EGDSTravelerInfant"!==e.__typename&&"EGDSTravelerChildren"!==e.__typename||!e.ages?[]:e.ages).findIndex((e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value));return n.createElement(n.Fragment,null,o&&"EGDSTravelerStepInput"===o.__typename&&n.createElement(Mn,{travelersType:l,roomIndex:a,data:o}),("EGDSTravelerChildren"===c||"EGDSTravelerInfant"===c)&&n.createElement(f.i,{wrap:"wrap"},null==(i=e.ages)?void 0:i.map(((e,i)=>"EGDSTravelerChildAgeSelect"===e.__typename&&n.createElement(n.Fragment,{key:i},n.createElement(r.b,{padding:{blockstart:"two",inlineend:"two"}},n.createElement(f.j,{minWidth:"full_width"},n.createElement("div",null,n.createElement(An,{key:i,childIndex:i,roomIndex:a,isInfant:s,infantType:s?l:"",data:e,childAgeRef:d===i?t:void 0})))))))))};xn.displayName="EGDSTravelersChildren",xn.fragment=ge(Ee({},Nn),{__typename:"EGDSTravelerChildren"});var Bn=({data:e})=>{const{state:t,dispatch:a}=Cn(),{pets:l}=t.travelers;if("EGDSBasicCheckBox"!==(null==l?void 0:l.__typename))return null;const r="CHECKED"===l.state;return n.createElement(ia,{data:e,checked:r,onChange:e=>{a({type:"UPDATE_PETS_FILTER",checked:e.currentTarget.checked})}})},$n=u.J1`
  fragment EGDSTravelersFragment on EGDSTravelers {
    adults {
      ...EGDSTravelerStepInputFragment
    }
    children {
      ...EGDSTravelerChildrenFragment
    }
    infantsInSeat {
      ...EGDSTravelerChildrenFragment
    }
    infantsOnLap {
      ...EGDSTravelerChildrenFragment
    }
    pets {
      ...EGDSBasicCheckBoxFragment
    }
  }

  ${ia.fragment}
  ${xn.fragment}
  ${Mn.fragment}
`,Wn=({childAgeRef:e,infantsOnLapRef:t,infantsInSeatRef:a,isTravelersExpanded:l,data:i})=>{const{adults:o,children:c,pets:s,infantsInSeat:d,infantsOnLap:u}=i,m=n.useRef(null);return n.useEffect((()=>{var e;l&&(null==(e=m.current)||e.focus())}),[l]),n.createElement(n.Fragment,null,"EGDSTravelerStepInput"===o.__typename&&n.createElement(r.b,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement("span",{className:"is-visually-hidden",tabIndex:-1,ref:m},o.label),n.createElement(Mn,{travelersType:"adults",data:o}))),("EGDSTravelerChildren"===(null==c?void 0:c.__typename)||"EGDSBasicTraveler"===(null==c?void 0:c.__typename))&&n.createElement(r.b,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(xn,{travelersType:"children",childAgeRef:e,data:c}))),("EGDSTravelerInfant"===(null==u?void 0:u.__typename)||"EGDSBasicTraveler"===(null==u?void 0:u.__typename))&&n.createElement(r.b,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(xn,{travelersType:"infants_on_lap",childAgeRef:t,data:u}))),("EGDSTravelerInfant"===(null==d?void 0:d.__typename)||"EGDSBasicTraveler"===(null==d?void 0:d.__typename))&&n.createElement(r.b,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(xn,{travelersType:"infants_in_seat",childAgeRef:a,data:d}))),"EGDSBasicCheckBox"===(null==s?void 0:s.__typename)&&n.createElement(r.b,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(Bn,{data:s}))))};Wn.displayName="EGDSTravelers",Wn.fragment=ge(Ee({},$n),{__typename:"EGDSTravelers"});var wn=u.J1`
  fragment EGDSBasicTravelerSelectorFragment on EGDSBasicTravelerSelector {
    closeButton {
      ...EGDSPrimaryButtonFragment
      ...EGDSTertiaryButtonFragment
    }
    doneButton {
      ...EGDSPrimaryButtonFragment
    }
    title
    travelers {
      ...EGDSTravelersFragment
    }
    validations {
      ... on EGDSTravelersInputValidation {
        errorMessage
        maxCount
        type
        infantsInSeatPerAdult
        errorSummary {
          ...EGDSErrorSummaryFragment
        }
      }
    }
  }

  ${ze.fragment}
  ${Za.fragment}
  ${tn.fragment}
  ${Wn.fragment}
`,Un=({data:e,onSubmit:t,isTravelersExpanded:a,cabinClassField:l,travelersComposition:i})=>{const{doneButton:o}=e,{state:c,dispatch:s}=Cn(),u=n.useRef(null),m=n.useRef(null),p=n.useRef(null),{travelers:y,error:_}=c,S=null==i?void 0:i.title,{exposure:E}=(0,R.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB"),g=1===E.bucket,h=u.current?u:m.current?m:p,v=e=>{e&&s&&s({type:"UPDATE_CABIN_CLASS",cabinClass:e.label})};return n.createElement(f.i,{direction:"column"},(null==_?void 0:_.displayConfirmation)&&n.createElement(r.b,{padding:{blockstart:"four"}},n.createElement("div",null,n.createElement(ze,{data:_.errorSummary,inputErrorRef:h,errorCount:_.errorCount}))),n.createElement("section",null,g&&n.createElement(A.E,{size:7,tag:"h4"},S),n.createElement(Wn,{data:y,childAgeRef:u,infantsOnLapRef:m,infantsInSeatRef:p,isTravelersExpanded:a}),g&&l?n.createElement(r.b,{padding:{small:{blockstart:"four"}}},n.createElement("div",null,n.createElement(cn,{data:l,triggerType:"selector",onOptionSelect:v,hideIcon:g}))):null),"UIPrimaryButton"===o.__typename&&n.createElement(d.LM,null,n.createElement(d.rw,null,n.createElement(r.b,{padding:{blockstart:"four",blockend:"three"}},n.createElement(f.i,{justifyContent:"end"},n.createElement(f.j,null,n.createElement(Za,{isFullWidth:!1,onClick:()=>{t&&t("menu")},data:o,size:k.E.MEDIUM})))))))};Un.displayName="EGDSBasicTravelerSelector",Un.fragment=ge(Ee({},wn),{__typename:"EGDSBasicTravelerSelector"});var Hn=u.J1`
  fragment EGDSStandardLinkFragment on EGDSStandardLink {
    text
    egdsElementId
    action {
      accessibility
      target
      resource {
        value
      }
      analytics {
        linkName
        referrerId
      }
    }
    icon {
      id
    }
    iconPosition
  }
`,Vn={EXTERNAL:"_blank",INTERNAL:"_self"},zn=({data:{action:{analytics:e,resource:t,target:a,accessibility:l},text:r,icon:i,iconPosition:o},inline:c=!0})=>{const s=(0,E.KY)(),d=n.useCallback((()=>{s(e.referrerId,e.linkName)}),[s,e]);return n.createElement(I.E,{onClickCapture:d,inline:c},n.createElement("a",{target:Vn[a],href:t.value},i&&"TRAILING"!==o&&n.createElement(_.a,{name:i.id}),r,i&&"TRAILING"===o&&n.createElement(_.a,{name:i.id}),l&&n.createElement(A.c,{className:"is-visually-hidden"},l)))};zn.fragment=Hn,zn.displayName="EGDSStandardLink";var Yn=u.J1`
  fragment EGDSTravelerInfantSeatSelectFragment on EGDSTravelerInfantSeatSelection {
    airlineAgeRule {
      ...EGDSStandardLinkFragment
    }
    groupName
    labelTemplate {
      ... on EGDSCardinalLocalizedText {
        text
        models {
          key
          source
        }
        templates {
          category
          template
        }
      }
    }
    options {
      label
      value
    }
    selected
  }
  ${zn.fragment}
`,qn=({data:e})=>{var t;const{state:a,dispatch:l}=En(),i=a.rooms.reduce(((e,t)=>{var a,n,l;return e+(null!=(l=null==(n=null==(a=t.infants)?void 0:a.count)?void 0:n.value)?l:0)}),0),o=null==(t=a.infantSeatSelection)?void 0:t.value;if("EGDSCardinalLocalizedText"!==e.labelTemplate.__typename||0===i||!o)return null;const{labelTemplate:c,options:s,airlineAgeRule:d,groupName:u}=e,m=1===i?c.text:c.templates[1].template;return n.createElement(r.b,{padding:{blockstart:"twelve"}},n.createElement(f.i,{direction:"column"},n.createElement(f.j,null,n.createElement(A.c,null,m)),n.createElement(f.j,null,n.createElement(ae.a,{group:u,selected:o,onChange:e=>{l({type:"UPDATE_INFANT_SEAT_SELECTION",value:e.currentTarget.value})},defaultChecked:!0},s.map(((e,t)=>n.createElement(r.b,{key:`radioInfant${t+1}`,margin:0===t?{blockstart:"three"}:void 0},n.createElement("div",null,n.createElement(ae.E,{id:e.value,value:e.value},e.label))))))),n.createElement(f.j,null,n.createElement(r.b,{padding:{blockstart:"two",blockend:"six"}},n.createElement("div",null,n.createElement(zn,{data:d}))))))};qn.displayName="EGDSTravelerInfantSeatSelect",qn.fragment=ge(Ee({},Yn),{__typename:"EGDSTravelerInfantSeatSelection"});var jn=u.J1`
  fragment EGDSTravelerSelectorRoomFragment on EGDSTravelerSelectorRoom {
    label {
      ... on EGDSBasicLocalizedText {
        models {
          key
          source
        }
        template
      }
    }
    adults {
      ...EGDSTravelerStepInputFragment
    }
    children {
      ...EGDSTravelerChildrenFragment
    }
    infants {
      ...EGDSTravelerChildrenFragment
    }
    removeRoomButton {
      ...EGDSTertiaryButtonFragment
    }
    removeRoomAnnouncement
  }

  ${Mn.fragment}
  ${xn.fragment}
  ${tn.fragment}
`,Kn=({roomIndex:e,childAgeRef:t,data:a,isTravelersExpanded:l,focusAddRoomButton:i})=>{var o;const{adults:c,children:s,infants:d,label:u,removeRoomButton:m,removeRoomAnnouncement:p}=a,{state:y,dispatch:_}=En(),S=n.useRef(),E=n.useRef(y.rooms.length);n.useEffect((()=>{var t;l&&0===e&&(null==(t=S.current)||t.focus())}),[l]),n.useEffect((()=>{var t;l&&y.rooms.length>=E.current&&e===y.rooms.length-1&&(null==(t=S.current)||t.focus()),E.current=y.rooms.length}),[y.rooms.length]);const g="EGDSTravelerChildren"===s.__typename&&(null==(o=s.ages)?void 0:o.some((e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value))),h=e+1;return n.createElement(n.Fragment,null,"EGDSBasicLocalizedText"===u.__typename&&1===u.models.length&&n.createElement(A.E,{size:7,domRef:S,tabIndex:-1},we(u.template,u.models[0].key,h.toString())),"EGDSTravelerStepInput"===c.__typename&&n.createElement(r.b,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(Mn,{travelersType:"adults",roomIndex:e,data:c}))),"EGDSTravelerChildren"===s.__typename&&n.createElement(r.b,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(xn,{travelersType:"children",roomIndex:e,childAgeRef:t,data:s}))),"EGDSTravelerInfant"===(null==d?void 0:d.__typename)&&n.createElement(r.b,{padding:{blockstart:"two"}},n.createElement("div",null,n.createElement(xn,{travelersType:"infants",roomIndex:e,childAgeRef:g?void 0:t,data:d}))),y.rooms.length>1&&m&&"UITertiaryButton"===m.__typename&&n.createElement(r.b,{padding:{blockstart:"two"}},n.createElement(f.i,{justifyContent:"end"},n.createElement(f.j,null,n.createElement(tn,{id:`${m.egdsElementId}_${e+1}`,onClick:()=>{p&&(0,F.liveAnnounce)(p,F.Level.ASSERTIVE),i&&i(),_({type:"REMOVE_ROOM",roomIndex:e})},data:m})))))};Kn.displayName="EGDSTravelerSelectorRoom",Kn.fragment=ge(Ee({},jn),{__typename:"EGDSTravelerSelectorRoom"});var Jn=u.J1`
  fragment EGDSRoomsTravelerSelectorFragment on EGDSRoomsTravelerSelector {
    addAnotherRoomButton {
      ...EGDSTertiaryButtonFragment
    }
    closeButton {
      ...EGDSPrimaryButtonFragment
      ...EGDSTertiaryButtonFragment
    }
    doneButton {
      ...EGDSPrimaryButtonFragment
    }
    infantSeatSelection {
      ...EGDSTravelerInfantSeatSelectFragment
    }
    maxRoomCount
    rooms {
      ...EGDSTravelerSelectorRoomFragment
    }
    title
    validations {
      ... on EGDSTravelersInputValidation {
        errorMessage
        maxCount
        type
        infantsInSeatPerAdult
        errorSummary {
          ...EGDSErrorSummaryFragment
        }
      }
    }
  }

  ${ze.fragment}
  ${Za.fragment}
  ${tn.fragment}
  ${Kn.fragment}
  ${qn.fragment}
`,Qn=({data:e,onSubmit:t,isTravelersExpanded:a,groupStaysLink:l})=>{const{addAnotherRoomButton:i,doneButton:o,maxRoomCount:c,infantSeatSelection:s}=e,{state:u,dispatch:m}=En(),p=n.useRef(null),y=n.useRef(null),{rooms:_,error:S}=u,[,E]=n.useState(_);if(n.useEffect((()=>{E(_)}),[_]),_.length<1)return null;const g=()=>{var e;null==(e=y.current)||e.focus()},h=ge(Ee({},i),{disabled:!!c&&_.length>=c}),v=_.findIndex((e=>{var t,a,n,l,r;return"EGDSTravelerChildren"===e.children.__typename&&(null==(t=e.children)?void 0:t.ages)&&(null==(a=e.children)?void 0:a.ages.some((e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value)))||null!=(r="EGDSTravelerInfant"===(null==(n=e.infants)?void 0:n.__typename)&&(null==(l=e.infants)?void 0:l.ages.some((e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value))))&&r})),D="UIPrimaryButton"===o.__typename&&n.createElement(r.b,{padding:{blockstart:"four",blockend:"three"}},n.createElement(f.i,{justifyContent:"end"},n.createElement(f.j,null,n.createElement(Za,{isFullWidth:!1,onClick:()=>{t&&t("menu")},data:o,size:k.E.MEDIUM}))));return n.createElement(f.i,{direction:"column"},(null==S?void 0:S.displayConfirmation)&&n.createElement(ze,{data:S.errorSummary,inputErrorRef:p,errorCount:S.errorCount}),n.createElement("section",null,_.map(((e,t)=>n.createElement(r.b,{padding:{blockstart:(null==S?void 0:S.displayConfirmation)?"two":"unset"},key:t},n.createElement("div",null,n.createElement(Kn,{roomIndex:t,data:e,childAgeRef:v===t?p:void 0,isTravelersExpanded:a,focusAddRoomButton:g}))))),"UITertiaryButton"===h.__typename&&n.createElement(r.b,{padding:{small:{blockstart:"two",blockend:l?"two":"sixteen"},medium:{blockend:"unset"}}},n.createElement(f.i,{justifyContent:"end"},n.createElement(f.j,null,n.createElement(tn,{onClick:()=>{m({type:"ADD_ROOM"})},data:h,domRef:y})))),s&&n.createElement(qn,{data:s})),n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement("div",null,l&&n.createElement(r.b,{margin:{small:{blockstart:"two",blockend:"sixteen"}}},l))),n.createElement(d.rw,null,n.createElement(r.b,{padding:{blockstart:"twelve"}},n.createElement(f.i,{alignContent:"space-around",alignItems:"center",direction:"row-reverse",justifyContent:"space-between",wrap:"nowrap",space:"medium"},n.createElement(f.j,null,D),l&&n.createElement(f.j,null,l))))))};Qn.displayName="EGDSRoomsTravelerSelector",Qn.fragment=ge(Ee({},Jn),{__typename:"EGDSRoomsTravelerSelector"});var Xn=(e,t)=>{function a(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}const n=a(e);return n===a(t)&&("array"===n?function(){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a+=1)if(!Xn(e[a],t[a]))return!1;return!0}():"object"===n?function(){const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!1;for(let n=0;n<a.length;n+=1){const l=a[n];if(Object.prototype.hasOwnProperty.call(e,l)&&!Xn(e[l],t[l]))return!1}return!0}():"function"===n?e.toString()===t.toString():e===t)},Zn=(e,t,a=!1)=>{const n=e[a?"secondaryTemplates":"templates"].find((e=>e.category===et(t)));return n?we(n.template,e.models[0].key,t.toString()):""},el=(e,...t)=>{const{models:a,template:n}=e,l=a.map(((e,a)=>"EGDSCardinalLocalizedText"===e.models.__typename?Zn(e.models,t[a]):""));return a.reduce(((e,t,a)=>we(e,t.key,l[a])),n)},tl="EGDSSearchFormTravelersField-",al=`${tl}Adult`,nl=`${tl}ChildrenAge`,ll=`${tl}InfantInSeatAge`,rl=`${tl}InfantOnLapAge`,il=`${tl}Pets`,ol=({ages:e,prefix:t})=>n.createElement(n.Fragment,null,e.map(((e,a)=>{var l;if("EGDSTravelerChildAgeSelect"===e.__typename){const r=`${t}-${a+1}`;return n.createElement("input",{key:a,type:"hidden","data-stid":r,name:r,value:null!=(l=e.value)?l:""})}return null}))),cl=({label:e,leftIcon:t,action:a,labelTemplate:l,readOnly:o,isAnyPetAllowed:s,onOpenTravelerField:u,onCloseTravelerField:m,menuPosition:p,cabinClassField:y,travelersComposition:_})=>{var S,g;const{analytics:h,travelerSelector:v}=a,{doneButton:D}=v,f=(0,E.KY)(),{dispatch:T,state:C}=Cn(),{state:I}=(0,i.kW)(),[A,F,O]=(0,w.useDialog)("travelerSelectorDialog"),k=n.useRef(null),[G,L]=n.useState(!1),[P,M]=n.useState(C),[N,x]=n.useState(null!=(S=null==l?void 0:l.text)?S:""),{exposure:B,logExperiment:$}=(0,R.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB"),W=1===B.bucket;W&&$(B);const{error:U}=C,H=(0,b.u)(v.__typename,(e=>e)),z=e=>{var t,a,n,r,i,o,c,s,d,u,m,p;const y=(null!=(a=null==(t=e.adults)?void 0:t.value)?a:0)+(null!=(i=null==(r=null==(n=e.children)?void 0:n.count)?void 0:r.value)?i:0)+(null!=(s=null==(c=null==(o=e.infantsInSeat)?void 0:o.count)?void 0:c.value)?s:0)+(null!=(m=null==(u=null==(d=e.infantsOnLap)?void 0:d.count)?void 0:u.value)?m:0),_="EGDSBasicCheckBox"===(null==(p=null==e?void 0:e.pets)?void 0:p.__typename)&&"CHECKED"===e.pets.state;return Zn(l,y,_)};n.useEffect((()=>{var e;if(void 0!==s&&T({type:"UPDATE_PETS_FILTER",checked:s}),"EGDSBasicCheckBox"===(null==(e=P.travelers.pets)?void 0:e.__typename)){const e=s?"CHECKED":"UNCHECKED",t=ge(Ee({},P),{travelers:ge(Ee({},P.travelers),{pets:ge(Ee({},P.travelers.pets),{state:e})})});M(t)}}),[s]);const Y=W&&C.cabinClass?`${z(C.travelers)}, ${C.cabinClass}`:z(C.travelers);if(n.useEffect((()=>{x(Y)}),[C.travelers,Y]),n.useEffect((()=>{var e,t,a,n,l,r,i,o,c,s,d,u,m,p,y;(null==(t=null==(e=I.travelers)?void 0:e.adultTravelerCounts)?void 0:t.length)&&T({type:"UPDATE_TRAVELERS_BULK",adultTravelerCounts:(null==(n=null==(a=I.travelers)?void 0:a.adultTravelerCounts)?void 0:n.length)?null==(l=I.travelers)?void 0:l.adultTravelerCounts[0]:0,childTravelerCounts:(null==(i=null==(r=I.travelers)?void 0:r.childTravelerCounts)?void 0:i.length)?null==(o=I.travelers)?void 0:o.childTravelerCounts[0]:0,childrenAges:(null==(s=null==(c=I.travelers)?void 0:c.childrenAges)?void 0:s.length)&&(null==(d=I.travelers)?void 0:d.childrenAges[0].length)?null==(u=I.travelers)?void 0:u.childrenAges[0]:[],petCounts:(null==(p=null==(m=I.travelers)?void 0:m.petCounts)?void 0:p.length)?null==(y=I.travelers)?void 0:y.petCounts[0]:0})}),[I.travelers]),"EGDSBasicTravelerSelector"!==v.__typename)return null;const q=()=>{u&&u(),L((e=>!e)),h.referrerId&&h.linkName&&f(h.referrerId,h.linkName)},j=async()=>{C.error&&(await T({type:"SHOW_ERROR"}),L(!0)),C.error||Xn(P,C)||(M(C),Xe("submit",H))},K=e=>{const t=z(e),a=W?`${t}, ${C.cabinClass}`:t;Xe(a,H),x(a)},J=e=>{var t;Xn(P,e)||(K(e.travelers),M(e)),null==(t=k.current)||t.focus(),F.closeDialog()},Q=e=>{var t;if(U&&"CHILD_AGE_REQUIRED"===U.type&&(T({type:"SHOW_ERROR"}),null==(t=U.errorSummary)?void 0:t.impressionAnalytics)){const e=`${U.errorSummary.impressionAnalytics.referrerId}.For.NoChildAgeSubmit`,t=U.errorSummary.impressionAnalytics.linkName||"";f(e,t)}U||("menu"===e?(e=>{var t;Xn(P,e)||(K(e.travelers),M(e)),L((e=>!e)),null==(t=k.current)||t.focus()})(C):J(C))},{adults:X,children:te,pets:ae,infantsInSeat:ne,infantsOnLap:le}=C.travelers,re="EGDSBasicCheckBox"===(null==ae?void 0:ae.__typename);return n.createElement(n.Fragment,null,n.createElement(d.LM,null,n.createElement(d.zQ,null,n.createElement(ee.E,{isOpen:G,onTriggerClick:q,onDismiss:j},n.createElement(ee.b,null,n.createElement(Z.g,{label:e,value:N,icon:t,"data-stid":"open-room-picker",disabled:o,domRef:k,className:"open-traveler-picker-observer-root"})),n.createElement(ee.c,{autoPosition:!0,maxHeight:4e3,position:p||ee.P.RIGHT,width:375,intersectionObserverRoot:".open-traveler-picker-observer-root"},n.createElement(r.b,{padding:{inline:"six"}},n.createElement("div",{"data-stid":"basic-traveler-selector-menu-container"},n.createElement(Un,{onSubmit:Q,data:v,isTravelersExpanded:G,cabinClassField:y,travelersComposition:_})))))),n.createElement(d.rw,null,n.createElement(ee.E,{isOpen:G,onTriggerClick:q,onDismiss:j},n.createElement(ee.b,null,n.createElement(Z.g,{label:e,value:N,icon:t,"data-stid":"open-room-picker",disabled:o,domRef:k,className:"open-traveler-picker-observer-root"})),n.createElement(ee.c,{autoPosition:!0,maxHeight:4e3,position:ee.P.LEFT,width:re?275:375,intersectionObserverRoot:".open-traveler-picker-observer-root"},n.createElement(r.b,{padding:{inline:"six"}},n.createElement("div",{"data-stid":"basic-traveler-selector-menu-container"},n.createElement(Un,{onSubmit:Q,data:v,isTravelersExpanded:G,cabinClassField:y,travelersComposition:_})))))),n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(Z.g,{label:e,value:N,onClick:()=>{u&&u(),F.openDialog(),h.referrerId&&h.linkName&&f(h.referrerId,h.linkName)},icon:t,"data-stid":"open-room-picker",disabled:o,domRef:k}),n.createElement(V.h,{isVisible:A},n.createElement(O,null,n.createElement(V.e,{type:"full",triggerRef:k,isVisible:A,returnFocusOnClose:!0},n.createElement(c.b,{toolbarTitle:v.title,navigationContent:{navType:"close",navIconLabel:("UIPrimaryButton"===v.closeButton.__typename||"UITertiaryButton"===v.closeButton.__typename)&&null!=(g=v.closeButton.accessibility)?g:"",onClick:()=>{var e;if(m&&m(d.OB.SMALL),("UIPrimaryButton"===v.closeButton.__typename||"UITertiaryButton"===v.closeButton.__typename)&&v.closeButton.analytics){const{referrerId:e,linkName:t}=v.closeButton.analytics;f(e,U?t:"Travelers results updated")}if(U&&"CHILD_AGE_REQUIRED"===U.type&&(T({type:"SHOW_ERROR"}),null==(e=U.errorSummary)?void 0:e.impressionAnalytics)){const e=`${U.errorSummary.impressionAnalytics.referrerId}.For.NoChildAgeSubmit`,t=U.errorSummary.impressionAnalytics.linkName||"";f(e,t)}U||J(C)}}}),n.createElement(V.f,{padded:!1},n.createElement(r.b,{padding:{blockstart:"four",blockend:"sixteen",inline:"six"}},n.createElement("div",null,n.createElement(b.E,{hasRequiredFieldIndicator:!0},n.createElement(Un,{data:v,isTravelersExpanded:A,cabinClassField:y,travelersComposition:_}))))),"UIPrimaryButton"===D.__typename&&n.createElement(Za,{floating:!0,onClick:Q,data:D}))))))),n.createElement(n.Fragment,null,n.createElement("input",{type:"hidden","data-stid":`${al}`,name:`${al}`,value:X.value}),"EGDSTravelerChildren"===(null==te?void 0:te.__typename)&&te.ages&&n.createElement(ol,{ages:te.ages,prefix:nl}),"EGDSBasicTraveler"===(null==te?void 0:te.__typename)&&n.createElement("input",{type:"hidden","data-stid":`${nl}`,name:`${nl}`,value:te.count.value}),"EGDSTravelerInfant"===(null==ne?void 0:ne.__typename)&&ne.ages&&n.createElement(ol,{ages:ne.ages,prefix:ll}),"EGDSBasicTraveler"===(null==ne?void 0:ne.__typename)&&n.createElement("input",{type:"hidden","data-stid":`${ll}`,name:`${ll}`,value:ne.count.value}),"EGDSTravelerInfant"===(null==le?void 0:le.__typename)&&le.ages&&n.createElement(ol,{ages:le.ages,prefix:rl}),"EGDSBasicTraveler"===(null==le?void 0:le.__typename)&&n.createElement("input",{type:"hidden","data-stid":`${rl}`,name:`${rl}`,value:le.count.value}),re&&n.createElement("input",{type:"hidden",name:`${il}`,value:ae.state})))},sl="EGDSSearchFormTravelersField",dl=`${sl}-Adult`,ul=`${sl}-ChildrenAge`,ml=`${sl}-InfantInSeatAge`,pl=`${sl}-InfantOnLapAge`,yl=({label:e,leftIcon:t,action:a,labelTemplate:l,readOnly:o,onOpenTravelerField:s,groupStayslink:u})=>{var m,p;const{accessibility:y,analytics:_,travelerSelector:S}=a,{doneButton:g}=S,h=null!=y?y:"",v=(0,E.KY)(),{dispatch:D,state:f}=En(),{state:T}=(0,i.kW)(),{error:C}=f,[I,A,F]=(0,w.useDialog)("travelerSelectorDialog"),O=n.useRef(null),[k,G]=n.useState(!1),[R,L]=n.useState(f),[P,M]=n.useState(null!=(m=null==l?void 0:l.text)?m:""),N=(0,b.u)(S.__typename,(e=>e)),x=e=>{const t=e.reduce(((e,t)=>{var a,n,l,r,i,o,c,s;return e+(null!=(n=null==(a=t.adults)?void 0:a.value)?n:0)+(null!=(i=null==(r=null==(l=t.children)?void 0:l.count)?void 0:r.value)?i:0)+(null!=(s=null==(c=null==(o=t.infants)?void 0:o.count)?void 0:c.value)?s:0)}),0);return el(l,e.length,t)};if(n.useEffect((()=>{M(x(f.rooms)),"EGDSRoomsTravelerSelector"===a.travelerSelector.__typename&&a.travelerSelector.rooms[0].infants!==R.rooms[0].infants&&(D({type:"RESET_ROOMS",state:ge(Ee({},f),{rooms:[...a.travelerSelector.rooms]})}),L(ge(Ee({},f),{rooms:[...a.travelerSelector.rooms]})),M(x([...a.travelerSelector.rooms])))}),[a.travelerSelector]),n.useEffect((()=>{M(x(f.rooms))}),[f.rooms]),n.useEffect((()=>{var e,t,n,l,r,i,o,c;"EGDSOpenTravelerSelectorAction"===(null==a?void 0:a.__typename)&&"EGDSRoomsTravelerSelector"===(null==a?void 0:a.travelerSelector.__typename)&&(null==(t=null==(e=null==T?void 0:T.travelers)?void 0:e.adultTravelerCounts)?void 0:t.length)&&D({type:"UPDATE_TRAVELERS_BULK",state:R,adultTravelerCounts:null!=(l=null==(n=null==T?void 0:T.travelers)?void 0:n.adultTravelerCounts)?l:[0],childTravelerCounts:null!=(i=null==(r=null==T?void 0:T.travelers)?void 0:r.childTravelerCounts)?i:[0],childrenAges:null!=(c=null==(o=null==T?void 0:T.travelers)?void 0:o.childrenAges)?c:[[]]})}),[T.travelers]),"EGDSRoomsTravelerSelector"!==S.__typename)return null;const B=()=>{G(!k),s&&s(),v(_.referrerId,_.linkName)},$=async()=>{f.error&&(await D({type:"SHOW_ERROR"}),G(!0)),f.error||Xn(R,f)||(L(f),Xe("submit",N)),M(x(f.rooms))},W=e=>{const t=x(e);Xe(t,N),M(t)},U=e=>{var t;Xn(R,e)||(W(e.rooms),L(e)),null==(t=O.current)||t.focus(),A.closeDialog()},H=e=>{C&&"CHILD_AGE_REQUIRED"===C.type&&(e&&e.preventDefault(),D({type:"SHOW_ERROR"}))},z=e=>{var t,a;H(),C||("menu"===e?(Xn(R,t=f)||(W(t.rooms),L(t)),G((e=>!e)),null==(a=O.current)||a.focus()):U(f))},Y=e=>{if(!u)return null;const{value:t}=u.action.resource;try{const a=new URL(t),l=a.searchParams,r=l.get("kw")||"";l.set("kw",`${r}${e}`);const i=a.toString(),o=ge(Ee({},u),{action:ge(Ee({},u.action),{resource:ge(Ee({},u.action.resource),{value:i}),target:"EXTERNAL"})});return n.createElement("div",null,n.createElement(zn,{data:o,inline:!1}))}catch(a){return null}};return n.createElement(n.Fragment,null,n.createElement(d.LM,null,n.createElement(d.zQ,null,n.createElement(ee.E,{isOpen:k,onTriggerClick:B,onDismiss:$},n.createElement(ee.b,null,n.createElement(Z.g,{label:e,"aria-roledescription":h,value:P,icon:t,"data-stid":"open-room-picker",disabled:o,domRef:O,className:"open-room-picker-observer-root"})),n.createElement(ee.c,{maxHeight:700,autoPosition:!0,position:ee.P.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},n.createElement(r.b,{padding:{inline:"six",blockstart:"two"}},n.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},n.createElement(Qn,{onSubmit:z,data:S,isTravelersExpanded:k,groupStaysLink:Y("desktop")})))))),n.createElement(d.rw,null,n.createElement(ee.E,{isOpen:k,onTriggerClick:B,onDismiss:$},n.createElement(ee.b,null,n.createElement(Z.g,{label:e,"aria-roledescription":h,value:P,icon:t,"data-stid":"open-room-picker",disabled:o,domRef:O,className:"open-room-picker-observer-root"})),n.createElement(ee.c,{maxHeight:4e3,autoPosition:!0,position:ee.P.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},n.createElement(r.b,{padding:{inline:"six",blockstart:"two"}},n.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},n.createElement(Qn,{onSubmit:z,data:S,isTravelersExpanded:k,groupStaysLink:Y("desktop")})))))),n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(Z.g,{label:e,"aria-roledescription":h,value:P,onClick:()=>{A.openDialog(),v(_.referrerId,_.linkName),s&&s(d.OB.SMALL)},icon:t,"data-stid":"open-room-picker",disabled:o,domRef:O}),n.createElement(V.h,{isVisible:I},n.createElement(F,null,n.createElement(V.e,{isVisible:I,returnFocusOnClose:!0,type:"full",triggerRef:O},n.createElement(c.b,{toolbarTitle:S.title,navigationContent:{navType:"close",navIconLabel:("UIPrimaryButton"===S.closeButton.__typename||"UITertiaryButton"===S.closeButton.__typename)&&null!=(p=S.closeButton.accessibility)?p:"",onClick:()=>{if(("UIPrimaryButton"===S.closeButton.__typename||"UITertiaryButton"===S.closeButton.__typename)&&S.closeButton.analytics){const{referrerId:e,linkName:t}=S.closeButton.analytics;C||v(e,t)}H(),C||U(f)}}}),n.createElement(V.f,null,n.createElement(b.E,{hasRequiredFieldIndicator:!0},n.createElement(Qn,{data:S,isTravelersExpanded:I,groupStaysLink:Y("mWeb")}))),(q=!0,"UIPrimaryButton"===g.__typename&&n.createElement(Za,{onClick:z,data:g,floating:q})))))))),f.rooms.map(((e,t)=>{var a,l;const{adults:r,children:i,infants:o}=e,c=t+1;return n.createElement(n.Fragment,{key:t},n.createElement("input",{type:"hidden","data-stid":`${dl}-${c}`,name:`${dl}-Room${c}`,value:r.value}),"EGDSTravelerChildren"===i.__typename&&(null==(a=i.ages)?void 0:a.map(((e,t)=>{var a;if("EGDSTravelerChildAgeSelect"===e.__typename){const l=`${ul}-Room${c}-Child${t+1}`;return n.createElement("input",{key:t,type:"hidden","data-stid":l,name:l,value:null!=(a=e.value)?a:""})}return null}))),"EGDSTravelerInfant"===(null==o?void 0:o.__typename)&&(null==(l=o.ages)?void 0:l.map(((e,t)=>{var a,l;if("EGDSTravelerChildAgeSelect"===e.__typename){const r=t+1,i=`${"seat"===(null==(a=f.infantSeatSelection)?void 0:a.value)?ml:pl}-Room${c}-Infant${r}`;return n.createElement("input",{key:t,type:"hidden","data-stid":i,name:i,value:null!=(l=e.value)?l:""})}return null}))))})));var q},_l=u.J1`
  fragment EGDSSearchFormTravelersFieldFragment on EGDSSearchFormTravelersField {
    action {
      ... on EGDSOpenTravelerSelectorAction {
        analytics {
          linkName
          referrerId
        }
        travelerSelector {
          ...EGDSBasicTravelerSelectorFragment
          ...EGDSRoomsTravelerSelectorFragment
        }
        accessibility
      }
    }
    label
    labelTemplate {
      ... on EGDSCardinalLocalizedText {
        models {
          key
          source
        }
        templates {
          category
          template
        }
        secondaryTemplates {
          category
          template
        }
        text
      }
      ... on EGDSCompositeLocalizedText {
        models {
          key
          models {
            ... on EGDSCardinalLocalizedText {
              models {
                key
                source
              }
              templates {
                category
                template
              }
            }
          }
        }
        template
        text
      }
    }
    leftIcon {
      id
    }
    readOnly
  }

  ${Un.fragment}
  ${Qn.fragment}
`,Sl=({data:e,skipQuery:t,isAnyPetAllowed:a,onOpenTravelerField:l,onCloseTravelerField:r,maxBookableTravelers:i,maxTravelersErrorMessage:o,groupStaysLink:c,menuPosition:s,cabinClassField:d,travelersComposition:u})=>{var m;const[p,y]=n.useState(e),{exposure:_}=(0,R.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB"),S=(()=>{var e;if("EGDSSearchFormSelectAction"===(null==(e=null==d?void 0:d.action)?void 0:e.__typename)){const e=d.action.options.find((e=>"EGDSBasicOption"===e.__typename&&e.selected));if("EGDSBasicOption"===(null==e?void 0:e.__typename))return e.label}})();n.useEffect((()=>{var t,a,n;if("EGDSOpenTravelerSelectorAction"!==(null==(t=e.action)?void 0:t.__typename))y(e);else{const t=null!=(n=null==(a=e.action.travelerSelector.validations)?void 0:a.map((e=>"EGDSTravelersInputValidation"===e.__typename&&"MAX_TRAVELERS"===e.type&&i?ge(Ee({},e),{maxCount:i,errorMessage:null!=o?o:""}):e)))?n:null;y(ge(Ee({},e),{action:ge(Ee({},e.action),{travelerSelector:ge(Ee({},e.action.travelerSelector),{validations:t})})}))}}),[e,i,o]);const{action:E,label:g,labelTemplate:h,leftIcon:v,readOnly:D}=p;if("EGDSOpenTravelerSelectorAction"!==(null==E?void 0:E.__typename))return null;const f=1===_.bucket?null==u?void 0:u.label:null!=g?g:"";switch(E.travelerSelector.__typename){case"EGDSBasicTravelerSelector":{const{travelers:e,validations:i}=E.travelerSelector,o=((e,t)=>(null==e?void 0:e.pets)&&"EGDSBasicCheckBox"===e.pets.__typename?ge(Ee({},e),{pets:ge(Ee({},e.pets),{state:t?"CHECKED":"UNCHECKED"})}):e)(e,null!=a?a:"EGDSBasicCheckBox"===(null==(m=null==e?void 0:e.pets)?void 0:m.__typename)&&"CHECKED"===e.pets.state);return o&&"EGDSCardinalLocalizedText"===(null==h?void 0:h.__typename)?n.createElement(bn,{travelers:o,validations:i,skipQuery:t,cabinClass:S},n.createElement(cl,{label:null!=f?f:"",leftIcon:null==v?void 0:v.id,action:E,labelTemplate:h,readOnly:D,isAnyPetAllowed:a,onOpenTravelerField:l,onCloseTravelerField:r,menuPosition:s,cabinClassField:d,travelersComposition:u})):null}case"EGDSRoomsTravelerSelector":return"EGDSCompositeLocalizedText"===(null==h?void 0:h.__typename)?n.createElement(Sn,ge(Ee({},E.travelerSelector),{infantSeatSelection:E.travelerSelector.infantSeatSelection,rooms:E.travelerSelector.rooms,validations:E.travelerSelector.validations,skipQuery:t}),n.createElement(yl,{label:null!=g?g:"",leftIcon:null==v?void 0:v.id,action:E,labelTemplate:h,readOnly:D,onOpenTravelerField:l,groupStayslink:c})):null;default:return null}};Sl.displayName="EGDSSearchFormTravelersField",Sl.fragment=_l;var El=(e,t=0)=>"string"==typeof e&&e.includes("-")?new Date(`${e}T00:00:00`):new Date(new Date(e).setDate(new Date(e).getDate()+t)),gl=(e,t)=>e.fieldsWithErrors.find((e=>e.__typename===t)),hl=(e,t="")=>{var a;return null!=(a={"origin_select-input":`${e}Origin`,"destination_select-input":`${e}Destination`,"pick_up_location-input":`${e}PickUp`,"drop_off_location-input":`${e}DropOff`,"airport_location-input":`${e}Airport`,"hotel_location-input":`${e}Hotel`,"partial_date-input":`${e}PartialStay`}[t.replace(/-\d+$/,"")])?a:e},vl=(e,t)=>{var a;const n=null!=(a=e.value)?a:"",l=""===n;if(t&&!l){const a=t.value===n;return{__typename:hl("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:!a,validations:{sameLocationSelected:a}}}return{__typename:hl("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:!l}},Dl=(e,t,a,n)=>{const l=null==e?void 0:e.value,r=null==t?void 0:t.value,i=El(null!=l?l:""),o=El(null!=r?r:""),c=!l,s=!(e&&!t)&&!r,d=a.validateWhenEmpty&&(c||s),u=0!==a.maxNumberOfDaysSelected&&o>=El(i,a.maxNumberOfDaysSelected),m=i.getTime()===o.getTime(),p=o<i,{allowSameDateSelect:y}=a,_=!u&&(y||!m)&&!p&&!d;return{__typename:hl("EGDSSearchFormDatePickerField",null!=n?n:null==e?void 0:e.id),isValid:_,validations:{maxDate:u,sameDate:m,endDateBeforeStartDate:p,emptyDate:d}}},fl=e=>{let t=parseInt(e.substr(0,2),10);const a=parseInt(e.substr(2,2),10);return e.includes("PM")&&12!==t&&(t+=12),e.includes("AM")&&12===t&&(t-=12),{hours:t,minutes:a}},Tl=e=>{if(!e||void 0===e.totalTravelers)return{__typename:"EGDSSearchFormTravelersField",isValid:!0};const{totalTravelers:t,config:a}=e,{maxTotalTravelers:n}=a,l=t<=n;return{__typename:"EGDSSearchFormTravelersField",isValid:l,validations:{maxTotalTravelers:!l}}},bl=(e,t)=>{const{value:a,id:n}=e;return{__typename:hl(t,n),isValid:""!==a}},Cl=(e,t=!1)=>{var a,n,l,r,i,o,c;const{location:s,dates:d,age:u,time:m,travelers:p}=e,{startDateInput:y,endDateInput:_,partialStayStartDateInput:S,partialStayEndDateInput:E,softPackagesStartDateInput:g,softPackageEndDateInput:h,config:v}=d,D=s.origin?[vl(s.origin,t&&null!=(a=s.destination)?a:null),Dl(y,_,v)]:[Dl(y,_,v)];if(s.destination&&D.push(((e,t,a=!1)=>{var n;const l=null!=(n=t.value)?n:"",r=""===l;let i=!r,o=!1;return a||(o=!!e&&!r&&e.value===l,i=!r&&!o),{__typename:hl("EGDSSearchFormLocationField",null==t?void 0:t.id),isValid:i,validations:{sameLocationSelected:o}}})(s.origin,s.destination,t)),u&&D.push((e=>{var t;const{ageInput:a,config:n}=e||{},l=null!=(t=a.value)?t:"",r=""===l,i=parseInt(l,10),o=!(i&&(null==n?void 0:n.min)&&(null==n?void 0:n.max))||i>=(null==n?void 0:n.min)&&i<=(null==n?void 0:n.max),c=!r&&o;return{__typename:hl("EGDSNumberInputField",null==a?void 0:a.id),isValid:c,validations:{ageRange:!r&&!o}}})(u)),m){El(null!=(n=d.startDateInput.value)?n:""),null==(l=null==m?void 0:m.pickup)||l.value;D.push({__typename:"EGDSBasicSelectPickUp",isValid:!0},((e,t,a)=>{var n,l;const{startDateInput:r,endDateInput:i}=a,o=El(null!=(n=null==r?void 0:r.value)?n:""),c=El(null!=(l=null==i?void 0:i.value)?l:""),s=null==e?void 0:e.value,d=null==t?void 0:t.value;if(!s||!d)return{__typename:"EGDSBasicSelectDropOff",isValid:!0};const u=fl(s);o.setHours(u.hours,u.minutes);const m=fl(d);c.setHours(m.hours,m.minutes);const p=c>o;return o.setTime(o.getTime()+72e5),{__typename:"EGDSBasicSelectDropOff",isValid:p&&c>=o}})(m.pickup,m.dropOff,d))}if(E&&S){const e=Dl(S,E,v,"partial_date-input"),t=((e,t)=>{var a,n,l,r,i,o,c,s;const d=El(null!=(n=null==(a=e.startDate)?void 0:a.value)?n:""),u=El(null!=(r=null==(l=e.endDate)?void 0:l.value)?r:""),m=El(null!=(o=null==(i=t.startDate)?void 0:i.value)?o:""),p=El(null!=(s=null==(c=t.endDate)?void 0:c.value)?s:"");return d<m||u>p})({startDate:S,endDate:E},{startDate:y,endDate:_});D.push(ge(Ee({},e),{isValid:e.isValid&&!t,validations:ge(Ee({},e.validations),{dateOutsideTripRange:t})}))}if(g&&h){const e="soft_packages_date_form_field",t=El(null!=(r=null==g?void 0:g.value)?r:"")<El(null!=(i=null==y?void 0:y.value)?i:"")||!!_&&El(null!=(o=null==h?void 0:h.value)?o:"")>El(null!=(c=null==_?void 0:_.value)?c:"");D.push({__typename:hl("EGDSSearchFormDatePickerFieldSoftPackages",e),isValid:!t,validations:{dateOutsideTripRange:t}})}return p&&D.push(Tl(p)),s.originSelect&&D.push(bl(s.originSelect,"AllInclusiveVacationsSearchFormOrigin")),s.destinationSelect&&D.push(bl(s.destinationSelect,"AllInclusiveVacationsSearchFormDestination")),D.filter((e=>!e.isValid))},Il=e=>{var t;const{location:a,dates:n,travelers:l}=e,{startDateInput:r,endDateInput:i,config:o}=n,c=[];if(a.origin){a.origin.map(((e,t)=>({__typename:`${hl("EGDSSearchFormLocationField",null==e?void 0:e.id)}-leg${t}`,isValid:""!==(null==e?void 0:e.value)}))).forEach((e=>c.push(e)))}return a.destination&&(null==(t=a.origin)||t.forEach(((e,t)=>{var n;const l=null==(n=a.destination)?void 0:n[t];c.push(((e,t,a)=>{var n;const l=null!=(n=t.value)?n:"",r=""===l,i=!!e&&!r&&e.value===l,o=!r&&!i;return{__typename:`${hl("EGDSSearchFormLocationField",null==t?void 0:t.id)}-leg${a}`,isValid:o,validations:{sameLocationSelected:i}}})(e,l,t))}))),n&&c.push(Dl(r,i,o)),l&&c.push(Tl(l)),c.filter((e=>!e.isValid))},Al=e=>t=>t.getAttribute("name")===e,Fl=e=>e.reduce(((e,t)=>(e=>e instanceof HTMLInputElement&&(/^null-\d+$/.test(e.id)||e.id.includes("traveler_selector_")))(t)?e+(e=>{const t=parseFloat(e.value);return Number.isNaN(t)?0:t})(t):e),0),Ol=u.J1`
  fragment AllInclusiveVacationsSelectInputFragment on EGDSBasicSelect {
    egdsElementId
    icon {
      id
    }
    options {
      label
      selected
      value
    }
    label
    disabled
    errorMessage
    readOnly
  }
`,kl=u.J1`
  fragment AllInclusiveVacationsSearchFormContentsFragment on AllInclusiveVacationsSearchFormContents {
    results {
      ... on AllInclusiveVacationsSearchFormOptionsSeparator {
        id
      }
      ... on EGDSBasicOption {
        egdsElementId
        label
        value
        selected
      }
    }
  }
`,Gl="AllInclusiveVacationsSelect",Rl=n.forwardRef((({data:e,options:t,emptyState:a=!0,errorMessage:l,onChange:i},o)=>{var c;const{disabled:s,icon:d,label:u,readOnly:m,egdsElementId:p,options:y}=e,_={"aria-label":u,disabled:s,emptyState:a,icon:null==d?void 0:d.id,id:null!=p?p:"all-inclusive-select",invalid:l,name:`${Gl}-${p}`,label:u,onChange:e=>{e&&(null==i||i(e))},readOnly:m},S=null==y?void 0:y.map((({value:e,label:t,selected:a})=>n.createElement("option",{key:e,label:t,value:e,selected:null!=a&&a},t))),E=null==(c=null==t?void 0:t.results)?void 0:c.map((e=>{if("AllInclusiveVacationsSearchFormOptionsSeparator"===e.__typename)return n.createElement(r.c,{key:e.id});const{label:t,selected:a,value:l,egdsElementId:i}=e;return n.createElement("option",{key:l,id:null!=i?i:"",label:t,value:l,selected:null!=a&&a},t)}));return n.createElement(Z.i,ge(Ee({},_),{domRef:o}),S,E)}));Rl.fragment=Ol,Rl.displayName="AllInclusiveVacationsSelectInput";var Ll=u.J1`
  fragment AllInclusiveVacationsSearchFormDestinationFragment on AllInclusiveVacationsSearchFormDestination {
    location {
      ...AllInclusiveVacationsSelectInputFragment
    }
  }
  ${Rl.fragment}
`,Pl=u.J1`
  query AllInclusiveVacationsDestinationFieldQuery($context: ContextInput!, $departureCityCode: String!) {
    allInclusiveVacationsSearchForm(context: $context) {
      ... on AllInclusiveVacationsSearchFormResults {
        destinations(departureCityCode: $departureCityCode) {
          ...AllInclusiveVacationsSearchFormContentsFragment
        }
      }
    }
  }
  ${kl}
`,Ml=n.forwardRef((({data:e,departureCityCode:t,onChange:a,errorState:l},r)=>{const{location:i,__typename:o}=e,{context:c}=(0,m.R)(),[s,d]=n.useState(),u=`${(null==i?void 0:i.egdsElementId)||"all-inclusive-vacations-destination"}-${t||"default"}`,[p]=(0,G._)(Pl,{onCompleted:e=>{var t;d(null==(t=null==e?void 0:e.allInclusiveVacationsSearchForm)?void 0:t.destinations)}}),y=(0,n.useCallback)((()=>{""!==t&&p({variables:{context:c,departureCityCode:t}})}),[t]);n.useEffect((()=>y()),[y]);const _={options:s,onChange:a,ref:r,errorMessage:n.useMemo((()=>{var e;const t=gl(l,o);return!t||t.isValid?"":null!=(e=null==i?void 0:i.errorMessage)?e:""}),[l])};return(null==e?void 0:e.location)?n.createElement(Rl,ge(Ee({},_),{key:u,data:null==e?void 0:e.location})):null}));Ml.fragment=Ll,Ml.displayName="AllInclusiveVacationsDestinationField";var Nl=u.J1`
  query AllInclusiveVacationsDurationFieldQuery($context: ContextInput!, $departureCityCode: String!, $destinationCode: String!) {
    allInclusiveVacationsSearchForm(context: $context) {
      ... on AllInclusiveVacationsSearchFormResults {
        durations(departureCityCode: $departureCityCode, destinationCode: $destinationCode) {
          ...AllInclusiveVacationsSearchFormContentsFragment
        }
      }
    }
  }
  ${kl}
`,xl=({data:e,locationCodes:t})=>{const{context:a}=(0,m.R)(),{departureCity:l,destination:r}=t,[i,o]=n.useState(),c=`${(null==e?void 0:e.egdsElementId)||"all-inclusive-vacations-destination"}-${""!==l&&""!==r?`${l}-${r}`:"default"}`,[s]=(0,G._)(Nl,{onCompleted:e=>{var t;o(null==(t=e.allInclusiveVacationsSearchForm)?void 0:t.durations)}}),d=(0,n.useCallback)((()=>{o(void 0),""!==l&&""!==r&&s({variables:{context:a,departureCityCode:l,destinationCode:r}})}),[l,r]);return n.useEffect((()=>d()),[d]),n.createElement(Rl,{data:e,emptyState:!1,key:c,options:i})},Bl=u.J1`
  fragment AllInclusiveVacationsSearchFormOriginFragment on AllInclusiveVacationsSearchFormOrigin {
    location {
      ...AllInclusiveVacationsSelectInputFragment
    }
    departureCities {
      ...AllInclusiveVacationsSearchFormContentsFragment
    }
  }
  ${Rl.fragment}
  ${kl}
`,$l=n.forwardRef((({data:e,onChange:t,errorState:a},l)=>{const{location:r,departureCities:i,__typename:o}=e,c=n.useMemo((()=>{var e;const t=gl(a,o);return!t||t.isValid?"":null!=(e=null==r?void 0:r.errorMessage)?e:""}),[a]);return e.location?n.createElement(Rl,{data:e.location,options:i,onChange:t,ref:l,errorMessage:c}):null}));$l.fragment=Bl,$l.displayName="AllInclusiveVacationsOriginField";var Wl=(e,t,a=" ")=>Array.from(Array(t)).map((()=>e)).join(a),wl=(e=>(e.originLocation="originLocation",e.destinationLocation="destinationLocation",e.dates="dates",e.duration="duration",e.travelers="travelers",e.search="search",e))(wl||{}),Ul=u.J1`
  fragment AllInclusiveVacationsSearchFormFragment on AllInclusiveVacationsSearchForm {
    __typename
    actionURL
    egdsElementId
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    origin {
      ...AllInclusiveVacationsSearchFormOriginFragment
    }
    destination {
      ...AllInclusiveVacationsSearchFormDestinationFragment
    }
    date {
      ...EGDSSearchFormDatePickerFieldFragment
    }
    duration {
      ...AllInclusiveVacationsSelectInputFragment
    }
    travelers {
      ...EGDSSearchFormTravelersFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
  }
  ${ze.fragment}
  ${$l.fragment}
  ${Ml.fragment}
  ${Qa.fragment}
  ${Rl.fragment}
  ${Sl.fragment}
  ${Ke.fragment}
`,Hl=(()=>{const{originLocation:e,destinationLocation:t,dates:a,duration:n,travelers:l,search:r}=wl;return{space:"three",areas:{small:[...[`${e}`,`${t}`,`${a}`,`${n}`,`${l}`,`${r}`]],medium:[...[`${Wl(e,6)} ${Wl(t,6)}`,`${Wl(a,4)} ${Wl(n,4)} ${Wl(l,4)}`,`${Wl(r,3)} ${Wl(".",9)}`]],large:[...[`${Wl(e,4)} ${Wl(t,4)} ${Wl(a,4)} ${Wl(n,3)} ${Wl(l,3)} ${Wl(r,2)}`]]}}})(),Vl=(()=>{const{originLocation:e,destinationLocation:t,dates:a,duration:n,travelers:l,search:r}=wl;return{originLocation:{area:e},destinationLocation:{area:t},dates:{area:a},duration:{area:n},travelers:{area:l},search:{area:r}}})(),zl={[d.OB.SMALL]:!0,[d.OB.LARGE]:!1},Yl={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},ql=({data:e})=>{const{actionURL:t,egdsElementId:a,origin:l,destination:i,date:o,travelers:c,search:s,duration:u,errorSummary:p}=e,{context:y}=(0,m.R)(),{locale:_}=y,S=null!=a?a:"all-inclusive-vacations-search-form",E=_?n.createElement("input",{type:"hidden",name:`${S}-language`,value:null==_?void 0:_.substring(0,2)}):null,g=n.useRef(null),h=n.useRef(null),D=n.useRef(null),f=(0,d.s5)(zl),[T,C]=n.useState(Yl),{displayErrorSummary:I,errorCount:A,errorLinkReference:F}=T,[O,k]=n.useState({AllInclusiveVacationsSearchFormOrigin:h,AllInclusiveVacationsSearchFormDestination:D,EGDSSearchFormDatePickerField:null}),[G,R]=n.useState(""),[L,P]=n.useState(""),M=n.useCallback(((e,t)=>{k((a=>ge(Ee({},a),{[e]:t})))}),[]),N=e=>{var t;C(Yl);const a=Cl(e),n=Object.keys(O).map((e=>a.find((t=>t.__typename===e)))).filter((e=>void 0!==e)),l=a.length;return C({fieldsWithErrors:a,errorCount:l,displayErrorSummary:!0,errorLinkReference:O[null==(t=n[0])?void 0:t.__typename]}),0===l},x=n.useMemo((()=>T.fieldsWithErrors.find((e=>"EGDSSearchFormDatePickerField"===e.__typename))),[T]);return n.createElement(b.E,{ref:g,id:S,name:S,method:"GET",action:t,onSubmit:e=>{const a=Array.from(e.currentTarget.elements),n={location:{originSelect:a.find(Al("AllInclusiveVacationsSelect-origin-select")),destinationSelect:a.find(Al("AllInclusiveVacationsSelect-destination-select"))},dates:{startDateInput:a.find(Al("EGDSSingleDatePicker-Date-date-picker")),endDateInput:null,config:{maxNumberOfDaysSelected:0,validateWhenEmpty:!0}}},l=!N(n);if(e.preventDefault(),l)return;const r=(e=>{const t="AllInclusiveVacations",a=Array.from(e.currentTarget.elements).filter((e=>e.name.startsWith("EGDS")||e.name.startsWith(t))).reduce(((e,a)=>{var n,l,r;const i=a;if(i.name.startsWith(Gl)&&i.name.includes("origin")&&a instanceof HTMLSelectElement){const t=a,n=Array.from(t.options).find((e=>e.selected));if(n)return ge(Ee({},e),{gateway_dep:n.value})}if(i.name.startsWith(Gl)&&i.name.includes("destination")&&a instanceof HTMLSelectElement){const t=a,n=Array.from(t.options).find((e=>e.selected));if(n)return ge(Ee({},e),{dest_dep:n.id})}if(i.name.startsWith(qa)){const t=i.value.replace(/-/g,"");return ge(Ee({},e),{date_dep:t})}if(i.name.startsWith(Gl)&&i.name.includes("duration")&&a instanceof HTMLSelectElement){const t=a,n=Array.from(t.options).find((e=>e.selected));if(n)return ge(Ee({},e),{duration:n.value})}if(i.name.startsWith(tl)){const t=i.name.startsWith(al),a=i.name.split("-"),o=t?al:a.slice(0,2).join("-"),c=parseInt(i.value,10),s=null!=(n=i.name.split(`${o}-Room`)[1])?n:"1",d=parseInt(null!=(l=e.nb_adult)?l:"0",10);if(!t){const t=parseInt(null!=(r=e.nb_child)?r:"0",10)+1;return ge(Ee({},e),{nb_child:t.toString(),[`non_adult${t}`]:i.value})}return ge(Ee({},e),{nb_rooms:s,nb_adult:(d+c).toString()})}return i.name.startsWith(t)&&i.name.includes("language")?ge(Ee({},e),{language:i.value}):e}),{});return`&${Object.keys(a).map((e=>`${e}=${a[e]}`)).join("&")}`})(e),i=`${t}${r}`;window.location.href=i}},p&&I&&n.createElement(r.b,{margin:{blockend:"two"}},n.createElement("div",null,n.createElement(ze,{data:p,errorCount:A,inputErrorRef:F}))),n.createElement(v.E,Ee({},Hl),l&&n.createElement(v.a,Ee({},Vl.originLocation),n.createElement("div",null,n.createElement($l,{data:l,onChange:e=>{P(""),R(e.target.value)},ref:h,errorState:T}))),i&&n.createElement(v.a,Ee({},Vl.destinationLocation),n.createElement("div",null,n.createElement(Ml,{data:i,departureCityCode:G,onChange:e=>{P(e.target.value)},ref:D,errorState:T}))),o&&n.createElement(v.a,Ee({},Vl.dates),n.createElement("div",null,n.createElement(Qa,{data:o,setFieldRefByTypename:M,fieldError:x}))),"EGDSBasicSelect"===(null==u?void 0:u.__typename)&&n.createElement(v.a,Ee({},Vl.duration),n.createElement("div",null,n.createElement(xl,{data:u,locationCodes:{departureCity:G,destination:L}}))),c&&n.createElement(v.a,Ee({},Vl.travelers),n.createElement("div",null,n.createElement(Sl,{data:c}))),"EGDSSearchFormButton"===(null==s?void 0:s.__typename)&&n.createElement(v.a,Ee({},Vl.search),n.createElement("div",null,n.createElement(Ke,{data:s,isFullWidth:f})))),E)};ql.fragment=Ul,ql.displayName="AllInclusiveVacationsSearchForm";var jl={SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_SEARCH_FORM_QUERY_FAILURE")},Kl=u.J1`
  query AllInclusiveVacationsFormQuery($context: ContextInput!) {
    searchForm(context: $context) {
      allInclusiveVacations {
        __typename
        ...AllInclusiveVacationsSearchFormFragment
      }
    }
  }

  ${ql.fragment}
`,Jl=()=>{const{context:e}=(0,m.R)(),t=(0,p.useLoggerEvents)(jl),{data:a,error:l,loading:r,previousData:i}=(0,g.I)(Kl,{variables:{context:e}}),o=null!=a?a:i;return r&&!o?n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(We,{rows:[{type:"primary"},{type:"primary"},{type:"primary"}]})),n.createElement(d.rw,null,n.createElement(We,{rows:[{type:"primary"}]}))):l||!o||"AllInclusiveVacationsSearchForm"!==o.searchForm.allInclusiveVacations.__typename?(t.SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_SEARCH_FORM_QUERY_FAILURE.log({name:null==l?void 0:l.name,error:new Error(null==l?void 0:l.message)}),null):n.createElement(ql,{data:o.searchForm.allInclusiveVacations})};Jl.displayName="sharedui-AllInclusiveVacationsForm";var Ql={__typename:"SearchLocation",analytics:{__typename:"SearchLocationAnalytics",open:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.opened":{"v1":{"event_data":{"event":{"event_name":"search_location.opened","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',close:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.closed":{"v1":{"event_data":{"event":{"event_name":"search_location.closed","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',itemSelected:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.selected":{"v1":{"event_data":{"event":{"event_name":"search_location.selected","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',recommendationsPresented:'{"metadata":{"packer_version":"1.0.1"},"events":{"recommendations_module.presented":{"v2":{"event_data":{"event":{"event_name":"recommendations_module.presented","event_version":"2.1.0","event_category":"Search","event_type":"Impression"}}}}}}',recommendationSelected:'{"metadata":{"packer_version":"1.0.1"},"events":{"recommendations_module.selected":{"v2":{"event_data":{"event":{"event_name":"recommendations_module.selected","event_version":"2.1.0","event_category":"Search","event_type":"Interaction"}}}}}}'},content:{__typename:"SearchLocationContent",clearInput:{__typename:"UIPrimaryFloatingActionButton",accessibility:"Clear"},close:{__typename:"UIPrimaryFloatingActionButton",accessibility:null},poweredByGoogleLogoAltText:"Powered by Google Logo",resultsAvailableAccessibility:null,multiSelection:null,itemSelectedAccessibility:{__typename:"EGDSBasicLocalizedText",models:[],template:""}}},Xl=new Date,Zl=new Date;Zl.setDate(Zl.getDate()+14);var er=new Date;er.setDate(er.getDate()+15);var tr=new Date;function ar(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}tr.setMonth(tr.getMonth()+10),tr.setDate(tr.getDate()-5);var nr={__typename:"CarSearchForm",egdsElementId:"car_search_form",actionURL:"/carsearch",errorSummary:{egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Car.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Car.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},pickUpLocation:{__typename:"EGDSSearchFormLocationField",egdsElementId:"pick_up_location",label:"Pick-up",placeholder:"Pick-up",value:null,errorMessage:"Please select where you're picking up the vehicle",required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Location selection",referrerId:"Web.Car.Location.Origin.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CARS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:1583,typeaheadFeatures:"postal_code|consistent_display|cars_rental|carsclickpopularity",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city, airport, or address",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Car.Location.Origin.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Car.Location.Origin.Change",__typename:"ClientSideAnalytics"},multiLocations:null,validations:[{errorMessage:"Please select where you're picking up the vehicle",__typename:"EGDSRequiredInputValidation"}],regionId:null,regionType:"UNKNOWN",debounceRate:null,coordinates:null,airportCode:null},dropOffLocation:{__typename:"EGDSSearchFormLocationField",egdsElementId:"drop_off_location",label:"Same as pick-up",placeholder:"Drop-off",value:null,errorMessage:"Please select where you're dropping off the vehicle",required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.Car.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CARS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:1583,typeaheadFeatures:"postal_code|consistent_display|cars_rental|carsclickpopularity",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city, airport, or address",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Car.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Car.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,validations:[{errorMessage:"Please select where you're dropping off the vehicle",__typename:"EGDSRequiredInputValidation"}],regionId:null,regionType:"UNKNOWN",debounceRate:null,coordinates:null,airportCode:null},alternativeDropOffLocationLabel:"Drop-off",dates:{egdsElementId:"dates",label:"Dates",placeholder:"Dates",errorMessage:null,validations:null,action:{accessibility:null,analytics:{linkName:"car date open",referrerId:"Web.Car.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!0,selectedStartDate:Ee({},ar(Zl)),startDatePlaceholderText:"",selectedEndDate:Ee({},ar(er)),endDatePlaceholderText:"",validDaysLowerBoundInclusive:Ee({},ar(Xl)),validDaysUpperBoundInclusive:Ee({},ar(tr)),submitButtonAnalytics:{linkName:"car date submit",referrerId:"Web.Car.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"car date next",referrerId:"Web.Car.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"car date previous",referrerId:"Web.Car.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"car date start",referrerId:"Web.Car.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"car date end",referrerId:"Web.Car.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:{linkName:"car dates clear",referrerId:"Web.Car.Calendar.ClearDates.Submit",__typename:"ClientSideAnalytics"},showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},pickUpTime:{__typename:"EGDSBasicSelect",egdsElementId:"pick_up_time",clickAnalytics:{linkName:"car time open",referrerId:"Web.Car.Pick_up.Time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Pick-up time",options:[{label:"12:00 AM",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15 AM",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30 AM",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45 AM",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"01:00 AM",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"01:15 AM",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"01:30 AM",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"01:45 AM",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"02:00 AM",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"02:15 AM",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"02:30 AM",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"02:45 AM",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"03:00 AM",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"03:15 AM",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"03:30 AM",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"03:45 AM",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"04:00 AM",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"04:15 AM",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"04:30 AM",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"04:45 AM",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"05:00 AM",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"05:15 AM",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"05:30 AM",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"05:45 AM",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"06:00 AM",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"06:15 AM",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"06:30 AM",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"06:45 AM",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"07:00 AM",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"07:15 AM",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"07:30 AM",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"07:45 AM",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"08:00 AM",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"08:15 AM",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"08:30 AM",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"08:45 AM",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"09:00 AM",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"09:15 AM",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"09:30 AM",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"09:45 AM",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00 AM",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15 AM",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30 AM",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45 AM",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00 AM",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15 AM",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30 AM",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45 AM",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00 PM",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15 PM",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30 PM",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45 PM",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"01:00 PM",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"01:15 PM",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"01:30 PM",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"01:45 PM",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"02:00 PM",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"02:15 PM",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"02:30 PM",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"02:45 PM",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"03:00 PM",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"03:15 PM",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"03:30 PM",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"03:45 PM",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"04:00 PM",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"04:15 PM",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"04:30 PM",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"04:45 PM",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"05:00 PM",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"05:15 PM",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"05:30 PM",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"05:45 PM",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"06:00 PM",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"06:15 PM",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"06:30 PM",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"06:45 PM",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"07:00 PM",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"07:15 PM",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"07:30 PM",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"07:45 PM",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"08:00 PM",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"08:15 PM",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"08:30 PM",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"08:45 PM",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"09:00 PM",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"09:15 PM",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"09:30 PM",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"09:45 PM",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00 PM",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15 PM",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30 PM",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45 PM",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00 PM",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15 PM",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30 PM",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45 PM",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"Your pick-up time must be in the future",readOnly:!1,value:null},dropOffTime:{__typename:"EGDSBasicSelect",egdsElementId:"drop_off_time",clickAnalytics:{linkName:"car time open",referrerId:"Web.Car.Drop_off.Time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Drop-off time",options:[{label:"12:00 AM",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15 AM",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30 AM",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45 AM",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"01:00 AM",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"01:15 AM",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"01:30 AM",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"01:45 AM",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"02:00 AM",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"02:15 AM",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"02:30 AM",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"02:45 AM",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"03:00 AM",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"03:15 AM",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"03:30 AM",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"03:45 AM",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"04:00 AM",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"04:15 AM",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"04:30 AM",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"04:45 AM",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"05:00 AM",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"05:15 AM",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"05:30 AM",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"05:45 AM",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"06:00 AM",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"06:15 AM",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"06:30 AM",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"06:45 AM",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"07:00 AM",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"07:15 AM",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"07:30 AM",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"07:45 AM",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"08:00 AM",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"08:15 AM",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"08:30 AM",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"08:45 AM",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"09:00 AM",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"09:15 AM",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"09:30 AM",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"09:45 AM",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00 AM",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15 AM",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30 AM",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45 AM",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00 AM",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15 AM",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30 AM",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45 AM",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00 PM",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15 PM",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30 PM",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45 PM",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"01:00 PM",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"01:15 PM",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"01:30 PM",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"01:45 PM",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"02:00 PM",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"02:15 PM",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"02:30 PM",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"02:45 PM",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"03:00 PM",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"03:15 PM",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"03:30 PM",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"03:45 PM",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"04:00 PM",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"04:15 PM",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"04:30 PM",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"04:45 PM",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"05:00 PM",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"05:15 PM",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"05:30 PM",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"05:45 PM",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"06:00 PM",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"06:15 PM",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"06:30 PM",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"06:45 PM",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"07:00 PM",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"07:15 PM",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"07:30 PM",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"07:45 PM",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"08:00 PM",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"08:15 PM",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"08:30 PM",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"08:45 PM",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"09:00 PM",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"09:15 PM",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"09:30 PM",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"09:45 PM",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00 PM",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15 PM",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30 PM",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45 PM",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00 PM",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15 PM",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30 PM",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45 PM",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"Your drop-off time must be at least 2 hours after pick-up",readOnly:!1,value:null},driverAgeCheck:null,specialRates:{label:"Special rates",discountCode:{__typename:"CarSearchFormDiscountCode",discountCode:{__typename:"EGDSBasicTriggerPill",id:"discount_codes",disabled:!1,primary:"Discount codes",selected:!1,icon:null,selectAnalytics:{linkName:"discount code selected",referrerId:"Web.Car.Discount.Code.Selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"discount code unselected",referrerId:"Web.Car.Discount.Code.Unselected",__typename:"ClientSideAnalytics"},accessibility:null},action:{discountType:{__typename:"EGDSBasicSelect",egdsElementId:null,clickAnalytics:null,icon:null,label:"Discount type",options:[],disabled:!1,errorMessage:null,readOnly:!1,value:null},discountTypeOptions:[{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AC",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"FASTSTART Org ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AD",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AL",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Alamo Insiders #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Alamo Insiders #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"AWD #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZI",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Wizard #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Wizard #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"BCD #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZD",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Fast Break #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Fast Break #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZR",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Dollar Express #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Dollar Express #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"EY",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:1,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Customer #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ET",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Enterprise Plus #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Enterprise Plus #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Contract #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"EP",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Privilege #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Privilege #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"FX",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"CDP",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZE",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:1,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"National Contract ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZL",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Emerald Club ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Emerald Club ID",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate account",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"NU",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZA",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Payless Perks #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Payless Perks #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"SX",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZT",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Blue Chip #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Blue Chip #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:null,preferredBrand:"SV",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"SC",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}}],preferredBrand:{__typename:"EGDSBasicSelect",egdsElementId:null,clickAnalytics:null,icon:null,label:"Preferred brand",options:[{label:"Ace Rent A Car",selected:!1,value:"AC",__typename:"EGDSBasicOption"},{label:"Advantage Rent-A-Car",selected:!1,value:"AD",__typename:"EGDSBasicOption"},{label:"Alamo Rent A Car",selected:!1,value:"AL",__typename:"EGDSBasicOption"},{label:"Avis",selected:!1,value:"ZI",__typename:"EGDSBasicOption"},{label:"Budget",selected:!1,value:"ZD",__typename:"EGDSBasicOption"},{label:"Dollar Rent A Car",selected:!1,value:"ZR",__typename:"EGDSBasicOption"},{label:"Economy Rent a Car",selected:!1,value:"EY",__typename:"EGDSBasicOption"},{label:"Enterprise",selected:!1,value:"ET",__typename:"EGDSBasicOption"},{label:"Europcar",selected:!1,value:"EP",__typename:"EGDSBasicOption"},{label:"Fox Rent a Car",selected:!1,value:"FX",__typename:"EGDSBasicOption"},{label:"Hertz",selected:!1,value:"ZE",__typename:"EGDSBasicOption"},{label:"Midway Car Rental",selected:!1,value:"MW",__typename:"EGDSBasicOption"},{label:"National Car Rental",selected:!1,value:"ZL",__typename:"EGDSBasicOption"},{label:"Nu Car",selected:!1,value:"NU",__typename:"EGDSBasicOption"},{label:"Payless",selected:!1,value:"ZA",__typename:"EGDSBasicOption"},{label:"Routes Car Rental",selected:!1,value:"RO",__typename:"EGDSBasicOption"},{label:"Sixt",selected:!1,value:"SX",__typename:"EGDSBasicOption"},{label:"Thrifty Car Rental",selected:!1,value:"ZT",__typename:"EGDSBasicOption"},{label:"U-Save",selected:!1,value:"SV",__typename:"EGDSBasicOption"},{label:"Silvercar",selected:!1,value:"SC",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:null,readOnly:!1,value:null},errorSummary:{egdsElementId:"discount_code_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Car.Discount_Code.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Car.Discount_Code.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},toolbar:{primary:"Discount code",actions:{primary:{egdsElementId:null,primary:"Clear",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},secondaries:[{icon:{description:"close",__typename:"Icon"},__typename:"UITertiaryButton"}],__typename:"UIToolbarActions"},__typename:"UIToolbar"},done:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UIPrimaryButton"},__typename:"CarSearchFormDiscountCodeAction"}},showAarpRate:{__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"aarp_rates",primary:"Show AARP rates",selected:!1,selectedText:null,value:null,icon:null,selectAnalytics:{linkName:"AARP rate selected",referrerId:"Web.Car.AARP.Rate.Selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"AARP rate unselected",referrerId:"Web.Car.AARP.Rate.Unselected",__typename:"ClientSideAnalytics"}},__typename:"CarSearchFormSpecialRates"},search:{egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Car.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},rentalTypes:null,localDateFormat:"M/d/yyyy",playback:null,searchLocation:Ql},lr=new Date,rr=new Date;rr.setDate(rr.getDate()+14);var ir=new Date;ir.setDate(ir.getDate()+15);var or=new Date;function cr(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}or.setDate(or.getDate()+328);var sr={__typename:"EGDSSearchFormLocationField",egdsElementId:"airport_location",label:"Airport",placeholder:"Airport",value:null,errorMessage:"Please select an airport",validations:[{errorMessage:"Please select an airport",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.GT.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"SearchForm",drivable:!1,isDestination:!0,lineOfBusiness:"GROUNDTRANSFERS",maxNumberOfResults:7,packageType:null,personalize:!0,regionType:1,typeaheadFeatures:"proximity|nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.GT.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.GT.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},dr={__typename:"EGDSSearchFormLocationField",egdsElementId:"hotel_location",label:"Hotel",placeholder:"Hotel",value:null,errorMessage:"Please select a hotel",validations:[{errorMessage:"Please select a hotel",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:"lob_hotels",__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.GT.Location.Origin.Open",__typename:"ClientSideAnalytics"},info:{client:"SearchForm",drivable:!1,isDestination:!1,lineOfBusiness:"GROUNDTRANSFERS",maxNumberOfResults:7,packageType:null,personalize:!0,regionType:128,typeaheadFeatures:"proximity|consistent_display|google",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.GT.Location.Origin.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.GT.Location.Origin.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},ur={action:{analytics:{linkName:"Travelers selector displayed",referrerId:"Travelers selector updated",__typename:"ClientSideAnalytics"},travelerSelector:{closeButton:{egdsElementId:"travelers_selector_close_button",primary:"Close",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Close button",referrerId:"Web.Gt.Search.Traveler.Selector.Close.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"travelers_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Done button",referrerId:"Web.Gt.Search.Traveler.Selector.Done.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Gt.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Gt.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:1},children:{count:{decreaseAnalytics:{linkName:"Children traveler removed",referrerId:"Web.Gt.Traveler.Remove.Children",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Children traveler added",referrerId:"Web.Gt.Traveler.Add.Children",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Age 2 to 17",value:0},type:null,__typename:"EGDSBasicTraveler"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Gt.Traveler.Remove.InfantsInSeat",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Gt.Traveler.Add.InfantsInSeat",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_in_seat_step_input",__typename:"EGDSTravelerStepInput",label:"Infants",max:8,min:0,step:1,subLabel:"Younger than 2",value:0},type:null,__typename:"EGDSBasicTraveler"},infantsOnLap:null,pets:null,__typename:"EGDSTravelers"},validations:[{errorMessage:"We allow up to 6 travelers per booking",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.GT.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],secondaryTemplates:null,text:"1 traveler",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1,__typename:"EGDSSearchFormTravelersField"},mr={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.GT.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},pr={__typename:"EGDSBasicSelect",egdsElementId:"pick_up_time",clickAnalytics:{linkName:"ground transportation time open",referrerId:"Web.Gt.pick_up_time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Flight arrival time",options:[{label:"12:00am",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15am",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30am",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45am",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"1:00am",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"1:15am",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"1:30am",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"1:45am",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"2:00am",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"2:15am",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"2:30am",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"2:45am",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"3:00am",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"3:15am",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"3:30am",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"3:45am",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"4:00am",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"4:15am",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"4:30am",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"4:45am",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"5:00am",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"5:15am",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"5:30am",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"5:45am",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"6:00am",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"6:15am",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"6:30am",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"6:45am",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"7:00am",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"7:15am",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"7:30am",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"7:45am",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"8:00am",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"8:15am",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"8:30am",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"8:45am",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"9:00am",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"9:15am",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"9:30am",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"9:45am",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00am",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15am",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30am",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45am",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00am",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15am",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30am",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45am",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00pm",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15pm",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30pm",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45pm",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"1:00pm",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"1:15pm",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"1:30pm",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"1:45pm",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"2:00pm",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"2:15pm",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"2:30pm",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"2:45pm",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"3:00pm",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"3:15pm",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"3:30pm",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"3:45pm",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"4:00pm",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"4:15pm",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"4:30pm",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"4:45pm",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"5:00pm",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"5:15pm",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"5:30pm",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"5:45pm",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"6:00pm",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"6:15pm",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"6:30pm",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"6:45pm",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"7:00pm",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"7:15pm",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"7:30pm",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"7:45pm",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"8:00pm",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"8:15pm",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"8:30pm",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"8:45pm",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"9:00pm",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"9:15pm",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"9:30pm",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"9:45pm",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00pm",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15pm",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30pm",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45pm",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00pm",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15pm",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30pm",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45pm",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"",readOnly:!1,value:null},yr={__typename:"EGDSBasicSelect",egdsElementId:"drop_off_time",clickAnalytics:{linkName:"ground transportation time open",referrerId:"Web.Gt.drop_off_time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Flight departure time",options:[{label:"12:00am",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15am",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30am",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45am",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"1:00am",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"1:15am",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"1:30am",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"1:45am",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"2:00am",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"2:15am",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"2:30am",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"2:45am",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"3:00am",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"3:15am",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"3:30am",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"3:45am",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"4:00am",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"4:15am",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"4:30am",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"4:45am",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"5:00am",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"5:15am",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"5:30am",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"5:45am",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"6:00am",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"6:15am",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"6:30am",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"6:45am",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"7:00am",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"7:15am",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"7:30am",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"7:45am",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"8:00am",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"8:15am",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"8:30am",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"8:45am",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"9:00am",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"9:15am",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"9:30am",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"9:45am",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00am",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15am",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30am",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45am",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00am",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15am",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30am",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45am",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00pm",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15pm",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30pm",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45pm",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"1:00pm",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"1:15pm",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"1:30pm",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"1:45pm",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"2:00pm",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"2:15pm",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"2:30pm",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"2:45pm",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"3:00pm",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"3:15pm",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"3:30pm",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"3:45pm",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"4:00pm",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"4:15pm",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"4:30pm",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"4:45pm",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"5:00pm",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"5:15pm",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"5:30pm",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"5:45pm",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"6:00pm",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"6:15pm",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"6:30pm",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"6:45pm",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"7:00pm",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"7:15pm",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"7:30pm",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"7:45pm",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"8:00pm",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"8:15pm",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"8:30pm",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"8:45pm",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"9:00pm",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"9:15pm",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"9:30pm",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"9:45pm",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00pm",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15pm",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30pm",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45pm",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00pm",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15pm",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30pm",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45pm",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"The departing flight must occur at least 2 hours after the arriving flight.",readOnly:!1,value:null},_r={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.GT.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.GT.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Sr={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/",errorSummary:_r,dates:{egdsElementId:"date_form_field",label:"Flight arrival date",placeholder:"Flight arrival date",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:Ee({},cr(rr)),validDaysLowerBoundInclusive:Ee({},cr(lr)),validDaysUpperBoundInclusive:Ee({},cr(or)),submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:dr,airportLocation:sr,travelers:ur,pickupTime:pr,dropoffTime:null,elements:[],playback:null,search:mr,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:"Airport to hotel",disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:"Hotel to airport",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:"Roundtrip",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:Ql}}},Er={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/",errorSummary:_r,dates:{egdsElementId:"date_form_field",label:"Flight departure date",placeholder:"Flight departure date",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:Ee({},cr(rr)),validDaysLowerBoundInclusive:Ee({},cr(lr)),validDaysUpperBoundInclusive:Ee({},cr(or)),submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:dr,airportLocation:sr,travelers:ur,pickupTime:null,dropoffTime:yr,elements:[],playback:null,search:mr,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:"Airport to hotel",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:"Hotel to airport",disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:"Roundtrip",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:Ql}}},gr={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/search",errorSummary:_r,dates:{egdsElementId:"date_form_field",label:"Flight dates",placeholder:"Flight dates",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!0,selectedStartDate:Ee({},cr(rr)),startDatePlaceholderText:"",selectedEndDate:Ee({},cr(ir)),endDatePlaceholderText:"",validDaysLowerBoundInclusive:Ee({},cr(lr)),validDaysUpperBoundInclusive:Ee({},cr(or)),flexibleDateContent:null,submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"ground transportation dates Dates next date button",referrerId:"Web.GT.Calendar.Next.Dates.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"ground transportation dates Dates previous date button",referrerId:"Web.GT.Calendar.Previous.Dates.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"ground transportation dates Dates end date button",referrerId:"Web.GT.Calendar.End.Dates.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:{linkName:"ground transportation dates Dates clear button",referrerId:"Web.GT.Calendar.Clear.Dates.Submit",__typename:"ClientSideAnalytics"},showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:dr,airportLocation:sr,travelers:ur,pickupTime:pr,dropoffTime:yr,elements:[],playback:null,search:mr,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:null,disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:null,disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:null,disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:Ql}}},hr="EGDSBasicSelect",vr=u.J1`
  fragment EGDSBasicSelectFragment on EGDSBasicSelect {
    egdsElementId
    clickAnalytics {
      ...ClientSideAnalyticsFragment
    }
    icon {
      id
    }
    label
    options {
      label
      selected
      value
    }
    disabled
    errorMessage
    readOnly
    value
  }

  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {
    linkName
    referrerId
  }
`,Dr=({onChange:e,selectValue:t,emptyState:a,data:l,errorMessage:r,setInputRef:i})=>{const o=(0,E.KY)(),{egdsElementId:c,label:s,icon:d,options:u,clickAnalytics:m,readOnly:p,disabled:y}=l,_=null!=c?c:"search_form_basic_select",S=n.useRef(null),g=n.useCallback((()=>{if(m&&"ClientSideAnalytics"===m.__typename){const{referrerId:e,linkName:t}=m;o(e,t)}}),[m,o]),h=(0,b.u)(_,(t=>(e&&e(t),t)));return n.useEffect((()=>{i&&i(S)}),[]),(null==u?void 0:u.length)>0?n.createElement(Z.i,{readOnly:p,disabled:y,id:_,name:`${hr}-${_}`,label:s,icon:null==d?void 0:d.id,onClick:g,"aria-label":null!=s?s:"",onChange:h,emptyState:a,value:t,placeholder:a?s:void 0,invalid:r,domRef:S},u.map((({label:e,value:t,selected:a})=>n.createElement("option",{key:t,label:e,value:t,selected:null!=a&&a},e)))):null};Dr.displayName="EGDSBasicSelect",Dr.fragment=vr;var fr=u.J1`
  fragment EGDSSelectFragment on EGDSSelect {
    __typename

    ...EGDSBasicSelectFragment
  }

  ${Dr.fragment}
`,Tr=e=>{const{data:t,fieldError:a}=e,l=a?(r=a,"EGDSBasicSelect"===t.__typename?(null==r?void 0:r.isValid)?"":null!=(i=t.errorMessage)?i:"":""):"";var r,i;const o=Ee({errorMessage:l},e);return"EGDSBasicSelect"===t.__typename?n.createElement(Dr,ge(Ee({},o),{data:t})):null};Tr.displayName="SearchToolsEGDSSelect",Tr.fragment=fr;var br={SEARCH_LOCATION_TYPEAHEAD_DURATION:new p.SystemEvent(p.SystemEventLevel.INFO,"SEARCH_LOCATION_TYPEAHEAD_DURATION")},Cr=n.createContext({impressionWrapper:void 0}),Ir=e=>e.locationFullName+(e.regionId||""),Ar=u.J1`
  fragment SearchLocationQueryAttributionFragment on SearchLocationResults {
    poweredBy
  }
`,Fr=({searchLocationContent:e,data:t})=>{var a;const{poweredBy:l=""}=null!=t?t:{};return"GOOGLE"===l?n.createElement(r.b,{padding:{blockstart:"three",inline:"four"}},n.createElement("div",null,n.createElement(f.i,{justifyContent:"end"},n.createElement(f.j,{maxWidth:144,minWidth:144},n.createElement(h.a,{imageFit:"contain"},n.createElement(h.b,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAASCAYAAAC0PldrAAAIHElEQVR4Ae3ZBXDbWB7H8efglpmZGW0HlhzJDpSZmZkZ3W3s2DpmZmbmKx0zM/NdoGhotxTf9x9LHY027paW85v5bBRQopn32weqasqzk5Jw7BE9nHijHo5/Rw/HfqaHYl/keldZ8GJ7qBeqZ/6PNGlPUT5DeVKNqkyc18PJ6VDPtfEfnvUJz0dmpbwfmzMW6k5YFy96pBRTkCnL4MUDiy94oS0F+ZVZlD/5qxLLfNFkz0D0fBtfKOkpCcffrFfG6vVQ4hDUc6ypQLdDFmMdMiWIcjywaOHEB8zynPEFa1pCOWnHLw2Bej5oKtDzqEC+cGyoWZ5YaTDeGer57r4LRPLRCi40liy0QR4eVB5CG2QhU3KQneG+TM/qQhvk424L1Bwt73P22d9QoFD8bVB3KxVUWTX+gqW1mvvLtbr7Z7V+z6frNM/UlFIuKAD83I2v5y69eiL3y9dPZP/s2tdyPn39ZN7UVEq5oCz8x+WvjC/SQrEv8/u/z/O9siSUKNfC8agWSbrRaIH+p3lH1Pg976jxe38gz8JzzLM/g2QhpmIuIjCwB/0cg6HjGAxEsQQtIZmCtbBnLbY4BngZptkGaQmiMHAUhbCyEJMxCxGsh6QFltruOwIv7BmEfTAQwWwsvYMCTcMqGKat6AJJCXYjD1ZcWIdZsEdK8K50gZLroez4+l4G8j1PURlfAJWaMye7Vvd+otbvTVVr7hvVmvc/ci0YyNdAidTHVPa1EzmfuH4iN0WBbnD9H7lu8PXc10CJYDCVxanvffI8nAZvloQTNenZMXYt/YyJ5Y3tgar9nkCt5n2y4Tl073+5TprPEIYSknW2ARpkWosQOkFSiijK0BtuHME2ZGMMDLSDpBMMU29bYaIYBxfW4wBGojcmw8BIWM8Vwjq40QMubMR+231TYGAYJN1QhVUYgEHYgMgdFCiCBeiLYdiJI2iO9og6St4XBgZnKpAWjm2AsmNZO+E8jdlnqzrdvS49aO4fndWLekDVlbmHMoB/MQewAorCrDML86P6E816QD35lbyhzER/SZcouwJKq0oskd9PSX9aVnm5F1RJVbKQr13IVKCU251b7Xf/WwpcqxfMkVnngm9MW+sZ6gJeD24N1BHkwUouDmI28hDGBNjTDwZGIR9hFEOiYyu2YRIkY1GFhzAABvrCnpVYbyvQAeTAyiBHKa2sNUnmY5/jvnwcvYMCbXDMmG1QBR2SJdhu+5l52NXYMsqA7EsXI/5OKBvEhnMKK7LwtePpgYy9HIpB+lbDIGmFbihLTcAzs6FAuueDUJTkW0hdO5XrhrJc/1reTPk6BfsgZMY7iZS/KumFsmihxIFMBaoNeHxmiT/6H5+7Y41esJcl7K/pmdD9N64n4tZALYQzs7EDvTMMmgtBW7GWYyUk26DDj/1wYYHt+z7bUhixMXDMVqDFznG5zX1HIdmDGbDnTvdAGpzZhGWO/2n6ojnCKIIzDNClwQ1LRmU8ETCS3aEysU5r7FHmQckAyUD9sWJgPpSlNlA4SL7O0vJNqGtfz/6bFKX+SyofyvLk1/IGNcxAX8v9JpS8QpDfX/Ha+nwoC8vplIwFYq/TUFbN+w9Zxqr93vpq3fOFWn/BJFlioYQ1UEvgzHxsRQ8Y6NdIgY6jDBI3wugGA53QxVa+IAogeQwR9EB3h27IVGwfqjLc1xWSnZgNZ5bdQYECcGabrcgubMUCPIZjtztQWPsOZpjvPRq52A7KSatKTpV3QfxcXenL61tASUFk8M7q7gIoiywl6UF1fwBKCmLONAVQlhsn8+aYX/8AVEll4pQ8h7x7grLIRj9TgWo0z8Ppsnqv1eqeyP98hX2hZClrrEDH0QpWWuIYJiMbQcx1TNWjYWCQbY8TwQbshJXdWI+obdPdEwbGwJ7ipylQH2vZdN5nK9AMHEVzx1JUeQcF2uVY+rojimJYGY8q7MdEZIy8MGTwfmHuhf5JkTbJex/fyxJdtcpLDzNob5JNrbn/mQMl2ECvNpeKn1sDV6MVjGEz/U9zWSmFYuO82tzr/PzK6fy+UFdP5o6hNP9M742ySyFL1VJrDxSIXu4NJUunvAXPVCApCfufP5p7rg1y2pMZkeswX/u+zIawF0jtwyOmvThiK5UXBhbDgwkIY7mjVKthoBRWymE0MngLbXsrN+bbS5WhQC4sRggVjvtGQ9IWQexGMR7BfjxxBwV6AptRgBIcxU7kwkoODiOCtrhtZOZhkD52m3/KiFGs+VCAdYT3fsicAer5WIcU4DGghPzcta/nfKjhFPa13HrUybW5fBlQQk5hWmXi/fL3rNnuTk5hdX6Pl79/wTwNXrJOYbIXOh9w98atgVqAx7EPx7AUHWDPSGy2la0MOY38zCp0gZWuWNXIbJONAPYhhK0YDSsTocGZbJRmuM9KJ6zAceyHD489zYyxCGMwGYdts24LOLMWi3DHkQ0sg/QqWU5KwvEf4HPMDHseDcc6QTnJUiH7EGajz8g7GPYiH2EWKoOyk/c9vAeax6zzGcryAz5+5PrJ7DIoO37QxTufhRT0C+zLvst11FrC5JQG5f7IrJd5Pjzzx56Pzh4CJc76CnryHugVPMe3OcqfYTkLymkMCpk30RnTlG62jfQLIr5gKkf+wVY29lAWWULTM2HsMah70VSgu888bIULL4hw2pqRPhEmfiMbadmbyWzE/utqSSj2nznBVB7UvWgq0N2lLSIYhxdOWL5k+Xzq/it2mdcGAah7ZV00eQlgxvFRpNfJeyc+Bn2RK32h7sf/AesqcHB02e65AAAAAElFTkSuQmCC",alt:null!=(a=null==e?void 0:e.poweredByGoogleLogoAltText)?a:""})))))):null};Fr.fragment=Ar,Fr.displayName="SearchLocationQueryAttributionFragment";var Or=u.J1`
  fragment SearchLocationButtonFragment on SearchLocationButton {
    __typename
    text
    accessibilityText
    icon {
      ...IconFragment
    }
  }

  ${Ot.fragment}
`,kr=e=>{const{data:t,onClick:a}=e,{text:l,accessibilityText:r,icon:i}=t;return n.createElement(H.E,{onClick:e=>{a(e)},"aria-label":r},n.createElement(Ot,{data:i}),l)};kr.fragment=Or,kr.displayName="SearchLocationButton";var Gr=u.J1`
  fragment ImageFragment on Image {
    url
    description
    aspectRatio
  }
`,Rr={ONE_ONE:h.E.R1_1,THREE_TWO:h.E.R3_2,THREE_FOUR:h.E.R3_4,FOUR_ONE:h.E.R4_1,FOUR_THREE:h.E.R4_3,SIXTEEN_NINE:h.E.R16_9,TWENTY_ONE_NINE:h.E.R21_9},Lr=e=>{const{data:t}=e,{url:a,description:l,aspectRatio:r}=t;return n.createElement(h.a,{roundcorner:["all"],ratio:r?Rr[r]:h.E.R4_3},n.createElement(h.b,{placeholderImage:!0,src:a,alt:l}))};Lr.fragment=Gr,Lr.displayName="Image";var Pr=u.J1`
  fragment SearchLocationGraphicFragment on SearchLocationGraphic {
    ...IconFragment
    ...ImageFragment
  }
  ${Ot.fragment}
  ${Lr.fragment}
`,Mr=e=>{const{data:t,id:a}=e;switch(t.__typename){case"Icon":return n.createElement(Ot,{uniqueId:a,data:t});case"Image":return n.createElement(Lr,ge(Ee({},e),{data:t}));default:return null}};Mr.fragment=Pr,Mr.displayName="SearchLocationGraphic";var Nr=u.J1`
  fragment SearchLocationBasicItemFragment on SearchLocationBasicItem {
    __typename
    airportCode
    coordinates {
      latitude
      longitude
    }
    geoType
    graphic {
      ...SearchLocationGraphicFragment
    }
    itemAccessibilityText
    analyticsInfo {
      category
      relation
      sourceName
    }
    impressionAnalytics {
      referrerId
      linkName
    }
    primaryText
    propertyId
    regionId
    locationFullName
    secondaryText
    remove {
      ...SearchLocationButtonFragment
    }
  }

  ${Mr.fragment}
  ${kr.fragment}
`,xr=e=>{const{data:t,activeItemId:a,onClick:l,includeIndendation:i=!1,onRemoveRecentSearch:o,stid:c}=e,{primaryText:s,itemAccessibilityText:d,secondaryText:u,remove:m,graphic:p,locationFullName:y,impressionAnalytics:_,regionId:S}=t,g={linkName:(null==_?void 0:_.linkName)||"",referrerId:(null==_?void 0:_.referrerId)||""},h=`${c}-result-item`,v=`${c}-result-item-button`;return n.createElement(X.a,{spacing:"relaxed","data-stid":h,active:a===y+(S||"")},n.createElement(r.b,{margin:{inlinestart:i?"eight":void 0}},n.createElement(E.ee,Ee({},g),n.createElement(X.b,null,n.createElement("button",{"data-stid":v,onClick:e=>{l(t.locationFullName,t)},"aria-label":d,type:"button"})),n.createElement("div",null,n.createElement(f.i,null,p&&n.createElement(f.j,Ee({alignSelf:"center"},"Image"===p.__typename?{maxWidth:64,minWidth:84}:{}),n.createElement("div",null,n.createElement(Mr,{id:null!=S?S:void 0,data:p}))),n.createElement(f.j,null,n.createElement(r.b,{margin:{inlinestart:"three"}},n.createElement("div",null,n.createElement(A.c,{size:300,overflow:"truncate",weight:"bold"},s),n.createElement(A.c,{size:300,overflow:"truncate"},u)))),m&&n.createElement(f.j,{alignSelf:"center",grow:1},n.createElement(f.i,{justifyContent:"end"},n.createElement(kr,{data:m,onClick:e=>{null==o||o(e,t)}}))))))))};xr.fragment=Nr,xr.displayName="SearchLocationBasicItem";var Br=u.J1`
  fragment SearchLocationItemWithSubItemsFragment on SearchLocationItemWithSubItems {
    item {
      ...SearchLocationBasicItemFragment
    }

    subItems {
      ...SearchLocationBasicItemFragment
    }
  }

  ${xr.fragment}
`,$r=e=>{const{data:t}=e,{item:a,subItems:l}=t;return n.createElement(n.Fragment,null,n.createElement(xr,ge(Ee({},e),{data:a})),l.map(((t,a)=>n.createElement(xr,ge(Ee({key:a},e),{data:t,includeIndendation:!0})))))};$r.fragment=Br,$r.displayName="SearchLocationItemWithSubItems";var Wr=u.J1`
  mutation SearchLocationDeleteRecentSearch($context: ContextInput!, $lob: String!, $gaiaIds: [String!]!, $isDestination: Boolean) {
    searchLocationDeleteRecentSearch(context: $context, lob: $lob, gaiaIds: $gaiaIds, isDestination: $isDestination) {
      status
    }
  }
`,wr=u.J1`
  fragment SearchLocationRecentSearchFragment on SearchLocationRecentSearch {
    __typename
    dateRange {
      __typename
      start {
        ...DateFragment
      }
      end {
        ...DateFragment
      }
    }
    item {
      ...SearchLocationBasicItemFragment
    }
    travelers {
      ... on SearchLocationBasicTravelers {
        ...SearchLocationBasicTravelersFragment
      }
      ... on SearchLocationTravelersByRoom {
        ...SearchLocationTravelersByRoomFragment
      }
    }
  }

  fragment DateFragment on Date {
    day
    month
    year
  }

  fragment SearchLocationTravelersByRoomFragment on SearchLocationTravelersByRoom {
    rooms {
      ...SearchLocationBasicTravelersFragment
    }
  }

  fragment SearchLocationBasicTravelersFragment on SearchLocationBasicTravelers {
    adults
    childrenAges
    pets
  }

  ${xr.fragment}
`,Ur=e=>{const[t]=(0,le.n)(Wr),{formatText:a}=(0,$.useLocalization)(),[l,r]=(0,n.useState)(new Set),{context:i}=(0,m.R)(),{data:o,onRemoveRecentSearch:c,onRemoveRecentSearchTracking:s,lob:d="HOTEL",activeItemId:u,onClick:p,stid:y,isDestination:_}=e,{item:S,dateRange:E,travelers:g}=o,{regionId:h,primaryText:v}=S;return n.createElement(n.Fragment,null,h&&!l.has(h)&&n.createElement(xr,{key:h,lob:d,stid:y,data:S,activeItemId:u,onClick:(e,t)=>{null==p||p(e,t,E||void 0,g||void 0)},onRemoveRecentSearch:async e=>{if(e.preventDefault(),!h)return null;r((e=>new Set(e).add(h))),(0,F.liveAnnounce)(a("typeahead.custom.delete.recent.search.button.announce.a11y",v)),null==c||c(e,S);try{await t({variables:{context:i,lob:d,gaiaIds:[h],isDestination:_}}).then((e=>{"SUCCESS"===e.data.searchLocationDeleteRecentSearch.status&&(null==s||s(S))}))}catch(n){}}}))};Ur.fragment=wr,Ur.displayName="SearchLocationRecentSearch";var Hr=u.J1`
  fragment SearchLocationItemFragment on SearchLocationItem {
    ...SearchLocationBasicItemFragment
    ...SearchLocationItemWithSubItemsFragment
    ...SearchLocationRecentSearchFragment
  }

  ${xr.fragment}
  ${$r.fragment}
  ${Ur.fragment}
`,Vr=e=>{const{data:t}=e;switch(t.__typename){case"SearchLocationBasicItem":return n.createElement(xr,ge(Ee({},e),{data:t}));case"SearchLocationItemWithSubItems":return n.createElement($r,ge(Ee({},e),{data:t}));case"SearchLocationRecentSearch":return n.createElement(Ur,ge(Ee({},e),{data:t}));default:return null}};Vr.fragment=Hr,Vr.displayName="SearchLocationItem";var zr=u.J1`
  fragment SearchLocationGroupFragment on SearchLocationGroup {
    title
    items {
      ...SearchLocationItemFragment
    }
  }
  ${Vr.fragment}
`,Yr=e=>{const{data:t,onClick:a,onRemoveRecentSearch:l,onRemoveRecentSearchTracking:i,lob:o,stid:c,activeItemId:s,isDestination:d,hideTitle:u=!1}=e,{items:m,title:p}=t;return n.createElement(r.b,{padding:{blockstart:"three"}},n.createElement("div",null,p&&!u&&n.createElement(r.b,{padding:{block:"three",inlinestart:"six"}},n.createElement("div",null,n.createElement(A.c,{overflow:"truncate",size:300,weight:"bold"},p))),m&&n.createElement(X.E,null,m.map(((e,t)=>n.createElement(Vr,{key:t,data:e,lob:o,stid:c,activeItemId:s,onClick:a,onRemoveRecentSearch:l,onRemoveRecentSearchTracking:i,isDestination:d}))))))};Yr.fragment=zr,Yr.displayName="SearchLocationGroupFragment";var qr=({children:e})=>e&&n.createElement(r.b,{padding:{inline:"three"}},n.createElement(f.i,{justifyContent:"center",alignContent:"center"},n.createElement(A.c,{align:"center"},n.createElement(r.b,{margin:{blockstart:"six"}},n.createElement(_.a,{name:"search",size:_.E.XLARGE})),n.createElement(r.b,{margin:{blockend:"three"}},n.createElement(A.c,{size:300},e)))));qr.displayName="SearchLocationPlaceholderText";var jr=e=>{const{headingText:t,hideHeading:a=!1,searchLocationLabel:l,stid:i="",values:o,onItemRemove:c,onClear:s,clearAllText:d}=e,u=(0,$.useLocalization)(),m=null!=d?d:u.formatText("typeahead.mulselect.clearAll"),p=null!=t?t:u.formatText("typeahead.multiselect.selectedItemHeading");return n.createElement("div",null,!a&&p&&(null==o?void 0:o.length)&&o.length>0&&n.createElement(r.b,{padding:{inlinestart:"four"}},n.createElement("div",null,n.createElement(A.c,{overflow:"truncate",size:300,weight:"bold"},p))),n.createElement(r.b,{padding:{blockstart:"three",inline:"four"}},n.createElement("div",{"data-stid":i},null==o?void 0:o.map(((e,t)=>n.createElement(r.b,{key:`${i}-pill-${t}`,margin:{block:"one"}},n.createElement(Y.a,{onClick:()=>((e,t)=>{(0,F.liveAnnounce)(u.formatText("typeahead.removeSelection",e)),null==c||c(t)})(e,t),id:`${i}-pill-${t}`},e)))),(null==o?void 0:o.length)&&n.createElement(H.E,{onClick:()=>{(0,F.liveAnnounce)(u.formatText("typeahead.clearAllSelections",l)),null==s||s()},size:k.E.SMALL},m))))};jr.displayName="SearchLocationSelections";var Kr=e=>{const{value:t,label:a,stid:l="",handleClear:i,onItemRemove:o,clearAllText:c,selectedItemHeading:s,handleClose:u,dismissButtonText:p,queryResults:y,lineOfBusiness:_,onClick:S,emptyPlaceholderText:E,searchLocationContent:g}=e,[h,v]=n.useState(y),[T,b]=n.useState([]),C={[d.OB.MEDIUM]:{minHeight:"458px",maxHeight:"458px"},[d.OB.LARGE]:{minHeight:"458px",maxHeight:"458px"}},I=(0,d.s5)(C),{context:A}=(0,m.R)(),{locale:k}=A;n.useEffect((()=>{if(t){const e=y.flatMap((e=>e.items)).filter((e=>t.some((t=>e.locationFullName===t))));b((t=>{const a=e.filter((e=>!(null==t?void 0:t.some((t=>t.locationFullName===e.locationFullName)))));return[...t,...a]}));const a=y.map((e=>ge(Ee({},e),{items:e.items.filter((e=>!t.some((t=>e.locationFullName===t))))})));v(a)}}),[t,y]);const G=(e,t)=>{var n,l;const r=(null==t?void 0:t.locationFullName)||(null==t?void 0:t.primaryText)||e;S(r,t),t&&b((e=>[...e,t]));const i=h.map((e=>ge(Ee({},e),{items:e.items.filter((e=>e.locationFullName!==r))}))).filter((e=>e.items.length>0));v(i);const o=i.reduce(((e,t)=>e+t.items.length),0),c=[a,o.toString(),r],s=(null==g?void 0:g.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===g.itemSelectedAccessibility.__typename?`${we(g.itemSelectedAccessibility.template,(null==(n=g.itemSelectedAccessibility.models)?void 0:n[0].key)||"",r)} `:"",d=(null==(l=null==g?void 0:g.multiSelection)?void 0:l.showingResults)?He({textFragment:g.multiSelection.showingResults,values:c,count:o,locale:k}):"";(0,F.liveAnnounce)(`${s} ${d}`)};return n.createElement(n.Fragment,null,n.createElement(q.E,{direction:"vertical",tabbable:!1},n.createElement(D.d,{style:Ee({},I)},n.createElement(r.b,{padding:{blockstart:"one",blockend:"sixteen"}},n.createElement("div",null,t&&t.length>0&&n.createElement(jr,{searchLocationLabel:a,values:t,stid:l,clearAllText:c,onClear:()=>{v(y),null==i||i()},onItemRemove:e=>{T[e]&&(b((t=>{const a=t.filter(((t,a)=>a!==e)),n=y.map((e=>ge(Ee({},e),{items:e.items.filter((e=>!a.some((t=>t.locationFullName===e.locationFullName))))})));return v(n),a})),null==o||o(e))},headingText:s}),h.length>0?h.map(((e,t)=>n.createElement(Yr,{stid:l,key:t,lob:_,data:e,onClick:G,isDestination:!0,hideTitle:e.items.length<=0}))):n.createElement(qr,null,E))))),n.createElement(D.d,{style:{zIndex:1,minHeight:"60px"}},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(Q.E,{type:Q.a.BUTTON},n.createElement(J.E,{disabled:0===(null==t?void 0:t.length),onClick:u,isFullWidth:!0},p))),n.createElement(d.zQ,null,n.createElement(r.b,{padding:"three",style:{borderTop:"1px solid #cccfdb"}},n.createElement(f.i,{justifyContent:"end"},n.createElement(f.j,null,n.createElement(O.E,{disabled:0===(null==t?void 0:t.length),onClick:u},p))))))))};Kr.displayName="SearchLocationMultiItem";var Jr=()=>n.createElement(r.b,{margin:{block:"eight"}},n.createElement(T.b,{animation:!0,type:"primary"})),Qr=()=>n.createElement(n.Fragment,null,Array.from({length:3}).map(((e,t)=>n.createElement(Jr,{key:t}))));Qr.displayName="SearchLocationResultsLoading";var Xr=(e=>(e.GAI="GAIA",e.LCM="LCM",e.GPA="GOOGLE",e.UNKNOWN="UNKNOWN",e))(Xr||{}),Zr=(e=>(e.ALTERNATE="Alternate",e.CURRENTLOCATION="CurrentLocation",e.POPULAR="Popular",e.GOOGLEMAPS="Google",e.NORMAL="Normal",e.USERHISTORY="RecentHistory",e))(Zr||{}),ei=["POPULAR","ALTERNATE"],ti="SearchLocation",ai={ALTERNATE:"People also searched",POPULAR:"Popular destinations"},ni=e=>e.map((e=>{var t,a,n,l,r;return{destination_geo_id:e.regionId,destination_geo_system:null==(t=e.analyticsInfo)?void 0:t.sourceName,destination_type:ri(null!=(a=e.geoType)?a:""),reason:(null==(l=null==(n=e.analyticsInfo)?void 0:n.relation)?void 0:l.length)?null==(r=e.analyticsInfo)?void 0:r.relation[0]:null}})),li=(e,t)=>{var a;return{recommendation_id:"Image"===(null==(a=e.graphic)?void 0:a.__typename)&&e.graphic.url?`${e.regionId}.image`:e.regionId,recommendation_position:t.toString(),presentation_details_recommendation_name:e.primaryText}},ri=e=>({MULTICITY:"MULTI_CITY",MULTIREGION:"REGION",METROCODE:"REGION",TRAINSTATION:"TRAIN_STATION",METROSTATION:"METRO_STATION",BUSSTATION:"METRO_STATION",PREMISE:"LANDMARK",POI:"LANDMARK",ADDRESS:"LANDMARK",LISTING:"HOTEL"}[e]||e),ii=(e,t)=>t.findIndex((t=>t.regionId===e.regionId))+1;function oi(e,t,a){var n=(a||{}).atBegin;return function(e,t,a){var n,l=a||{},r=l.noTrailing,i=void 0!==r&&r,o=l.noLeading,c=void 0!==o&&o,s=l.debounceMode,d=void 0===s?void 0:s,u=!1,m=0;function p(){n&&clearTimeout(n)}function y(){for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];var o=this,s=Date.now()-m;function y(){m=Date.now(),t.apply(o,l)}function _(){n=void 0}u||(c||!d||n||y(),p(),void 0===d&&s>e?c?(m=Date.now(),i||(n=setTimeout(d?_:y,e))):y():!0!==i&&(n=setTimeout(d?_:y,void 0===d?e-s:e)))}return y.cancel=function(e){var t=(e||{}).upcomingOnly,a=void 0!==t&&t;p(),u=!a},y}(e,t,{debounceMode:!1!==(void 0!==n&&n)})}var ci="search-location-input-field",si=u.J1`
  query SearchLocationSuggestions($context: ContextInput!, $searchLocationCriteria: SearchLocationCriteriaInput!) {
    searchLocation(context: $context, searchLocationCriteria: $searchLocationCriteria) {
      __typename
      analyticsInfo {
        recommendationId
        resultId
      }
      ...SearchLocationQueryAttributionFragment
      itemsGroups {
        ...SearchLocationGroupFragment
      }
    }
  }
  ${Fr.fragment}
  ${Yr.fragment}
`,di=1,ui={__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null},mi=(0,n.forwardRef)(((e,t)=>{var a,l;const{debounceRate:i,initialSearchTerm:o,label:s,value:u,onClose:p,placeholder:y,handleClear:_,onInputChange:S,stid:g,isMulti:h,required:v,onResultItemSelect:f,emptyResultPlaceholder:T,lineOfBusiness:b,subLob:C,onItemRemove:I,searchLocationAnalytics:A,isDestination:O=!0,dismissButtonText:k,clearAllText:R,selectedItemHeading:L,regionType:P,lastSearchLatLong:M,pageLocation:N,searchLocationContent:x}=e,B=n.useRef(null),$="string"==typeof u?u:"",[W,w]=n.useState(o||$||""),[U,H]=n.useState(M),{context:V}=(0,m.R)(),{locale:z}=V,[Y,j]=n.useState([]),[K,J]=n.useState([]),[Q,X]=n.useState(""),Z=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL?g&&`${g}-dialog-input`:g&&`${g}-menu-input`,[ee,te]=n.useState({query:o||$||"",backspaceCount:0}),ae=(e=>{const t=(0,E.iQ)(),{serverPayloads:a,inputName:l,lineOfBusiness:r,subLob:i,isDestination:o}=e,{open:c,close:s,itemSelected:d,recommendationsPresented:u,recommendationSelected:m}=null!=a?a:{},p=o?"Destination":"Origin",y=((e,t)=>{const a={flights:{oneway:"OW",multicity:"MD",default:"RT"},packages:{fhc:"FHC",hc:"HC",fc:"FC",default:"FH"}};if(e){const n=e.toLowerCase();if(a[n])return`${e}.${a[n][null==t?void 0:t.toLowerCase()]||a[n].default}`}return e||""})(r,i),[_,S]=n.useState(),[g,h]=n.useState();return{trackSearchLocationOpen:(e,a)=>{S(a),h(performance.now()),t({serverPayload:c,clientPayload:{event:{event_name:"search_location.opened",event_type:"Interaction",event_version:"1.0.0",event_category:ti,action_location:l},search_request:{search_query:e||""},typeahead:{search_field:p,line_of_business:y}}})},trackSearchLocationClose:(e,a,n,r)=>{const i=g?performance.now()-g:null;h(void 0);const o={event:{event_name:"search_location.closed",event_type:"Interaction",event_version:"1.0.0",event_category:ti,action_location:l},search_request:{search_query:e===_?"":e},typeahead:{search_field:p,backspaces_count:r,suggestion_list:a.length?ni(a):[],line_of_business:y,typeahead_selection_bool:n,focus_to_blur_time:null==i?void 0:i.toString(),characters_typed_count:e.length}};t({serverPayload:s,clientPayload:o})},trackSearchLocationSelect:(e,a,n,r,i)=>{var o,c,s,u,m;const S={event:{event_name:"search_location.selected",event_type:"Interaction",event_version:"1.0.0",event_category:ti,action_location:l},search_request:{search_query:e===_?"":e,search_id:r},destination:{destination_full_name:a.primaryText,destination_geo_id:a.regionId,destination_geo_system:Xr[null!=(c=null==(o=a.analyticsInfo)?void 0:o.sourceName)?c:""]||(null==(s=a.analyticsInfo)?void 0:s.sourceName)||"UNKNOWN",destination_type:a.geoType},typeahead:{search_field:p,backspaces_count:i,selection_depth:ii(a,n),suggestion_count:n.length,suggestion_type:Zr[null!=(m=null==(u=n[0].analyticsInfo)?void 0:u.category)?m:""]||"Normal",suggestion_list:ni(n),line_of_business:y}};t({serverPayload:d,clientPayload:S})},trackSearchLocationRemoveRecentSearch:(e,a)=>{var n,r,i;const o={event:{event_name:"search_location_recent_search.removed",event_type:"Interaction",event_version:"1.0.0",event_category:ti,action_location:l},destination:{destination_full_name:e.primaryText,destination_geo_id:e.regionId,destination_geo_system:Xr[null!=(r=null==(n=e.analyticsInfo)?void 0:n.sourceName)?r:""]||(null==(i=e.analyticsInfo)?void 0:i.sourceName)||"UNKNOWN"},typeahead:{suggestion_type:"RecentHistory",line_of_business:y,suggestion_count:a.length,selection_depth:ii(e,a)}};t({clientPayload:o})},trackSearchLocationRecommendationPresented:(e,a)=>{var n;const r=e.filter((e=>{var t,a;return ei.includes(null!=(a=null==(t=e.analyticsInfo)?void 0:t.category)?a:"")}));if((null==r?void 0:r.length)>0){const e=[];let i=0;r.forEach((t=>{e.push(li(t,i)),i+=1})),e.push();const o={event:{event_name:"recommendations_module.presented",event_type:"Impression",event_version:"2.1.0",event_category:ti,action_location:l},recommendation_module:{recommendation_title:ai[null==(n=r[0].analyticsInfo)?void 0:n.category],eg_recommendation_response_id:a,recommendations:e}};t({serverPayload:u,clientPayload:o})}},trackSearchLocationRecommendationSelected:(e,a,n)=>{var r,i,o;if(ei.includes(null!=(i=null==(r=e.analyticsInfo)?void 0:r.category)?i:"")){const r=ii(e,a),i=r?r-1:-1,c={event:{event_name:"recommendations_module.selected",event_type:"Interaction",event_version:"2.1.0",event_category:ti,action_location:l},recommendation_module:{recommendation_title:ai[null==(o=e.analyticsInfo)?void 0:o.category],eg_recommendation_response_id:n,recommendations:[li(e,i)]}};t({serverPayload:m,clientPayload:c})}}}})({serverPayloads:A,inputName:Z,lineOfBusiness:b,subLob:C,isDestination:O}),le=n.useRef(null);n.useEffect((()=>{null==ae||ae.trackSearchLocationOpen(W,$)}),[]),(0,n.useImperativeHandle)(t,(()=>({dismissFunction(e){null==ae||ae.trackSearchLocationClose(ee.query,K,e,ee.backspaceCount)}})));const[re,{loading:ie,data:oe}]=(0,G._)(si,{onCompleted:e=>{var t,a,n,l,r;const i=(null==(t=e.searchLocation)?void 0:t.itemsGroups)||[];var o,c;j(i),o=i,c=W,le.current&&clearTimeout(le.current),(null==o?void 0:o.length)>0&&(le.current=window.setTimeout((()=>{const e=null==c?void 0:c.split(""),t=document.activeElement===B.current;if(e&&o&&t){const t=`'${e.join("' , '")} '`,a=o.reduce(((e,t)=>e+t.items.length),0),n=He({textFragment:null==x?void 0:x.resultsAvailableAccessibility,values:[t,a.toString()],count:a,locale:z});(0,F.liveAnnounce)(n)}}),1e3));const s=(e=>e.flatMap((e=>(e.items||[]).flatMap((e=>{var t;const a=null!=(t=e.item)?t:e;return[ge(Ee({},a),{uniqueId:Ir(a)}),...(e.subItems||[]).map((e=>ge(Ee({},e),{uniqueId:Ir(e)})))]})))))(i);J(s),null!==(null==(n=null==(a=oe.searchLocation)?void 0:a.analyticsInfo)?void 0:n.recommendationId)&&(null==ae||ae.trackSearchLocationRecommendationPresented(s,null==(r=null==(l=oe.searchLocation)?void 0:l.analyticsInfo)?void 0:r.recommendationId))}}),ce=(e,t)=>{0===e.length&&j([]);const a=performance.now(),n=Ee({searchTerm:e,lineOfBusiness:null!=b?b:"",isDestination:O,isGroundTransfersAirport:"GROUNDTRANSFERS"===b&&P===di,pageLocation:N},t?{lastSearchLatLong:t}:{});re({variables:{context:V,searchLocationCriteria:n},fetchPolicy:""===e?"no-cache":void 0}).then((()=>{const t=performance.now()-a,n=!!e,l=n?e.length:0,r=Ee({duration:t},n&&{termLength:l});if(window.DD_RUM){const e="LOCATION_SEARCH_BFF_REQUEST_"+(n?"WITH_SEARCH_TERM":"WITHOUT_SEARCH_TERM");window.DD_RUM.addAction(e,r)}}))},se=n.useMemo((()=>i&&i>0?oi(i,((e,t)=>ce(e,t))):(e,t)=>ce(e,t)),[i]),de=(e,t,a,n)=>{var l,r,i,o,c,s,d;const u=t?t.locationFullName||t.primaryText:e;if(f(u,{term:u,item:null!=t?t:ui,dateRange:a,travelers:n,lineOfBusiness:null!=b?b:void 0}),t&&(null==ae||ae.trackSearchLocationSelect(ee.query,t,K,null==(r=null==(l=null==oe?void 0:oe.searchLocation)?void 0:l.analyticsInfo)?void 0:r.resultId,ee.backspaceCount),null==ae||ae.trackSearchLocationRecommendationSelected(t,K,null==(o=null==(i=null==oe?void 0:oe.searchLocation)?void 0:i.analyticsInfo)?void 0:o.recommendationId)),!h){const e=(null==x?void 0:x.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===x.itemSelectedAccessibility.__typename?`${we(x.itemSelectedAccessibility.template,(null==(c=x.itemSelectedAccessibility.models)?void 0:c[0].key)||"",u)} `:"";(0,F.liveAnnounce)(`${e} ${null!=(d=null==(s=null==x?void 0:x.close)?void 0:s.accessibility)?d:""}`),w(u)}},ue=(e,t)=>{J((e=>e.filter((e=>e.regionId!==t.regionId)))),null==I||I(t.regionId)},me=e=>{null==ae||ae.trackSearchLocationRemoveRecentSearch(e,K)};n.useEffect((()=>{requestAnimationFrame((()=>{var e;null==(e=B.current)||e.select()})),se(W||"",U)}),[]);const pe="drop_off_location"===g?y:s,ye={"data-stid":Z,domRef:B,hasClearButton:W.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:g,label:s,"aria-label":s,onChange:e=>{const t=e.target.value;void 0!==U&&H(void 0),w(t),se(t),te((e=>ge(Ee({},e),{query:t}))),null==S||S(t)},onKeyDown:e=>{const t=K.findIndex((e=>e.uniqueId===Q));switch(e.key){case"ArrowDown":{e.preventDefault();const a=t===K.length-1?0:t+1;X(K[a].uniqueId);break}case"ArrowUp":{e.preventDefault();const a=0===t||-1===t?K.length-1:t-1;X(K[a].uniqueId);break}case"Enter":if(e.preventDefault(),h)break;if(Q){const e=K.find((e=>e.uniqueId===Q));e&&de(e.locationFullName||e.primaryText,e)}else de(W,void 0);break;case"Escape":null==p||p();break;case"Backspace":te((e=>ge(Ee({},e),{backspaceCount:e.backspaceCount+1})))}},placeholder:pe,value:W,handleClear:_,required:v,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",type:"text",spellCheck:!1,clearButtonLabel:null!=(l=null==(a=null==x?void 0:x.clearInput)?void 0:a.accessibility)?l:""},_e=K.length>0?Y.map(((e,t)=>n.createElement(Yr,{stid:g,key:t,lob:b,activeItemId:Q,data:e,onClick:de,onRemoveRecentSearch:ue,onRemoveRecentSearchTracking:me,isDestination:O}))):n.createElement(qr,null,T);return n.createElement(n.Fragment,null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(c.b,{navigationContent:{navIconLabel:"Close the dialog",onClick:()=>{null==p||p()},navButtonId:`${g}-close`}},n.createElement("div",{id:ci},n.createElement(ne.K,Ee({},ye))))),n.createElement(d.zQ,null,n.createElement(D.d,{type:"sticky",position:{top:"zero",zindex:"layer1"}},n.createElement("div",{id:ci},n.createElement(ne.K,Ee({},ye)))))),h&&!ie?n.createElement(Kr,{value:u,label:s,stid:g,clearAllText:R,handleClear:_,handleClose:p,dismissButtonText:k,onItemRemove:I,selectedItemHeading:L,queryResults:Y,onClick:de,emptyPlaceholderText:T,lineOfBusiness:b||"CRUISES",searchLocationContent:x}):n.createElement(q.E,{direction:"vertical",tabbable:!1},n.createElement(D.d,{style:{minHeight:"438px",maxHeight:K.length>8?"438px":void 0}},n.createElement(n.Fragment,null,ie?n.createElement(r.b,{padding:{inlinestart:"six"}},n.createElement("div",null,n.createElement(Qr,null))):_e,(null==oe?void 0:oe.searchLocation)&&n.createElement(Fr,{data:oe.searchLocation,searchLocationContent:x})))))}));mi.displayName="SearchLocationResultsQuery";var pi=n.forwardRef(((e,t)=>{const{a11yLabel:a,a11yResultsAvailableSuffix:l,searchTerm:r,isExpanded:i,label:o,icon:c,invalid:s,stid:u,onClick:m,placeholder:p,value:y,required:_,isMulti:S,name:E,index:g}=e,[h,v]=n.useState(!1);n.useEffect((()=>{v(!0)}),[]);const D={label:o,icon:c,placeholder:"drop_off_location"===u?p:"",required:_,"aria-label":`${a} ${r}${r?`. ${l}`:""}`.trim(),"aria-describedby":s&&u?`${u}-input-error`:void 0,"data-stid":`${u}-menu-trigger`,onClick:()=>{null==m||m()},value:S?y.join(", "):y,invalid:s},f={[d.OB.SMALL]:{"data-stid":`${u}-dialog-trigger`},[d.OB.LARGE]:{"aria-expanded":i}},T=(0,d.s5)(f);return n.createElement(n.Fragment,null,h&&n.createElement(Z.g,Ee(ge(Ee({},D),{domRef:t}),T)),n.createElement("div",{className:h?"is-hidden":void 0},n.createElement(Z.b,ge(Ee({},D),{id:void 0!==g?`${E}-input-${g}`:`${E}-input`,"data-stid":void 0,name:E,domRef:t}))))}));pi.displayName="SearchLocationTrigger";var yi=u.J1`
  fragment SearchLocationFragment on SearchLocation {
    __typename
    analytics {
      open
      close
      itemSelected
      recommendationsPresented
      recommendationSelected
    }
    content {
      clearInput {
        accessibility
      }
      close {
        accessibility
      }
      poweredByGoogleLogoAltText
      resultsAvailableAccessibility {
        ...EGDSLocalizedTextFragment
      }
      multiSelection {
        showingResults {
          ...EGDSLocalizedTextFragment
        }
      }
      itemSelectedAccessibility {
        ...EGDSBasicLocalizedTextFragment
      }
    }
  }

  ${Rn}
`,_i=e=>{var t,a,l;const{accessibilityLabel:r,label:i,searchLocationPlaceholder:o,searchLocationEmptyResultPlaceholder:c,dismissButtonText:s,isMulti:u,onResultSelection:m,onUpdate:p,handleClear:y,value:_,id:S,stid:E,onMountCB:g,onClick:h,onDismiss:v,onType:f,resultItemImpressionTracker:T,required:b,lineOfBusiness:C,subLob:I,searchLocationAnalytics:A,isDestination:O,debounceRate:k,onItemRemove:G,regionType:R,lastSearchLatLong:L,pageLocation:P,searchLocationContent:M}=e,N=Qe(`search-location-dialog-${S}`),[x,B,$]=(0,w.useDialog)(N),[W,U]=n.useState("string"==typeof _?_:""),H=n.useRef(null),z=n.useRef(null),Y=e=>{z.current&&z.current.dismissFunction(e)},q=e=>{null==f||f(e),U(e)},j=e=>{var t,a,n,l;setTimeout((()=>{var e;return null==(e=H.current)?void 0:e.focus()})),q(""),Y(!!e),B.closeDialog();const r=e&&(null==M?void 0:M.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===M.itemSelectedAccessibility.__typename?`${we(M.itemSelectedAccessibility.template,(null==(a=null==(t=M.itemSelectedAccessibility.models)?void 0:t[0])?void 0:a.key)||"",e)} `:"";(0,F.liveAnnounce)(`${r} ${null!=(l=null==(n=null==M?void 0:M.close)?void 0:n.accessibility)?l:""}`),null==v||v()},K=ge(Ee({},e),{label:i,onClick:()=>{setTimeout((()=>{B.openDialog({closeAllDialogs:!0}),null==h||h()}))},value:_,isMulti:!!u,a11yLabel:i,a11yResultsAvailableSuffix:r,searchTerm:W,isExpanded:x,placeholder:o});n.useEffect((()=>{null==g||g(H)}),[]),n.useEffect((()=>{U("string"==typeof _?_:"")}),[_]);const J=n.createElement(pi,ge(Ee({},K),{ref:H})),Q={debounceRate:k,label:i,dismissButtonText:s,isMulti:u,handleClear:y,value:_,required:b,lineOfBusiness:C,subLob:I,stid:E,onItemRemove:G,onResultItemSelect:(e,t)=>{if(null==p||p({selectionData:t}),m){const a=document.createElement("input");setTimeout((()=>{var n,l,r,i;a.value=null!=(l=null==(n=t.item)?void 0:n.primaryText)?l:e,a.setAttribute("id",null!=(i=null==(r=t.item)?void 0:r.propertyId)?i:S||"");const o=new CustomEvent("change");a.addEventListener("change",(e=>{m(e)})),a.dispatchEvent(o)}))}u||(B.closeDialog(),null==v||v(),Y(!0))},placeholder:o,emptyResultPlaceholder:c,onClearAll:y,initialSearchTerm:W,onClose:j,onInputChange:q,searchLocationAnalytics:A,searchLocationContent:M,isDestination:O,regionType:R,lastSearchLatLong:L,pageLocation:P},X=n.createElement(mi,ge(Ee({},Q),{ref:z})),Z=n.useMemo((()=>({impressionWrapper:T})),[T]);return n.createElement(Cr.Provider,{value:Z},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,J,n.createElement($,null,n.createElement(V.h,{isVisible:x},n.createElement(V.e,{isVisible:x,type:"full",triggerRef:H},X))))),n.createElement(d.rw,null,n.createElement("div",null,J,n.createElement($,null,n.createElement(V.h,{isVisible:x},n.createElement(V.e,{isVisible:x,type:"centered",triggerRef:H,centeredSheetSize:"medium"},n.createElement(V.f,{padded:!1},X)))))),n.createElement(d.zQ,null,n.createElement(D.d,{type:"relative"},n.createElement("div",null,J,n.createElement(V.h,{isVisible:x},n.createElement(V.e,{isVisible:x,showOverTrigger:!0,disableArrowKeyHandler:!0,type:"popover",triggerRef:H,width:(null==(t=H.current)?void 0:t.offsetWidth)&&(null==(a=H.current)?void 0:a.offsetWidth)>375?null==(l=H.current)?void 0:l.offsetWidth:375,onDismiss:()=>{null==j||j()},autoPosition:!1},n.createElement(V.f,{padded:!1},X))))))))};_i.displayName="SearchLocation";var Si="EGDSSearchFormLocationField",Ei=`${Si}-Location`,gi=`${Si}-RegionId`,hi=`${Si}-AirportCode`,vi=`${Si}-Lat`,Di=`${Si}-Long`,fi=`${Si}-Selected`,Ti=`${Si}-AmenitiesFacilitiesGroup`,bi=`${Si}-LocGroup`,Ci=`${Si}-PropertiesGoodForGroup`,Ii=`${Si}-PropertyTypeGroup`,Ai=`${Si}-DestinationId`,Fi=`${Si}-PropertyId`,Oi=e=>{var t,a,l,r,o,c,s,d,u,y,_,S,g;const{egdsElementId:h,label:v,placeholder:D,icon:f,value:T,accessibility:b,errorText:C,required:I,emptyResultsPlaceholder:A,setFieldRefByTypename:F,__typename:O,analyticsReferrerId:k,categorize:G,allowExactMatch:R,listTitle:L,handleResultSelection:P,onSelection:M,selection:N,index:x,regionId:$,skipQuery:w,valueFromQueryParam:U,pinnedPropertyId:H,alternativeLocationLabel:V,propertyRefinements:z,isDestination:Y,skipReflection:q,onOpenLocationField:j,debounceRate:K=200,onDismissLocation:J,searchLocationAnalytics:Q,onType:X,onClearLocation:Z,lineOfBusiness:ee,subLob:te,regionType:ae,coordinates:ne,airportCode:le,lastSearchLatLong:re,pageLocation:ie,searchLocationContent:oe}=e,{state:ce,dispatch:se}=(0,i.kW)(),{destination:de,origin:ue}=ce,{context:me}=(0,m.R)(),{siteId:pe}=me,ye=(0,p.useLoggerEvents)(br),[_e,Se]=(null==re?void 0:re.split(","))||["",""],he=n.useMemo((()=>{var e,t;return!q&&Y&&de?de:q||Y||!ue?{term:T,data:{__typename:"SearchLocationBasicItem",airportCode:null!=le?le:"",coordinates:{latitude:null!=(e=null==ne?void 0:ne.latitude)?e:parseFloat(_e),longitude:null!=(t=null==ne?void 0:ne.longitude)?t:parseFloat(Se),__typename:"Coordinates"},geoType:null,graphic:null,locationFullName:T,itemAccessibilityText:`Select ${T}`,primaryText:T,propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:$}}:ue}),[T,$,H,Y]),[ve,De]=n.useState(),[fe,Te]=n.useState(he),[be,Ce]=n.useState(fe.term&&V?V:v);n.useEffect((()=>{const e=parseFloat(_e),t=parseFloat(Se),a=Number.isNaN(e)?null==ne?void 0:ne.latitude:e,n=Number.isNaN(t)?null==ne?void 0:ne.longitude:t;a&&n&&De({latitude:a,longitude:n})}),[_e,Se,ne]),n.useEffect((()=>{null==he.term||w||Te(he)}),[he,w]),n.useEffect((()=>{q||Y||!ue||Te(ue),!q&&Y&&de&&Te(de)}),[q,ue,de]);const Ie=n.useCallback((e=>F(O,e)),[F,O]);n.useEffect((()=>{void 0!==(null==N?void 0:N.term)&&N.term!==fe.term&&Te(N),U&&U!==fe.term&&(Te((e=>ge(Ee({},e),{term:U}))),M&&M({data:fe.data,term:U}))}),[N,U]);const Ae=null==(t=fe.data)?void 0:t.regionId,Fe=null!=(l=null==(a=fe.data)?void 0:a.airportCode)?l:"",Oe=fe!==he||ue||de?"":H,ke=(null==(r=fe.data)?void 0:r.propertyId)||null,Ge=n.useCallback((e=>{const{locationValue:t}=e.payload;if(!Y||"string"!=typeof t)return;const a={term:t,data:ui};Te((e=>{var t;return(null==(t=e.data)?void 0:t.locationFullName)===a.term?e:a}))}),[Y]);(0,B._H)("SEARCH_FORM_LOCATION_FIELD_UPDATE",W.tk,{onSuccess:Ge,onError:e=>{console.error("Error receiving SEARCH_FORM_LOCATION_FIELD_UPDATE signal:",e)}});const Re=`${h}${Number.isInteger(x)?`-${x}`:""}`,Le=(null==(o=fe.data)?void 0:o.locationFullName)&&!U?fe.data.locationFullName:fe.term,Pe=fe.data&&Ae||"",Me=fe.data&&Ae||"",Ne={onType:X,index:null!=x?x:void 0,id:`${h}${null!=x?x:""}`,name:h,label:be,searchLocationPlaceholder:D,icon:f,value:Le,onUpdate:e=>{var t,a,n,l;const r=null!=(t=e.selectionData.term)?t:"";if(Te({term:e.selectionData.term,data:null!=(a=e.selectionData.item)?a:he.data}),Ce(r&&V?V:v),M&&M({term:e.selectionData.term,data:ge(Ee({},e.selectionData.item),{dateRange:e.selectionData.dateRange,travelers:e.selectionData.travelers,lineOfBusiness:e.selectionData.lineOfBusiness})}),r||null==Z||Z(),!q&&(se({type:Y?"UPDATE_DESTINATION":"UPDATE_ORIGIN",location:{term:e.selectionData.term,data:e.selectionData.item}}),e.selectionData.dateRange||e.selectionData.travelers)){let t;e.selectionData.travelers&&"rooms"in e.selectionData.travelers?t={rooms:e.selectionData.travelers.rooms.map((e=>({adults:e.adults,childrenAges:e.childrenAges,pets:e.pets})))}:e.selectionData.travelers&&(t={adults:e.selectionData.travelers.adults,childrenAges:e.selectionData.travelers.childrenAges,pets:e.selectionData.travelers.pets}),se({type:"UPDATE_DATES_AND_TRAVELERS",travelers:{locationFullName:e.selectionData.term,dateRange:null!=(n=e.selectionData.dateRange)?n:void 0,travelers:t,lob:null!=(l=e.selectionData.lineOfBusiness)?l:void 0}})}},handleClear:()=>{M&&M({term:"",data:ui}),Te({term:"",data:ui}),Ce(v),null==Z||Z()},stid:h,accessibilityLabel:b,onClick:()=>{j&&j({isDestination:Y,lineOfBusiness:null!=ee?ee:"",subLineOfBusiness:null!=te?te:""})},onMountCB:Ie,invalid:C,required:I,searchLocationEmptyResultPlaceholder:A,onResultSelection:P,categorize:G,allowExactMatch:R,listTitle:L,onDismiss:()=>{J&&J(fe)},debounceRate:K,resultItemImpressionTracker:n.memo((({children:e,linkNameSuffix:t,referrerIdSuffix:a})=>n.createElement(E.ee,{linkName:`Location result impression - ${t}`,referrerId:`${k}.${a}`},e))),resultsRequestDurationTimeCallback:(e,t)=>{ye.SEARCH_LOCATION_TYPEAHEAD_DURATION.log(((e={})=>JSON.stringify(e).replaceAll(":","=").replaceAll('"',""))({withSearchTerm:t,siteId:pe,duration:e.toFixed(0),lob:ee}))},lineOfBusiness:ee,subLob:te,searchLocationAnalytics:Q,searchLocationContent:oe,isDestination:Y,regionType:ae,lastSearchLatLong:ve,pageLocation:ie};return n.createElement(n.Fragment,null,n.createElement("div",{"data-stid":"search-location"},n.createElement(_i,Ee({},Ne))),n.createElement("input",{type:"hidden","data-stid":Ei,name:`${Ei}-${Re}`,value:Le}),Pe&&n.createElement("input",{type:"hidden","data-stid":gi,name:`${gi}-${Re}`,value:Pe}),n.createElement("input",{type:"hidden","data-stid":hi,name:`${hi}-${Re}`,value:Fe}),n.createElement("input",{type:"hidden","data-stid":vi,name:`${vi}-${Re}`,value:(null==(s=null==(c=fe.data)?void 0:c.coordinates)?void 0:s.latitude)?null==(u=null==(d=fe.data)?void 0:d.coordinates)?void 0:u.latitude.toString():""}),n.createElement("input",{type:"hidden","data-stid":Di,name:`${Di}-${Re}`,value:(null==(_=null==(y=fe.data)?void 0:y.coordinates)?void 0:_.longitude)?null==(g=null==(S=fe.data)?void 0:S.coordinates)?void 0:g.longitude.toString():""}),ke&&n.createElement("input",{type:"hidden","data-stid":Fi,name:`${Fi}-${Re}`,value:ke}),n.createElement("input",{type:"hidden","data-stid":fi,name:`${fi}-${Re}`,value:null!=ke?ke:Oe}),(null==z?void 0:z.amenitiesFacilitiesGroup)&&n.createElement("input",{type:"hidden","data-stid":Ti,name:`${Ti}-${Re}`,value:null==z?void 0:z.amenitiesFacilitiesGroup}),(null==z?void 0:z.locationGroup)&&n.createElement("input",{type:"hidden","data-stid":bi,name:`${bi}-${Re}`,value:null==z?void 0:z.locationGroup}),(null==z?void 0:z.propertiesGoodForGroup)&&n.createElement("input",{type:"hidden","data-stid":Ci,name:`${Ci}-${Re}`,value:null==z?void 0:z.propertiesGoodForGroup}),(null==z?void 0:z.propertyTypeGroup)&&n.createElement("input",{type:"hidden","data-stid":Ii,name:`${Ii}-${Re}`,value:null==z?void 0:z.propertyTypeGroup}),Me&&n.createElement("input",{type:"hidden","data-stid":Ai,name:`${Ai}-${Re}`,value:Me}))},ki="EGDSSearchFormLocationField",Gi=`${ki}-Location`,Ri=`${ki}-RegionId`,Li=`${ki}-AirportCode`,Pi=`${ki}-Lat`,Mi=`${ki}-Long`,Ni=`${ki}-Values`,xi=e=>{const{egdsElementId:t,label:a,placeholder:l,icon:r,multiLocations:i,errorText:o,required:c,emptyResultsPlaceholder:s,setFieldRefByTypename:d,__typename:u,categorize:m,allowExactMatch:p,listTitle:y,selectedItemHeading:_,clearAllText:S,dismissButtonText:E,handleResultSelection:g,onMultiSelectItemRemove:h,onMultiSelectClearAll:v,searchLocationAnalytics:D,searchLocationContent:f,lineOfBusiness:T,subLob:b,debounceRate:C,pageLocation:I}=e,A=i.map((e=>{var t,a;return{term:e.text,data:{__typename:"SearchLocationBasicItem",airportCode:"",coordinates:null,geoType:null,graphic:null,locationFullName:null!=(t=e.value)?t:e.text,itemAccessibilityText:"",primaryText:null!=(a=e.value)?a:e.text,propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null}}})),[F,O]=n.useState(A),[k,G]=n.useState(!1);n.useEffect((()=>{k&&(G(!1),Xe(F.map((e=>e.term)).join(", "),g))}),[k,F,g]);const R=n.useCallback((e=>d(u,e)),[d,u]),L=F.map((e=>e.term)).join(","),P=F.map((e=>{var t;return null==(t=e.data)?void 0:t.regionId})).join(","),M=F.map((e=>{var t,a;return null==(a=null==(t=e.data)?void 0:t.coordinates)?void 0:a.latitude})).join(","),N=F.map((e=>{var t,a;return null==(a=null==(t=e.data)?void 0:t.coordinates)?void 0:a.longitude})).join(","),x=F.map((e=>{var t;return null==(t=e.data)?void 0:t.airportCode})).join(","),B=F.map((e=>{var t;return null==(t=e.data)?void 0:t.regionId})).join(","),$=a.concat(",").concat(L);return n.createElement(n.Fragment,null,n.createElement("div",{"data-stid":"search-location"},n.createElement(_i,{id:t,name:t,label:a,searchLocationPlaceholder:l,icon:r,value:F.map((e=>e.term)),onUpdate:e=>{!F.some((t=>t.data===e.selectionData.item&&t.term===e.selectionData.term))&&e.selectionData&&O((t=>[...t,{term:e.selectionData.term,data:e.selectionData.item}]))},stid:t,accessibilityLabel:$,onMountCB:R,invalid:o,required:c,searchLocationEmptyResultPlaceholder:s,handleClear:()=>{O([]),null==v||v(t)},onItemRemove:e=>{(null==F?void 0:F.length)>0&&(O((t=>t.filter(((t,a)=>a!==e)))),null==h||h(F[e],t))},onDismiss:()=>{G(!0)},categorize:m,allowExactMatch:p,listTitle:y,selectedItemHeading:_,clearAllText:S,dismissButtonText:E,isMulti:!0,searchLocationAnalytics:D,debounceRate:C,lineOfBusiness:T,subLob:b,pageLocation:I,searchLocationContent:f})),n.createElement("input",{type:"hidden","data-stid":Gi,name:`${Gi}-${t}`,value:L}),n.createElement("input",{type:"hidden","data-stid":Ri,name:`${Ri}-${t}`,value:P}),n.createElement("input",{type:"hidden","data-stid":Li,name:`${Li}-${t}`,value:x}),n.createElement("input",{type:"hidden","data-stid":Pi,name:`${Pi}-${t}`,value:M}),n.createElement("input",{type:"hidden","data-stid":Mi,name:`${Mi}-${t}`,value:N}),n.createElement("input",{type:"hidden","data-stid":Ni,name:`${Ni}-${t}`,value:B}))},Bi=u.J1`
  fragment EGDSSearchFormLocationFieldFragment on EGDSSearchFormLocationField {
    __typename
    egdsElementId
    label
    placeholder
    value
    errorMessage
    regionId
    regionType
    required
    leftIcon {
      title
    }
    action {
      ...OpenTypeaheadActionFragment
    }
    closeAnalytics {
      linkName
      referrerId
    }
    changeAnalytics {
      linkName
      referrerId
    }
    multiLocations {
      text
      value
    }
    validations {
      ... on EGDSInputValidation {
        errorMessage
        __typename
      }
    }
    debounceRate
    coordinates {
      latitude
      longitude
    }
    airportCode
  }

  fragment OpenTypeaheadActionFragment on OpenTypeaheadAction {
    accessibility
    analytics {
      linkName
      referrerId
    }
    info {
      ...TypeaheadInfoFragment
    }
    emptyResultsPlaceholder
    categorize
    allowExactMatch
    listTitle
    selectedItemHeading
    clearAllText
    dismissButtonText
  }

  fragment TypeaheadInfoFragment on TypeaheadInfo {
    client
    drivable
    isDestination
    lineOfBusiness
    maxNumberOfResults
    packageType
    personalize
    regionType
    typeaheadFeatures
    isMultiLocation
    domain
    regionId
    showCurrentLocation
    subLob
    expUserId
    trending
  }
`,$i="EGDSSearchFormLocationField",Wi=e=>{var t,a,l,r,i;const{fieldError:o,data:c,onMultiSelectItemRemove:s,onMultiSelectClearAll:d,locationsErrorText:u,lastSearchLatLong:m,pinnedPropertyId:p,alternativeLocationLabel:y,propertyRefinements:_,skipReflection:S,onLocationsSelection:E,onDismissLocation:g,pageLocation:h}=e,{__typename:v,label:D,action:f,placeholder:T,leftIcon:C,egdsElementId:I,value:A,errorMessage:F,multiLocations:O,closeAnalytics:k,changeAnalytics:G,regionId:R,debounceRate:L,validations:P,coordinates:M,airportCode:N}=c,x=(null==(t=null==o?void 0:o.validations)?void 0:t.sameLocationSelected)&&P&&"origin_select"===I?null==(a=P.find((e=>"EGDSSameValueInputValidation"===e.__typename)))?void 0:a.errorMessage:null,B=null!=(r=null!=(l=null!=x?x:u)?l:F)?r:"",$=(0,b.u)(I,(e=>e));if("OpenTypeaheadAction"!==(null==f?void 0:f.__typename))return null;const{analytics:W,accessibility:w,emptyResultsPlaceholder:U,allowExactMatch:H,categorize:V,listTitle:z,selectedItemHeading:Y,clearAllText:q,dismissButtonText:j}=f,{isDestination:K,lineOfBusiness:J,regionType:Q,isMultiLocation:X,subLob:Z}=f.info,ee=ge(Ee({},e),{egdsElementId:I,categorize:!!V,allowExactMatch:H,listTitle:z,handleResultSelection:$,label:null!=D?D:"",placeholder:null!=T?T:"",icon:null!=(i=null==C?void 0:C.title)?i:"place",accessibility:null!=w?w:"",errorText:o?B:"",required:!1,emptyResultsPlaceholder:null!=U?U:"",analyticsLinkName:W.linkName,analyticsReferrerId:W.referrerId,closeAnalyticsLinkName:null==k?void 0:k.linkName,closeAnalyticsReferrerId:null==k?void 0:k.referrerId,changeAnalyticsLinkName:null==G?void 0:G.linkName,changeAnalyticsReferrerId:null==G?void 0:G.referrerId,selectedItemHeading:null!=Y?Y:"",dismissButtonText:null!=j?j:"",__typename:v,regionId:R,isDestination:K,regionType:Q,debounceRate:null!=L?L:void 0,lineOfBusiness:J,subLob:Z,coordinates:M,airportCode:N,lastSearchLatLong:m,pageLocation:h});return X?n.createElement(xi,ge(Ee({},ee),{multiLocations:null!=O?O:[],clearAllText:null!=q?q:"",onMultiSelectItemRemove:s,onMultiSelectClearAll:d,onLocationsSelection:E})):n.createElement(Oi,ge(Ee({},ee),{value:null!=A?A:"",pinnedPropertyId:null!=p?p:"",alternativeLocationLabel:y,propertyRefinements:_,skipReflection:S,onDismissLocation:g}))};Wi.displayName=$i,Wi.fragment=ge(Ee({},Bi),{__typename:$i});var wi=u.J1`
  fragment EGDSSearchPlaybackFragment on EGDSSearchPlayback {
    primary {
      text
    }
    primaryTemplate {
      ... on EGDSBasicLocalizedText {
        text
      }
    }
    secondaries {
      ... on EGDSPlainText {
        text
        accessibility
      }
      ... on EGDSBasicLocalizedText {
        text
        template
        accessibilityTemplate
        models {
          key
          source
        }
        egdsElementId
      }
      ... on EGDSCardinalLocalizedText {
        text
        accessibilityText
        egdsElementId
        models {
          key
          source
        }
        templates {
          category
          template
        }
      }
    }
    showAction {
      ... on EGDSShowSearchFormAction {
        accessibility
        analytics {
          linkName
          referrerId
        }
        icon {
          id
          size
        }
        resource {
          value
        }
      }
    }
    closeButton {
      ...EGDSTertiaryButtonFragment
    }
  }

  ${tn.fragment}
`,Ui=({isSticky:e,children:t})=>e?n.createElement(he,null,t):n.createElement("div",null,t),Hi=({data:e,children:t,stickyPlayback:a,display:r,onDisplayToggle:i})=>{var o;const{primary:c,secondaries:s,showAction:d,closeButton:u}=e,m=(0,E.KY)();if("EGDSShowSearchFormAction"!==d.__typename||u&&"UITertiaryButton"!==u.__typename)return null;const{accessibility:p,analytics:y,icon:S}=d,g=_.E[null!=(o=S.size)?o:"SMALL"],h=[c.text,...s.map((e=>{var t;return"EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)?e.accessibilityTemplate:"EGDSCardinalLocalizedText"===(null==e?void 0:e.__typename)?e.accessibilityText:"EGDSPlainText"===(null==e?void 0:e.__typename)?null!=(t=e.accessibility)?t:e.text:""})),p].join(", ");return n.createElement(Ui,{isSticky:a},r&&n.createElement(l.i,{border:!0,padded:!0},n.createElement(v.E,{space:"three",columns:[(0,v.e)("0x","1fr"),"min-content"],alignItems:"center"},n.createElement(v.a,null,n.createElement("div",null,n.createElement(A.E,{size:6,tag:"h2",overflow:"truncate"},c.text),n.createElement(v.E,{columns:[(0,v.R)(s.length,"max-content")],space:"six"},s.map(((e,t)=>e&&"EGDSBasicLocalizedText"===e.__typename||e&&"EGDSCardinalLocalizedText"===e.__typename?n.createElement(v.a,{key:`secondary-${t}`},n.createElement(A.c,{size:200,overflow:"truncate"},n.createElement("span",{"aria-hidden":"true"},e.text))):n.createElement(v.a,{key:`secondary-${t}`},n.createElement(A.c,{size:200,overflow:"truncate"},e&&"EGDSPlainText"===e.__typename?e.text:""))))))),n.createElement(v.a,null,n.createElement(_.a,{id:S.id,name:S.id,size:g}))),n.createElement(l.q,null,n.createElement("button",{type:"button",onClick:()=>{i(!1),m(y.referrerId,y.linkName)},"aria-label":h}))),n.createElement(f.i,{style:{display:r?"none":""},space:"three",direction:"column",className:r?"is-visually-hidden is-hidden":""},t,!r&&u&&n.createElement(tn,{onClick:()=>{i(!0);const e=null==u?void 0:u.analytics;if(e){const{referrerId:t,linkName:a}=e;m(t,a)}},isFullWidth:!0,size:k.E.MEDIUM,data:u})))};Hi.fragment=wi,Hi.displayName="EGDSSearchPlayback";var Vi=(e=>(e.AIRPORT="airport_location",e.HOTEL="hotel_location",e.SINGLE_DATE_PICKER_START_DATE="EGDSSingleDatePicker-StartDate",e.DATE_RANGE_PICKER="EGDSDateRangePicker",e.BASIC_TRAVELER_SELECTOR="EGDSBasicTravelerSelector",e))(Vi||{}),zi=({day:e,month:t,year:a})=>`${a}-${t<10?`0${t}`:t}-${e<10?`0${e}`:e}`,Yi=({hour:e,minute:t})=>`${e<10?"0":""}${e}:${t<10?"0":""}${t}`,qi=e=>{var t;if(!e)return{};let a,n;const l=e[0];return"AIRPORT"===(null==(t=null==l?void 0:l.destination)?void 0:t.type)?(n=null==l?void 0:l.destination,a=null==l?void 0:l.origin):(n=null==l?void 0:l.origin,a=null==l?void 0:l.destination),{airport:n,hotel:a}},ji="hotel_location",Ki="airport_location",Ji=(e,t,a,n,l,r)=>{var i,o,c;const s=[...e];return s[t]=ge(Ee({},null!=(i=s[t])?i:{}),{[a]:ge(Ee({},null!=(c=null==(o=s[t])?void 0:o[a])?c:{}),{[n]:l,type:r})}),s},Qi=(e,{name:t,value:a})=>{var n;const{primarySearchCriteria:l,secondaryCriteria:r}=e,i=null!=(n=l.groundTransportation)?n:{dateRange:{},locations:[{type:"AIRPORT"},{type:"PROPERTY"}],direction:"FROM_AIRPORT",travelerDetails:[],journeyCriteria:[]};if(t.startsWith(hi)&&t.includes(Ki)){const t=((e,t)=>{var a,n;const l=[...null!=(a=null==e?void 0:e.locations)?a:[]];l[0]=ge(Ee({},l[0]),{id:t});let r=[...null!=(n=null==e?void 0:e.journeyCriteria)?n:[]];const i="TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin";return r=Ji(r,0,i,"id",t,"AIRPORT"),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(r=Ji(r,1,"destination","id",t,"AIRPORT")),ge(Ee({},e),{locations:l,journeyCriteria:r})})(i,a);return ge(Ee({},e),{primarySearchCriteria:ge(Ee({},l),{groundTransportation:t})})}if(t.startsWith(gi)&&t.includes(Ki))return ge(Ee({},e),{regionId:a});if(t.startsWith(fi)&&t.includes(ji)){const t=((e,t)=>{var a,n;const l=[...null!=(a=null==e?void 0:e.locations)?a:[]];l[1]=ge(Ee({},l[1]),{id:t});let r=[...null!=(n=null==e?void 0:e.journeyCriteria)?n:[]];const i="TO_AIRPORT"===(null==e?void 0:e.direction)?"origin":"destination";return r=Ji(r,0,i,"id",t,"PROPERTY"),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(r=Ji(r,1,"origin","id",t,"PROPERTY")),ge(Ee({},e),{locations:l,journeyCriteria:r})})(i,a);return ge(Ee({},e),{primarySearchCriteria:ge(Ee({},l),{groundTransportation:t})})}if(t.startsWith(Ei)&&(t.includes(Ki)||t.includes(ji))){const n=((e,t,a)=>{var n,l;const r=[...null!=(n=null==e?void 0:e.locations)?n:[]];let i,o,c,s=[...null!=(l=null==e?void 0:e.journeyCriteria)?l:[]];return a.includes(Ki)&&(r[0]=ge(Ee({},r[0]),{name:t}),i="TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin",o="destination",c="AIRPORT"),a.includes(ji)&&(r[1]=ge(Ee({},r[1]),{name:t}),i="TO_AIRPORT"===(null==e?void 0:e.direction)?"origin":"destination",o="origin",c="PROPERTY"),i&&o&&c&&r&&(s=Ji(s,0,i,"name",t,c),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(s=Ji(s,1,o,"name",t,c))),ge(Ee({},e),{locations:r,journeyCriteria:s})})(i,a,t);return ge(Ee({},e),{primarySearchCriteria:ge(Ee({},l),{groundTransportation:n})})}if(t.startsWith(vi)||t.startsWith(Di)){const n=((e,t,a)=>{var n,l,r,i,o,c,s,d,u,m,p,y,_,S,E,g,h,v,D,f;const T=a.includes(ji),b=T?1:0,C=a.startsWith(`${vi}`),I=[...null!=(n=null==e?void 0:e.locations)?n:[]],A=C?Number(t):null!=(i=null==(r=null==(l=I[b])?void 0:l.coordinates)?void 0:r.latitude)?i:200,F=C?null!=(s=null==(c=null==(o=I[b])?void 0:o.coordinates)?void 0:c.longitude)?s:200:Number(t);I[b]=ge(Ee({},I[b]),{coordinates:{latitude:A,longitude:F}});const O=[...null!=(d=null==e?void 0:e.journeyCriteria)?d:[]],k=T&&"TO_AIRPORT"!==(null==e?void 0:e.direction)||!T&&"TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin",G="origin"===k?"destination":"origin",R="coordinates",L=C?"latitude":"longitude";return O[0]=ge(Ee({},null!=(u=O[0])?u:{}),{[k]:ge(Ee({},null!=(p=null==(m=O[0])?void 0:m[k])?p:{}),{[R]:ge(Ee({},null!=(S=null==(_=null==(y=O[0])?void 0:y[k])?void 0:_[R])?S:{}),{[L]:Number(t)})})}),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(O[1]=ge(Ee({},null!=(E=O[1])?E:{}),{[G]:ge(Ee({},null!=(h=null==(g=O[1])?void 0:g[G])?h:{}),{[R]:ge(Ee({},null!=(f=null==(D=null==(v=O[1])?void 0:v[G])?void 0:D[R])?f:{}),{[L]:Number(t)})})})),ge(Ee({},e),{locations:I,journeyCriteria:O})})(i,a,t);return ge(Ee({},e),{primarySearchCriteria:ge(Ee({},l),{groundTransportation:n})})}if(t.startsWith(qa)){const t=((e,t)=>{var a,n,l,r;const[i,o,c]=t.split("-").map((e=>Number(e))),s=Ee({},null==e?void 0:e.dateRange);null===s.start||void 0===s.start?s.start={day:c,month:o,year:i,hour:10,minute:30,second:0}:s.start=ge(Ee({},s.start),{day:c,month:o,year:i});const d=[...null!=(a=null==e?void 0:e.journeyCriteria)?a:[]];return d[0]=ge(Ee({},null!=(n=d[0])?n:{}),{dateTime:ge(Ee({},null!=(r=null==(l=d[0])?void 0:l.dateTime)?r:{}),{day:c,month:o,year:i})}),ge(Ee({},e),{dateRange:s,journeyCriteria:d})})(i,a);return ge(Ee({},e),{primarySearchCriteria:ge(Ee({},l),{groundTransportation:t})})}if(t.startsWith(Va.START_DATE_NAME_PREFIX)||t.startsWith(Va.END_DATE_NAME_PREFIX)){const n=((e,t,a)=>{var n,l,r,i;const o=a.includes(Va.START_DATE_NAME_PREFIX)?"start":"end",[c,s,d]=t.split("-").map((e=>Number(e))),u=Ee({},null==e?void 0:e.dateRange);null===u.start||void 0===u[o]?u[o]={day:d,month:s,year:c,hour:10,minute:30,second:0}:(u[o].day=d,u[o].month=s,u[o].year=c);const m=[...null!=(n=null==e?void 0:e.journeyCriteria)?n:[]],p=a.includes(Va.START_DATE_NAME_PREFIX)?0:1;return m[p]=ge(Ee({},null!=(l=m[p])?l:{}),{dateTime:ge(Ee({},null!=(i=null==(r=m[p])?void 0:r.dateTime)?i:{}),{day:d,month:s,year:c})}),ge(Ee({},e),{dateRange:u,journeyCriteria:m})})(i,a,t);return ge(Ee({},e),{primarySearchCriteria:ge(Ee({},l),{groundTransportation:n})})}if(t.startsWith(hr)&&t.includes("time")){const n=((e,t,a)=>{var n,l,r,i;const o=a.includes("pick_up_time"),c=o?"start":"end",s="AM"===t.substring(4,6),d=Number(t.substring(0,2)),u=12===d?0:d,m=s?u:u+12,p=Number(t.substring(2,4)),y=Ee({},null==e?void 0:e.dateRange);null===y[c]||void 0===y[c]?y[c]={day:1,month:1,year:1,hour:m,minute:p,second:0}:(y[c].hour=m,y[c].minute=p,y[c].second=0);const _=[...null!=(n=null==e?void 0:e.journeyCriteria)?n:[]],S=o||"ROUNDTRIP"!==(null==e?void 0:e.direction)?0:1;return _[S]=ge(Ee({},null!=(l=_[S])?l:{}),{dateTime:ge(Ee({},null!=(i=null==(r=_[S])?void 0:r.dateTime)?i:{}),{hour:m,minute:p,second:0})}),ge(Ee({},e),{dateRange:y,journeyCriteria:_})})(i,a,t);return ge(Ee({},e),{primarySearchCriteria:ge(Ee({},l),{groundTransportation:n})})}if(t.startsWith(tl)){const n=((e,t,a)=>{if(0===Number(t))return e;let n=null==e?void 0:e.travelerDetails;return a.includes("Adult")&&(n=[...n,{type:"ADULT",count:Number(t)}]),a.includes("Children")&&(n=[...n,{type:"CHILD",count:Number(t)}]),a.includes("Infant")&&(n=[...n,{type:"INFANT",count:Number(t)}]),ge(Ee({},e),{travelerDetails:n})})(i,a,t);return ge(Ee({},e),{primarySearchCriteria:ge(Ee({},l),{groundTransportation:n})})}return e},Xi=u.J1`
  fragment GroundTransportationSearchFormSelectionFragment on GroundTransportationSearchFormSelection {
    airportToHotel {
      ...EGDSPillFragment
      __typename
    }
    hotelToAirport {
      ...EGDSPillFragment
      __typename
    }
    roundTrip {
      ...EGDSPillFragment
      __typename
    }
  }
  ${ya.fragment}
`,Zi=[{FROM_AIRPORT:!0,TO_AIRPORT:!1,ROUNDTRIP:!1,type:"FROM_AIRPORT",value:"Airport to hotel"},{FROM_AIRPORT:!1,TO_AIRPORT:!0,ROUNDTRIP:!1,type:"TO_AIRPORT",value:"Hotel to airport"},{FROM_AIRPORT:!1,TO_AIRPORT:!1,ROUNDTRIP:!0,type:"ROUNDTRIP",value:"Roundtrip"}],eo=({data:e,onTripDirectionSelection:t,enableReflection:a=!1})=>{var l,r,o,c,s,d,u,m,p,y,_,S;const{airportToHotel:E,hotelToAirport:g,roundTrip:h}=e,{state:v,dispatch:D}=(0,i.kW)(),{destination:f,origin:T}=v,b=()=>g.selected?Zi[1]:h.selected?Zi[2]:Zi[0],[C,I]=n.useState(b());n.useEffect((()=>{I(b())}),[E.selected,g.selected,h.selected]);const A=a?C:b(),F=[{name:"GroundTransportationSearchFormSelection",selected:A.FROM_AIRPORT,checked:A.FROM_AIRPORT,text:null!=(l=E.primary)?l:"",disabled:E.disabled,value:null!=(r=E.value)?r:"FROM_AIRPORT",id:null!=(o=E.value)?o:"FROM_AIRPORT",altText:null!=(c=E.accessibility)?c:void 0},{name:"GroundTransportationSearchFormSelection",selected:A.TO_AIRPORT,checked:A.TO_AIRPORT,text:null!=(s=g.primary)?s:"",disabled:g.disabled,value:null!=(d=g.value)?d:"TO_AIRPORT",id:null!=(u=g.value)?u:"TO_AIRPORT",altText:null!=(m=g.accessibility)?m:void 0},{name:"GroundTransportationSearchFormSelection",selected:A.ROUNDTRIP,checked:A.ROUNDTRIP,text:null!=(p=h.primary)?p:"",disabled:h.disabled,value:null!=(y=h.value)?y:"ROUNDTRIP",id:null!=(_=h.value)?_:"ROUNDTRIP",altText:null!=(S=h.accessibility)?S:void 0}];return n.createElement(z.S,{data:F,handleSelectedPill:e=>{var n,l,r,i,o;const c=null!=(n=Zi.find((t=>t.type===e)))?n:Zi[0];if(a){if(C.type===c.type)return void t(e);if("TO_AIRPORT"===C.type!=("TO_AIRPORT"===c.type)&&T&&f){const e=ge(Ee({},T),{data:null!=(l=T.data)?l:{},term:null!=(r=T.term)?r:""}),t=ge(Ee({},f),{data:null!=(i=f.data)?i:{},term:null!=(o=f.term)?o:""});D({type:"UPDATE_DESTINATION",location:e}),D({type:"UPDATE_ORIGIN",location:t})}}else I(c);t(e)}})};eo.fragment=Xi,eo.displayName="GroundTransportationSearchFormSelection";var to=u.J1`
  fragment GroundTransportationSearchFormFragment on GroundTransportationSearchForm {
    __typename
    egdsElementId
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
      __typename
    }
    elements {
      __typename
    }
    dates {
      ...EGDSSearchFormDatePickerFieldFragment
      __typename
    }
    travelers {
      ...EGDSSearchFormTravelersFieldFragment
      __typename
    }
    airportLocation {
      ...EGDSSearchFormLocationFieldFragment
      __typename
    }
    hotelLocation {
      ...EGDSSearchFormLocationFieldFragment
      __typename
    }
    pickupTime {
      ...EGDSSelectFragment
      __typename
    }
    dropoffTime {
      ...EGDSSelectFragment
      __typename
    }
    groundTransportationSelection {
      ...GroundTransportationSearchFormSelectionFragment
      __typename
    }
    search {
      ...EGDSSearchFormButtonFragment
      __typename
    }
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
      __typename
    }
    searchLocation {
      ...SearchLocationFragment
    }
  }
  ${ze.fragment}
  ${Ke.fragment}
  ${Hi.fragment}
  ${Wi.fragment}
  ${Qa.fragment}
  ${Sl.fragment}
  ${Tr.fragment}
  ${eo.fragment}
  ${yi}
`,ao=e=>{const{data:t,tripDirection:a,onTripDirectionSelection:l,onFieldChange:o,onSubmit:c,redirectToSearchResultOnSubmit:s,autoOpenPlayback:u,stickyPlayback:m,lastSearchLatLong:p,enableReflection:y}=e,{egdsElementId:_,actionURL:S,airportLocation:E,hotelLocation:g,pickupTime:h,dropoffTime:D,dates:f,travelers:T,search:C,errorSummary:I,groundTransportationSelection:A,playback:F,searchLocation:O}=t,k=(0,$.useLocalization)(),{dispatch:G}=(0,i.kW)(),[R,L]=n.useState(F),[P,M]=n.useState(!u);n.useEffect((()=>{L(F)}),[F]);const[N,x]=n.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null}),[B,W]=n.useState(g);n.useEffect((()=>{W(g)}),[g]);const w={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},[U,H]=n.useState(w),V=null!=_?_:"search-ground-transportation-form",z=null!=S?S:"/ground-transfers/search";n.useEffect((()=>{var e,t,n,l;const r="TO_AIRPORT"===a,i=null!=(t=null==(e=r?E:g)?void 0:e.value)?t:"",o=null!=(l=null==(n=r?g:E)?void 0:n.value)?l:"";""!==i&&G({type:"UPDATE_DESTINATION",location:{term:i,data:Ee({},ui)}}),""!==o&&G({type:"UPDATE_ORIGIN",location:{term:o,data:Ee({},ui)}})}),[]);const Y={setFieldRefByTypename:n.useCallback(((e,t)=>{var a;const n=hl(e,null==(a=t.current)?void 0:a.id);x((e=>ge(Ee({},e),{[n]:t})))}),[])},q=(e,t,a,n)=>{if(!(null==t?void 0:t.text))return e;const l=t.text.trim().replace("${origin}","").replace("${destination}",""),[r,i]=e.text.split(l),o=t.text.replace("${origin}",null!=a?a:r).replace("${destination}",null!=n?n:i);return ge(Ee({},e),{text:o})},j=(e,t)=>{o&&o(e,t),L((t=>{const{SINGLE_DATE_PICKER_START_DATE:a,DATE_RANGE_PICKER:n,BASIC_TRAVELER_SELECTOR:l}=Vi,{name:r,value:i}=e,o=r===a,c=r===n,s=r===l;if(!t)return null;const{secondaries:d}=t,[u,m]=d;let p=u;o&&"EGDSPlainText"===u.__typename&&(p=ge(Ee({},u),{text:k.formatDateString(new Date(i),{skeleton:"MMMd"})})),c&&"EGDSPlainText"===u.__typename&&(p=ge(Ee({},u),{text:Tt(i,k)}));const y=s?ge(Ee({},m),{text:i}):m;return ge(Ee({},t),{secondaries:[p,y]})}))},K=e=>{var t;const n=Array.from(e.currentTarget.elements);let l;l="TO_AIRPORT"===a?{location:{origin:n.find(Al("airport_location")),destination:n.find(Al("hotel_location"))},dates:{startDateInput:n.find(Al("EGDSSingleDatePicker-Date-date_form_field")),endDateInput:void 0,config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:n.find(Al("EGDSBasicSelect-drop_off_time")),pickup:void 0}}:"ROUNDTRIP"===a?{location:{origin:n.find(Al("airport_location")),destination:n.find(Al("hotel_location"))},dates:{startDateInput:n.find(Al("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:n.find(Al("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:n.find(Al("EGDSBasicSelect-drop_off_time")),pickup:n.find(Al("EGDSBasicSelect-pick_up_time"))}}:{location:{origin:n.find(Al("airport_location")),destination:n.find(Al("hotel_location"))},dates:{startDateInput:n.find(Al("EGDSSingleDatePicker-Date-date_form_field")),endDateInput:void 0,config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:void 0,pickup:n.find(Al("EGDSBasicSelect-pick_up_time"))}};const r=Cl(l),i=r.length;if(!(0===i))return H({fieldsWithErrors:r,errorCount:i,displayErrorSummary:!0,errorLinkReference:N[null==(t=r[0])?void 0:t.__typename]}),void e.preventDefault();if(H(w),c||s){const t=((e,t)=>{const a={primarySearchCriteria:{groundTransportation:{dateRange:{},locations:[{type:"AIRPORT"},{type:"PROPERTY"}],direction:t,travelerDetails:[],journeyCriteria:[]}},regionId:null};return e.filter((e=>e.name.startsWith("EGDS")||e.name.startsWith("GroundTransportation"))).reduce(Qi,a)})(Array.from(e.currentTarget.elements),a);if(c&&c(e,{groundTransportationSearchCriteria:t}),s){e.preventDefault();const a=(e=>{var t,a,n,l;if(null==e.primarySearchCriteria||null==e.primarySearchCriteria.groundTransportation)return"";const{regionId:r}=e,{travelerDetails:i,direction:o,journeyCriteria:c}=e.primarySearchCriteria.groundTransportation,s=`direction=${o}&roundTrip=${"ROUNDTRIP"===o}`,{hotel:d,airport:u}=qi(c),m=`&airportCode=${null==u?void 0:u.id}&location=${encodeURIComponent(null!=(t=null==u?void 0:u.name)?t:"")}&regionId=${r}`,p=`&hotelId=${null==d?void 0:d.id}&hotelName=${encodeURIComponent(null!=(a=null==d?void 0:d.name)?a:"")}`,y=null==(n=null==c?void 0:c[0])?void 0:n.dateTime,_=null==(l=null==c?void 0:c[1])?void 0:l.dateTime,S=`&pickUpDate=${y&&zi(y)}&pickUpTime=${y&&Yi(y)}`,E="ROUNDTRIP"===o?`&dropOffDate=${_&&zi(_)}&dropOffTime=${_&&Yi(_)}`:"",g=i.find((e=>"ADULT"===e.type)),h=i.find((e=>"CHILD"===e.type)),v=i.find((e=>"INFANT"===e.type));return`?${s}${m}${p}${S}${E}${g?`&adults=${g.count}`:""}${h?`&children=${h.count}`:""}${v?`&infants=${v.count}`:""}`})(t);window.location.href=`${e.currentTarget.action}${a}`}}},J={lastSearchLatLong:p,searchLocationAnalytics:null==O?void 0:O.analytics,searchLocationContent:null==O?void 0:O.content},Q=E&&n.createElement("div",null,n.createElement(Wi,ge(Ee(Ee({},Y),J),{onSelection:e=>{const t=null==B?void 0:B.action;if(g){const a=ge(Ee({},g),{__typename:g.__typename,action:ge(Ee({},t),{info:ge(Ee({},t.info),{regionId:e.data.regionId})})});W(a)}L((t=>{var n,l;if(!t)return null;const{primary:r,primaryTemplate:i}=t,o=null!=(l=null==(n=null==e?void 0:e.data)?void 0:n.airportCode)?l:null==e?void 0:e.term,c="TO_AIRPORT"===a,s=q(r,i,c?null:o,c?o:null);return ge(Ee({},t),{primary:s})}))},data:E,fieldError:U.fieldsWithErrors.find((e=>"EGDSSearchFormLocationFieldAirport"===e.__typename)),key:`field_${null==E?void 0:E.__typename}_airportLocation`}))),X=B&&n.createElement("div",null,n.createElement(Wi,ge(Ee(Ee({},Y),J),{onSelection:e=>{L((t=>{var n,l;if(!t)return null;const{primary:r,primaryTemplate:i}=t,o=null!=(l=null==(n=null==e?void 0:e.data)?void 0:n.primaryText)?l:null==e?void 0:e.term,c="TO_AIRPORT"!==a,s=q(r,i,c?null:o,c?o:null);return ge(Ee({},t),{primary:s})}))},data:B,fieldError:U.fieldsWithErrors.find((e=>"EGDSSearchFormLocationFieldHotel"===e.__typename)),key:`field_${null==B?void 0:B.__typename}_hotelLocation`}))),Z=T&&n.createElement("div",null,n.createElement(Sl,{data:T})),ee=f&&n.createElement("div",null,n.createElement(Qa,ge(Ee({},Y),{data:f}))),te=h&&n.createElement("div",null,n.createElement(Tr,{data:h,fieldError:U.fieldsWithErrors.find((e=>"EGDSBasicSelectPickUp"===e.__typename))})),ae=D&&n.createElement("div",null,n.createElement(Tr,{data:D,fieldError:U.fieldsWithErrors.find((e=>"EGDSBasicSelectDropOff"===e.__typename))})),ne="EGDSSearchFormButton"===(null==C?void 0:C.__typename)&&n.createElement(r.b,{padding:{blockstart:"six"}},n.createElement("div",null,n.createElement(Ke,{data:C}))),{displayErrorSummary:le,errorCount:re,errorLinkReference:ie}=U,oe=le&&I&&n.createElement(r.b,{margin:{block:"two"}},n.createElement("div",null,n.createElement(ze,{data:I,errorCount:re,inputErrorRef:ie}))),ce=A&&n.createElement(eo,ge(Ee({},e),{data:A,onTripDirectionSelection:l,enableReflection:y})),se=()=>"TO_AIRPORT"===a?n.createElement(n.Fragment,null,ce,n.createElement(b.E,{onFieldChange:j,onSubmit:K,id:V,name:V,method:"GET",action:z,hasRequiredFieldIndicator:!0},oe,n.createElement(r.b,{padding:{blockstart:"six"}},n.createElement(v.E,{columns:{small:1,medium:6},space:"three"},n.createElement(v.a,{colSpan:{small:1,medium:2,large:3}},X),n.createElement(v.a,{colSpan:{small:1,medium:2,large:3}},Q),n.createElement(v.a,{colSpan:{small:1,medium:2,large:2}},Z),n.createElement(v.a,{colSpan:{small:1,medium:3,large:2}},ee),n.createElement(v.a,{colSpan:{small:1,medium:3,large:2}},ae))),ne)):"ROUNDTRIP"===a?n.createElement(n.Fragment,null,ce,n.createElement(b.E,{onFieldChange:j,onSubmit:K,id:V,name:V,method:"GET",action:z,hasRequiredFieldIndicator:!0},oe,n.createElement(r.b,{padding:{blockstart:"six"}},n.createElement(v.E,{columns:{small:1,medium:2},space:"three"},n.createElement(v.a,null,Q),n.createElement(v.a,null,X),n.createElement(v.a,null,Z),n.createElement(v.a,null,ee),n.createElement(v.a,null,te),n.createElement(v.a,null,ae))),ne)):n.createElement(n.Fragment,null,ce,n.createElement(b.E,{onFieldChange:j,onSubmit:K,id:V,name:V,method:"GET",action:z,hasRequiredFieldIndicator:!0},oe,n.createElement(r.b,{padding:{blockstart:"six"}},n.createElement(v.E,{columns:{small:1,medium:6,large:6},space:"three"},n.createElement(v.a,{colSpan:{small:1,medium:2,large:3}},Q),n.createElement(v.a,{colSpan:{small:1,medium:2,large:3}},X),n.createElement(v.a,{colSpan:{small:1,medium:2,large:2}},Z),n.createElement(v.a,{colSpan:{small:1,medium:3,large:2}},ee),n.createElement(v.a,{colSpan:{small:1,medium:3,large:2}},te))),ne));return n.createElement(d.LM,null,n.createElement(d.NP,null,R?n.createElement(Hi,{data:R,stickyPlayback:m,display:P,onDisplayToggle:e=>{M(e)}},se()):se()),n.createElement(d.rw,null,se()))};ao.fragment=to,ao.displayName="GroundTransportationSearchForm";var no={SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE"),SEARCH_TOOLS_GROUND_TRANSPORTATION_OPTIONS_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_GROUND_TRANSPORTATION_OPTIONS_QUERY_FAILURE")},lo={linkName:"Ground Transportation Search Form Fallback Presented",referrerId:"Web.GroundTransportation.Search.Form.Fallback.Presented"},ro={linkName:"Ground Transportation Search Form Presented",referrerId:"Web.GroundTransportation.Search.Form.Presented"},io=u.J1`
  query GroundTransportationSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $groundTransportationSearchCriteria: ProductShoppingCriteriaInput
    $includePlayback: Boolean = false
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      groundTransportation(groundTransportationSearchCriteria: $groundTransportationSearchCriteria) {
        __typename
        ...GroundTransportationSearchFormFragment
      }
    }
  }
  ${ao.fragment}
`,oo={rows:[{type:"secondary"},{type:"primary"},{type:"primary"},{type:"primary"}]},co=e=>{var t,a,l,r,o,c,s;const{inputs:d,skipSsr:u,batchKey:y,includePlayback:_,pageLocation:S,enableReflection:h}=e,{context:v}=(0,m.R)(),D=(0,p.useLoggerEvents)(no),[f,T]=n.useState(null!=(l=null==(a=null==(t=d.groundTransportationSearchCriteria)?void 0:t.primarySearchCriteria.groundTransportation)?void 0:a.direction)?l:"FROM_AIRPORT"),[b,C]=n.useState(d),I=e=>{Object.values(Te).includes(e)&&(T(e),C(h?t=>{var a,n,l;const r=null==(n=null==(a=t.groundTransportationSearchCriteria)?void 0:a.primarySearchCriteria)?void 0:n.groundTransportation;return{groundTransportationSearchCriteria:ge(Ee({},t.groundTransportationSearchCriteria),{primarySearchCriteria:ge(Ee({},null==(l=t.groundTransportationSearchCriteria)?void 0:l.primarySearchCriteria),{groundTransportation:ge(Ee({},r),{direction:e,locations:(null==r?void 0:r.locations)||[],dateRange:(null==r?void 0:r.dateRange)||{},journeyCriteria:(null==r?void 0:r.journeyCriteria)||[],travelerDetails:(null==r?void 0:r.travelerDetails)||[]})})})}}:"FROM_AIRPORT"===e?{groundTransportationSearchCriteria:null}:{groundTransportationSearchCriteria:{primarySearchCriteria:{groundTransportation:{dateRange:{},locations:[],journeyCriteria:[],direction:e,travelerDetails:[]}}}}))},A=ge(Ee({},b),{context:v,includePlayback:!!_,pageLocation:S}),{data:F,error:O,loading:k}=(0,g.I)(io,{context:{batchKey:y},variables:A,ssr:!u});if(k)return n.createElement(We,Ee({},oo));if(O||"GroundTransportationSearchForm"!==(null==(o=null==(r=null==F?void 0:F.searchForm)?void 0:r.groundTransportation)?void 0:o.__typename)||!F.searchForm.groundTransportation.groundTransportationSelection){const t=(e=>{switch(e){case"TO_AIRPORT":return Er;case"ROUNDTRIP":return gr;default:return Sr}})(f);return D.SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE.log({name:null==O?void 0:O.name,error:new Error(null==O?void 0:O.message)}),"GroundTransportationSearchForm"!==(null==(s=null==(c=null==t?void 0:t.searchForm)?void 0:c.groundTransportation)?void 0:s.__typename)?null:n.createElement(Fe,null,n.createElement(E.ee,Ee({},lo),h&&!e.disableInternalReflectionProvider?n.createElement(i.tb,null,n.createElement(ao,Ee(ge(Ee({},e),{data:t.searchForm.groundTransportation,tripDirection:f,onTripDirectionSelection:I}),h&&{enableReflection:h}))):n.createElement(ao,Ee(ge(Ee({},e),{data:t.searchForm.groundTransportation,tripDirection:f,onTripDirectionSelection:I}),h&&{enableReflection:h}))))}return n.createElement(E.ee,Ee({},ro),h&&!e.disableInternalReflectionProvider?n.createElement(i.tb,null,n.createElement(ao,Ee(ge(Ee({},e),{data:F.searchForm.groundTransportation,tripDirection:f,onTripDirectionSelection:I}),h&&{enableReflection:h}))):n.createElement(ao,Ee(ge(Ee({},e),{data:F.searchForm.groundTransportation,tripDirection:f,onTripDirectionSelection:I}),h&&{enableReflection:h})))};co.displayName="sharedui-GroundTransportationSearchForm";var so=(e=>(e.PICKUP_LOCATION="airport_location",e.DROPOFF_LOCATION="hotel_location",e.PICKUP_TIME="pick_up_time",e.DROPOFF_TIME="drop_off_time",e.DATE_RANGE_PICKER="EGDSDateRangePicker",e))(so||{}),uo=["age"],mo=({day:e,month:t,year:a},n)=>{const l=e<10?`0${e}`:e,r=t<10?`0${t}`:t;return n.formatDateString(`${a}-${r}-${l}`,{raw:n.localDateFormat})},po=({day:e,month:t,year:a})=>`${a}-${t}-${e}`,yo=({hour:e,minute:t})=>{const a=e%12||12;return`${a<10?"0":""}${a}${t<10?"0":""}${t}${e<12?"AM":"PM"}`},_o=e=>e.toString().padStart(2,"0"),So=({year:e,month:t,day:a})=>`${e}-${_o(t)}-${_o(a)}`,Eo=({year:e,month:t,day:a,hour:n,minute:l})=>`${e}-${_o(t)}-${_o(a)}T${_o(n)}:${_o(l)}`,go=(e,t,a,n)=>{var l,r,i,o,c,s,d;const{pickUpLocation:u,pickUpDateTime:m,dropOffLocation:p,dropOffDateTime:y}=t.primary,_={param:a,value:null!=(l=u.searchTerm)?l:""},S={param:"pickupIATACode",value:null!=(r=u.airportCode)?r:""},E={param:n,value:null!=(i=null==p?void 0:p.searchTerm)?i:""},g={param:"returnIATACode",value:null!=(o=null==p?void 0:p.airportCode)?o:""},h={param:"d1",value:So(m)},v={param:"d2",value:So(y)},D={param:"pickupDateTime",value:Eo(m)},f={param:"returnDateTime",value:Eo(y)},T=null==(d=null==(s=null==(c=t.secondary)?void 0:c.selections)?void 0:s.filter((e=>uo.indexOf(e.id)>-1)))?void 0:d.map((({id:e,value:t})=>({param:e,value:t}))),b=[_,S,E,g,h,v,D,f];return((e,t)=>{const a=new URL(e);return t.forEach((e=>{const{param:t,value:n}=e;a.searchParams.append(t,n)})),a.toString()})(e,T&&T.length>0?[...b,...T]:b)},ho="pick_up_location",vo=["vend","cpcd","odcd","cdnu"],Do=(e,{name:t,value:a,checked:n,disabled:l})=>{var r,i,o,c,s,d,u;const{primary:m,secondary:p}=e;if(t.startsWith(hi)){const n=t.includes(ho),l=n?m.pickUpLocation:m.dropOffLocation,r=n?"pickUpLocation":"dropOffLocation";return ge(Ee({},e),{primary:ge(Ee({},m),{[r]:l||a?ge(Ee({},l),{airportCode:a}):null})})}if(t.startsWith(Ei)){const n=t.includes(ho),l=n?m.pickUpLocation:m.dropOffLocation,r=n?"pickUpLocation":"dropOffLocation";return ge(Ee({},e),{primary:ge(Ee({},m),{[r]:l||a?ge(Ee({},l),{searchTerm:a}):null})})}if(t.startsWith(vi)||t.startsWith(Di)){const n=t.includes(ho),l=n?m.pickUpLocation:m.dropOffLocation,s=n?"pickUpLocation":"dropOffLocation",d=t.startsWith(`${vi}-`),u=a?Number(a):null,p=d?u:null!=(i=null==(r=null==l?void 0:l.coordinates)?void 0:r.latitude)?i:null,y=d?null!=(c=null==(o=null==l?void 0:l.coordinates)?void 0:o.longitude)?c:null:u,_=p||y?{latitude:p,longitude:y}:null;return ge(Ee({},e),{primary:ge(Ee({},m),{[s]:l||_?ge(Ee({},l),{coordinates:_}):null})})}if(t.startsWith(gi)){const n=t.includes(ho),l=n?m.pickUpLocation:m.dropOffLocation,r=n?"pickUpLocation":"dropOffLocation";return ge(Ee({},e),{primary:ge(Ee({},m),{[r]:l||a?ge(Ee({},l),{regionId:a}):null})})}if(t.startsWith(Va.START_DATE_NAME_PREFIX)||t.startsWith(Va.END_DATE_NAME_PREFIX)){const n=t.includes(Va.START_DATE_NAME_PREFIX),l=n?"pickUpDateTime":"dropOffDateTime",[r,i,o]=a.split("-").map((e=>Number(e)));return ge(Ee({},e),{primary:ge(Ee({},m),{[l]:ge(Ee({},n?m.pickUpDateTime:m.dropOffDateTime),{day:o,month:i,year:r})})})}if(t.startsWith(hr)&&t.includes("time")){const n=t.includes("pick_up_time"),l=n?"pickUpDateTime":"dropOffDateTime",r=parseInt(a.substring(2,4),10),i=a.substring(4,6),o=parseInt(a.substring(0,2),10),c=12===o&&"AM"===i?0:12!==o&&"PM"===i?o+12:o;return ge(Ee({},e),{primary:ge(Ee({},m),{[l]:ge(Ee({},n?m.pickUpDateTime:m.dropOffDateTime),{hour:c,minute:r})})})}if(t.startsWith(Nt)&&t.includes("aarp_rates")){return ge(Ee({},e),{secondary:ge(Ee({},p),{booleans:[...null!=(s=null==p?void 0:p.booleans)?s:[],{id:"aarpcr",value:n}]})})}if(vo.find((e=>e===t))){return ge(Ee({},e),{secondary:ge(Ee({},p),{selections:[...null!=(d=null==p?void 0:p.selections)?d:[],{id:t,value:a}]})})}if(t.includes("driver_age")&&!l&&a){return ge(Ee({},e),{secondary:ge(Ee({},p),{selections:[...null!=(u=null==p?void 0:p.selections)?u:[],{id:"age",value:a}]})})}return e},fo=u.J1`
  fragment EGDSTextInputFieldFragment on EGDSTextInputField {
    egdsElementId
    errorMessage
    instructions
    label
    placeholder
    readOnly
    required
    validations {
      ... on EGDSRequiredInputValidation {
        errorMessage
      }
    }
    value
  }
`,To=({data:e,onChange:t,invalid:a,setInputRef:l,customValue:r})=>{const{label:i,value:o,egdsElementId:c,placeholder:s}=e,d=r||o,[u,m]=n.useState(null!=d?d:""),p=n.createRef();return n.useEffect((()=>{l&&l(p)}),[]),n.createElement(Z.b,{placeholder:null!=s?s:"",id:null!=c?c:"",label:i,name:null!=c?c:"",value:u,onChange:e=>{t&&t(e),m(e.target.value)},invalid:null!=a?a:"",domRef:p,"aria-label":null!=i?i:""})};To.displayName="EGDSTextInputField",To.fragment=fo;var bo=u.J1`
  fragment CarSearchFormSpecialOrAdvertisedOptionFragment on CarSearchFormSpecialOrAdvertisedOption {
    __typename
    addAnotherDiscountCode {
      ...EGDSTertiaryButtonFragment
    }
    discountCodeType {
      label
    }
    discountCodeOptions {
      discountCodeInput {
        ...EGDSTextInputFieldFragment
      }
      discountCodeTypeOption
    }
    maxDiscountCode
    optionLabel
  }
  ${tn.fragment}
  ${To.fragment}
`,Co=({data:e,errorState:t,handleErrorState:a,index:l,setFieldRefByTypename:i,setSelectedCouponType:o,disabledSelectIndex:c,setSpecialOrAdvertisedDiscountCode:s,codeValue:d,codeTypeSelected:u,discountTypes:m})=>{var p,y,_,S,E;const{discountCodeOptions:g,discountCodeType:h}=e,[v,D]=n.useState(g),[f,T]=n.useState(u),[b,C]=n.useState(d),I=null!=(y=null==(p=g[0])?void 0:p.discountCodeTypeOption)?y:"",A=null!=(S=null==(_=g[1])?void 0:_.discountCodeTypeOption)?S:"",F=null==(E=v.find((({discountCodeTypeOption:e})=>e===f)))?void 0:E.discountCodeInput,O=(null==F?void 0:F.validations)&&"EGDSRequiredInputValidation"===F.validations[0].__typename?F.validations[0].errorMessage:"",k=t.inputsWithErrors.includes(`special-advertised-coupon-${l}`)?O:"",G=n.createRef();n.useEffect((()=>{var e;v!==g&&(T(g[0].discountCodeTypeOption),D(g)),null==(e=G.current)||e.focus()}),[v,g]);return n.createElement("div",null,n.createElement(r.b,{padding:{block:f?"three":"two"}},n.createElement("div",null,n.createElement(Z.i,{label:h.label,onChange:t=>{var n;T(t.target.value),a(m.SPECIAL_OR_ADVERTISED,!0,"",l.toString()),s({data:e,value:null!=b?b:"",index:l,codeTypeSelected:null!=(n=t.target.value)?n:""}),o&&o(t.target.value,l)},"aria-label":h.label,emptyState:!0,value:f,disabled:null==c?void 0:c.includes(l),domRef:G},v.map(((e,t)=>n.createElement("option",{key:t,value:e.discountCodeTypeOption},e.discountCodeTypeOption)))))),f&&F&&n.createElement(n.Fragment,null,n.createElement(r.b,{padding:{blockend:"three"}},n.createElement(To,{data:F,onChange:t=>{a(m.SPECIAL_OR_ADVERTISED,!0,t.target.value,l.toString()),C(t.target.value),s({data:e,value:t.target.value,index:l,codeTypeSelected:null!=f?f:""})},invalid:k,setInputRef:e=>{i&&i(`special-advertised-coupon-${l}`,e)},customValue:b})),b&&f===A&&n.createElement("input",{type:"hidden","aria-label":"vend","data-stid":"vend",name:"vend",value:b}),b&&f===I&&n.createElement("input",{type:"hidden","aria-label":"cpcd","data-stid":"cpcd",name:"cpcd",value:b}),b&&f!==I&&f!==A&&n.createElement("input",{type:"hidden","aria-label":"odcd","data-stid":"odcd",name:"odcd",value:b})))};Co.fragment=bo,Co.displayName="CarSearchFormSpecialOrAdvertisedOption";var Io=u.J1`
  fragment CarSearchFormDiscountTypeOptionFragment on CarSearchFormDiscountTypeOption {
    __typename
    corporateOrContractedOption {
      discountCode {
        ...EGDSTextInputFieldFragment
      }
      optionLabel
    }
    preferredBrand
    specialOrAdvertisedOption {
      ...CarSearchFormSpecialOrAdvertisedOptionFragment
    }
  }

  ${Co.fragment}
  ${To.fragment}
`,Ao=e=>{var t;const{data:a,readOnly:l,disabled:i,egdsElementId:o,label:c,icon:s,handleErrorState:d,errorState:u,setFieldRefByTypename:m,isDisabled:p,clearDiscountTypeOptionsState:y,selectedDiscountType:_,handleDiscountType:S,corporateOrContractedCodeValue:E,handleCorporateOrContractedCodeValue:g,handleSpecialOrAdvertisedCouponsData:h,specialOrAdvertisedCouponsData:v,handleDisabledDiscountCodeTypes:D,disabledCouponTypeIndexes:T,handleClearDiscountTypeOptionsState:b,discountTypes:C}=e,{corporateOrContractedOption:I,specialOrAdvertisedOption:A}=a,F=null==I?void 0:I.optionLabel,O=null==A?void 0:A.optionLabel,[k,G]=n.useState(A),[R,L]=n.useState(v),[P,M]=n.useState([]),N=k.maxDiscountCode>R.length&&R.length===P.length,x=(e,t)=>{const a=P.filter((e=>e.index!==t));M([...a,{selectedDiscountType:e,index:t}]);const n=T.filter((e=>e!==t-1));D([...n,t-1])},B={data:A,value:"",index:null,codeTypeSelected:""};n.useEffect((()=>{A!==k&&(L([B]),G(A)),y&&(M([]),L([{data:A,value:"",index:0,codeTypeSelected:""}]),b())}),[k,A,y]);const $=null==(t=u.inputsWithErrors)?void 0:t.includes("corporate-or-contracted-option"),W=(null==I?void 0:I.discountCode.validations)&&"EGDSRequiredInputValidation"===(null==I?void 0:I.discountCode.validations[0].__typename)?null==I?void 0:I.discountCode.validations[0].errorMessage:"",w=$?W:"";return n.createElement("div",null,n.createElement(r.b,{padding:{blockend:"three"}},n.createElement("div",null,n.createElement(Z.i,{readOnly:l,disabled:null!=p?p:i,id:null!=o?o:"",label:c,icon:null==s?void 0:s.id,"aria-label":null!=c?c:"",onChange:e=>{S&&S(e.target.value),e.target.value===C.CORPORATE_OR_CONTRACTED&&d(C.CORPORATE_OR_CONTRACTED,!0,"")},value:_,emptyState:!0},I&&n.createElement("option",{key:F,label:F,value:F},F),A&&n.createElement("option",{key:O,label:O,value:O},O)))),I&&_===C.CORPORATE_OR_CONTRACTED&&!p&&n.createElement(To,{data:I.discountCode,invalid:w,onChange:e=>{g&&g(e.target.value),_===C.CORPORATE_OR_CONTRACTED&&d(C.CORPORATE_OR_CONTRACTED,!0,e.target.value)},setInputRef:e=>{m&&m("corporate-or-contracted-option",e)},customValue:E}),A&&_===C.SPECIAL_OR_ADVERTISED&&!p&&n.createElement(n.Fragment,null,R.map(((e,t)=>n.createElement(Co,{key:t,data:e.data,index:t,errorState:u,handleErrorState:d,setFieldRefByTypename:m,setSelectedCouponType:x,disabledSelectIndex:T,setSpecialOrAdvertisedDiscountCode:h,codeValue:e.value,codeTypeSelected:e.codeTypeSelected,discountTypes:C}))),"UITertiaryButton"===A.addAnotherDiscountCode.__typename&&n.createElement(f.i,{justifyContent:"end"},n.createElement("div",null,n.createElement(tn,{data:A.addAnotherDiscountCode,onClick:()=>{const e=P.map((e=>e.selectedDiscountType)),t=k.discountCodeOptions.filter((t=>!e.includes(t.discountCodeTypeOption)&&t)),a=ge(Ee({},k),{discountCodeOptions:t}),n=T.length-1;P[n]&&D([...T,n]);const l={data:a,value:"",index:null,codeTypeSelected:""};L([...R,l])},isDisabled:!N})))),E&&n.createElement("input",{type:"hidden","aria-label":"cdnu","data-stid":"cdnu",name:"cdnu",value:E}))};Ao.fragment=Io,Ao.displayName="CarSearchFormDiscountTypeOption";var Fo=u.J1`
  fragment CarSearchFormDiscountCodeFragment on CarSearchFormDiscountCode {
    __typename
    discountCode {
      ...EGDSPillFragment
    }
    action {
      discountType {
        ...EGDSSelectFragment
      }
      discountTypeOptions {
        ...CarSearchFormDiscountTypeOptionFragment
      }
      preferredBrand {
        ...EGDSSelectFragment
      }
      errorSummary {
        ...EGDSErrorSummaryFragment
      }
      toolbar {
        primary
        actions {
          primary {
            ...EGDSTertiaryButtonFragment
          }
          secondaries {
            icon {
              description
            }
          }
        }
      }
      done {
        ...EGDSPrimaryButtonFragment
      }
    }
  }

  ${Ao.fragment}
  ${ya.fragment}
  ${Za.fragment}
  ${tn.fragment}
  ${ze.fragment}
  ${Tr.fragment}
`,Oo={corporateOrContracted:{selected:!1,value:""},specialOrAdvertised:{selected:!1,coupons:[]}},ko={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,inputsWithErrors:[]},Go=({data:e})=>{var t,a,l,i,o,s,u,m;const{discountCode:p,action:y}=e,{discountType:_,preferredBrand:S,discountTypeOptions:E,done:g,toolbar:h,errorSummary:v}=y,D={CORPORATE_OR_CONTRACTED:null==(t=E[0].corporateOrContractedOption)?void 0:t.optionLabel,SPECIAL_OR_ADVERTISED:null==(a=E[0].specialOrAdvertisedOption)?void 0:a.optionLabel},[T,b]=n.useState(!1),[C,I]=n.useState(E[0]),F=n.createRef(),O=n.createRef(),[k,G]=n.useState(),[R,L]=n.useState(""),[P,M]=n.useState(""),[N,x]=n.useState([]),[B,$]=n.useState(!1),[W,U]=n.useState([{data:E[0].specialOrAdvertisedOption,value:"",index:0,codeTypeSelected:""}]),[H,z]=n.useState(Oo),[Y,q]=n.useState([]),[j,K]=n.useState(Ee({},ko)),{setFocusInput:J}=((e,t="")=>{const[a,l]=n.useState(t);return n.useEffect((()=>{var t,n;null==(n=null==(t=e.find((e=>e.name===a)))?void 0:t.reference.current)||n.focus()}),[a]),{setFocusInput:l}})(Y),Q=()=>{K(ko),q([]),z(Oo)},X={selectedDiscountType:R,handleDiscountType:e=>{L(e),e===D.CORPORATE_OR_CONTRACTED&&(Q(),M("")),e===D.SPECIAL_OR_ADVERTISED&&(Q(),x([]),$(!0),U([]))},corporateOrContractedCodeValue:P,handleCorporateOrContractedCodeValue:e=>{M(e),e&&K(ko)},handleSpecialOrAdvertisedCouponsData:e=>{const t=W.filter((t=>t.index!==e.index));U([...t,e]),e.value&&(e=>{const t=`special-advertised-coupon-${e.index}`;if(j.inputsWithErrors.includes(t)){const{specialOrAdvertised:e}=H,a=e.coupons.filter((e=>""===e.value)).map((e=>`special-advertised-coupon-${e.id}`)).filter((e=>e!==t));K((e=>{var n;if(e.errorCount>0){const l=e.errorCount-1,r=e.inputsWithErrors.filter((e=>!e.includes(t))),i=null==(n=Y.find((e=>e.name===a[0])))?void 0:n.reference;return{displayErrorSummary:l>0,errorCount:l,errorLinkReference:null!=i?i:null,inputsWithErrors:r}}return e})),J(t)}})(e)},specialOrAdvertisedCouponsData:W,handleDisabledDiscountCodeTypes:e=>{x(e)},disabledCouponTypeIndexes:N,handleClearDiscountTypeOptionsState:()=>{$(!1)}},[Z,te,ae]=(0,w.useDialog)("discount-codes-dialog"),ne="EGDSBasicSelect"===_.__typename?ge(Ee({},_),{icon:{id:null==(l=_.icon)?void 0:l.id}}):void 0,le=()=>{L(""),M(""),K(ko),x([]),U([]),$(!0),z(Oo),q([])},re=()=>{le(),G("")},ie=()=>{var e;const{corporateOrContracted:t}=H;return!(!t.value&&t.selected)||(K({displayErrorSummary:!0,errorCount:1,errorLinkReference:null==(e=Y[0])?void 0:e.reference,inputsWithErrors:["corporate-or-contracted-option"]}),!1)},oe=()=>{var e;const{specialOrAdvertised:t}=H;if(t.selected){const a=t.coupons.filter((e=>""===e.value));if(a.length>0){const t=a.map((e=>`special-advertised-coupon-${e.id}`)),n=null==(e=Y.find((e=>e.name===t[0])))?void 0:e.reference;return K({displayErrorSummary:a.length>0,errorCount:a.length,errorLinkReference:null!=n?n:null,inputsWithErrors:[...t]}),!1}return!0}return!0},ce=!k,se=n.useCallback(((e,t)=>{const a={name:e,reference:t};q((e=>[...e,a]))}),[]),{displayErrorSummary:de,errorCount:ue,errorLinkReference:me}=j,pe=v&&de,ye=n.createElement(n.Fragment,null,pe&&n.createElement(r.b,{padding:{blockend:"three"}},n.createElement("div",null,n.createElement(ze,{data:v,errorCount:ue,inputErrorRef:me}))),n.createElement(r.b,{padding:{blockend:"three"}},n.createElement("div",null,n.createElement(Tr,{data:S,onChange:e=>{const t=E.filter((t=>t.preferredBrand===e.target.value))[0];I(t),G(e.target.value),le()},emptyState:!0,selectValue:k}))),C&&ne&&n.createElement(r.b,{padding:{blockend:"three"}},n.createElement("div",null,n.createElement(Ao,ge(Ee(Ee({data:C},ne),X),{handleErrorState:(e,t,a,n)=>{if(e===D.CORPORATE_OR_CONTRACTED&&z({specialOrAdvertised:{selected:!1,coupons:[]},corporateOrContracted:{selected:null!=t&&t,value:null!=a?a:""}}),e===D.SPECIAL_OR_ADVERTISED){const e={id:null!=n?n:"",value:null!=a?a:""},l=H.specialOrAdvertised.coupons.filter((e=>e.id!==n));z({corporateOrContracted:{selected:!1,value:""},specialOrAdvertised:ge(Ee({},H.specialOrAdvertised),{selected:null!=t&&t,coupons:[...l,e]})})}},errorState:j,setFieldRefByTypename:se,isDisabled:ce,clearDiscountTypeOptionsState:B,discountTypes:D}))))),_e=null!=(u=null==(s=null==(o=(null!=(i=h.actions.secondaries)?i:[]).find((e=>e.icon)))?void 0:o.icon)?void 0:s.description)?u:"";return n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(V.h,{isVisible:Z},n.createElement(ae,null,n.createElement(V.e,{isVisible:Z,type:"full",triggerRef:F},n.createElement(c.b,{toolbarTitle:null!=(m=h.primary)?m:"",navigationContent:{navType:"close",onClick:()=>{var e;le(),G(""),te.closeDialog(),null==(e=O.current)||e.focus()},navIconLabel:_e},toolbarActionContent:n.createElement(tn,{data:h.actions.primary,onClick:re})}),n.createElement(V.f,null,n.createElement(r.b,{padding:{inline:"three",blockstart:"three"}},n.createElement("div",null,ye,"UIPrimaryButton"===g.__typename&&n.createElement(Za,{data:g,onClick:()=>{var e;ie()&&oe()&&(K(ko),te.closeDialog(),null==(e=O.current)||e.focus())}}))))))),n.createElement(ya,{data:p,triggerPill:!0,onClick:()=>{te.openDialog()},domRef:O}))),n.createElement(d.rw,null,n.createElement(ee.E,{isOpen:T,onTriggerClick:()=>{b((e=>!e))},onDismiss:()=>{le(),G("")}},n.createElement(ee.b,null,n.createElement("div",null,n.createElement(ya,{data:p,triggerPill:!0,domRef:O}))),n.createElement(ee.c,{position:ee.P.LEFT,showOverTrigger:!0,width:500},n.createElement(r.b,{padding:{inline:"three"}},n.createElement("div",null,n.createElement(f.i,{alignItems:"center",justifyContent:"space-between"},n.createElement(A.E,null,h.primary),n.createElement(tn,{data:h.actions.primary,onClick:re})),n.createElement(r.b,{padding:{blockstart:"three"}},n.createElement("div",null,ye)),"UIPrimaryButton"===g.__typename&&n.createElement(Za,{data:g,onClick:()=>{var e;ie()&&oe()&&(b(!1),null==(e=O.current)||e.focus())}}))))))),k&&n.createElement("input",{type:"hidden","aria-label":"vend","data-stid":"vend",name:"vend",value:k}))};Go.fragment=Fo,Go.displayName="CarSearchFormDiscountCode";var Ro=(e=>(e.pickUpLocation="pickUpLocation",e.dropOffLocation="dropOffLocation",e.dates="dates",e.pickUpTime="pickUpTime",e.dropOffTime="dropOffTime",e.driverAgeCheck="driverAgeCheck",e.specialRatesHeading="specialRatesHeading",e.aarpRatesAndDiscountCodes="aarpRatesAndDiscountCodes",e.search="search",e))(Ro||{}),Lo=u.J1`
  fragment EGDSNumberInputFieldFragment on EGDSNumberInputField {
    egdsElementId
    errorMessage
    instructions
    label
    max
    min
    placeholder
    step
    readOnly
    required
    validations {
      ... on EGDSInputValidation {
        errorMessage
      }
      ... on EGDSRangeInputValidation {
        errorMessage
        min
        max
      }
    }
    value
  }
`,Po=({disabled:e,data:t,errorMessage:a,setFieldRefByTypename:l})=>{const{label:r,value:i,egdsElementId:o,placeholder:c,step:s,max:d,min:u,__typename:m}=t,p=null===i?void 0:Number(i),[y,_]=n.useState(p),S=n.createRef();n.useEffect((()=>{l&&S&&l(m,S)}),[]);return n.createElement(re.b,{label:null!=r?r:"",id:null!=o?o:"",placeholder:null!=c?c:"",name:o?`EGDSNumberInput-${o}`:"",value:y,step:null!=s?s:void 0,max:null!=d?d:void 0,min:null!=u?u:void 0,onChange:e=>{const t=""===e.target.value?void 0:Number(e.target.value);_(t)},disabled:e,invalid:null!=a?a:"",domRef:S})};Po.displayName="EGDSNumberInputField",Po.fragment=Lo;var Mo=u.J1`
  fragment CarSearchFormDriverAgeCheckFragment on CarSearchFormDriverAgeCheck {
    __typename
    label
    driverAge {
      ...EGDSNumberInputFieldFragment
    }
    driverAgeRequired {
      ...EGDSCheckBoxFragment
    }
  }
  ${ca.fragment}
  ${Po.fragment}
`,No=({data:e,errorState:t,setFieldRefByTypename:a,getCheckboxState:l})=>{const{label:r,driverAge:i,driverAgeRequired:o}=e,[c,s]=n.useState("CHECKED"===o.state),{validations:d,__typename:u}=i,m=gl(t,u),p=c?(e=>{var t,a,n,l;const r=null==e?void 0:e.validations;if(m){if(null==r?void 0:r.ageRange)return null!=(a=null==(t=null==d?void 0:d.find((e=>"EGDSRangeInputValidation"===e.__typename)))?void 0:t.errorMessage)?a:"";if(!(null==r?void 0:r.ageRange))return null!=(l=null==(n=null==d?void 0:d.find((e=>"EGDSRequiredInputValidation"===e.__typename)))?void 0:n.errorMessage)?l:""}return""})(m):"";return n.createElement(n.Fragment,null,n.createElement(A.E,{size:7},r),n.createElement(v.E,{columns:{small:1,medium:["max-content","24x"]},space:"three"},n.createElement(v.a,null,n.createElement(ca,{onChange:e=>{s(e.target.checked),l(e.target.checked)},data:o})),n.createElement(v.a,null,n.createElement("div",null,n.createElement(Po,{data:i,errorMessage:p,disabled:!c,setFieldRefByTypename:a})))))};No.fragment=Mo,No.displayName="CarSearchFormDriverAgeCheck";var xo=u.J1`
  fragment RentalTypesSelectorFrament on EGDSBasicTabs {
    __typename
    ...EGDSBasicTabsFragment
  }
  ${zt.fragment}
`,Bo=e=>{const t=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL;return n.createElement(r.b,{margin:{blockend:t?"three":"six"}},n.createElement(f.i,{space:"three",alignItems:"start",wrap:"wrap"},n.createElement(f.j,{minWidth:t?"full_width":void 0},n.createElement("div",{"data-stid":"SearchFormRentalTypesSelector"},n.createElement(zt,Ee({},e))))))};Bo.fragment=xo,Bo.displayName="RentalTypesSelector";var $o=u.J1`
  fragment CarsSearchFormFragment on CarSearchForm {
    __typename
    egdsElementId
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    pickUpLocation {
      ...EGDSSearchFormLocationFieldFragment
      validations {
        __typename
      }
    }
    dropOffLocation {
      ...EGDSSearchFormLocationFieldFragment
      validations {
        __typename
      }
    }
    alternativeDropOffLocationLabel
    dates {
      ...EGDSSearchFormDatePickerFieldFragment
    }
    pickUpTime {
      ...EGDSSelectFragment
    }
    dropOffTime {
      ...EGDSSelectFragment
    }
    driverAgeCheck {
      ...CarSearchFormDriverAgeCheckFragment
    }
    specialRates {
      label
      discountCode {
        ...CarSearchFormDiscountCodeFragment
      }
      showAarpRate {
        ...EGDSPillFragment
      }
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
    localDateFormat
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    rentalTypes {
      ...RentalTypesSelectorFrament
    }
    searchLocation {
      ...SearchLocationFragment
    }
  }
  ${No.fragment}
  ${ze.fragment}
  ${Go.fragment}
  ${Ke.fragment}
  ${ya.fragment}
  ${Hi.fragment}
  ${Wi.fragment}
  ${Qa.fragment}
  ${Tr.fragment}
  ${Bo.fragment}
  ${yi}
`,{DATE_RANGE_PICKER:Wo,PICKUP_TIME:wo,DROPOFF_TIME:Uo}=so,Ho=e=>e?`${e.year}-${e.month}-${e.day}`:"",Vo=e=>{var t,a,l,i,o,c,s;const{onSubmit:u,onFieldChange:m,onOpenLocationField:p,data:y,redirectToSearchResultOnSubmit:_,autoOpenCalendar:S,autoOpenPlayback:E,autoSubmitOnFieldChange:g,stickyPlayback:h,criteria:D,lastSearchLatLong:T,hideDiscountCodes:C}=e,I=(0,$.useLocalization)(),{formatDateString:A}=I,{egdsElementId:F,actionURL:O,search:k,driverAgeCheck:G,errorSummary:R,specialRates:L,localDateFormat:P,playback:M,pickUpLocation:N,dropOffLocation:x,alternativeDropOffLocationLabel:B,dates:W,pickUpTime:w,dropOffTime:U,searchLocation:H}=y,[V,z]=n.useState(M),[Y,q]=n.useState({origin:null==N?void 0:N.value,destination:null==x?void 0:x.value}),[j,K]=n.useState({start:null!=(a=null==(t=w.options.find((e=>e.selected)))?void 0:t.label)?a:void 0,end:null!=(i=null==(l=U.options.find((e=>e.selected)))?void 0:l.label)?i:void 0}),[J,Q]=n.useState("EGDSOpenDatePickerAction"===(null==(o=null==W?void 0:W.action)?void 0:o.__typename)&&"EGDSDateRangePicker"===W.action.datePicker.__typename?`${Ho(W.action.datePicker.selectedStartDate)} - ${Ho(W.action.datePicker.selectedEndDate)}`:""),[X,Z]=n.useState(!1),ee=n.useRef(null),te=null!=F?F:"search-car-form",[ae,ne]=n.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null}),le={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},[re,ie]=n.useState(le),[oe,ce]=n.useState(!1),se=null==(s=null==(c=null==G?void 0:G.driverAge)?void 0:c.validations)?void 0:s.find((e=>"EGDSRangeInputValidation"===e.__typename)),de="EGDSRangeInputValidation"===(null==se?void 0:se.__typename)?se.min:void 0,ue="EGDSRangeInputValidation"===(null==se?void 0:se.__typename)?se.max:void 0,[me,pe]=n.useState(!E),ye=n.useCallback(((e,t)=>{var a;const n=hl(e,null==(a=t.current)?void 0:a.id);ne((e=>ge(Ee({},e),{[n]:t})))}),[]),_e=(e,t)=>{if(e.includes("car-rental")||e.includes("cars.cartrawler"))return void(window.location.href=((e,t)=>go(e,t,"pickupName","returnName"))(e,t));if(e.includes("rent-a-car"))return void(window.location.href=((e,t)=>go(e,t,"locn","loc2"))(e,t));const a=((e,t)=>{var a,n,l,r,i,o,c,s,d,u,m,p,y,_,S,E,g,h,v,D;const{pickUpLocation:f,pickUpDateTime:T,dropOffLocation:b,dropOffDateTime:C}=e.primary,I=encodeURIComponent(po(T)),A=encodeURIComponent(po(C)),F=mo(T,t)||I,O=mo(C,t)||A,k=yo(T),G=yo(C),R=`locn=${encodeURIComponent(null!=(a=f.searchTerm)?a:"")}&pickupIATACode=${null!=(n=f.airportCode)?n:""}&olat=${null!=(r=null==(l=f.coordinates)?void 0:l.latitude)?r:""}&olon=${null!=(o=null==(i=f.coordinates)?void 0:i.longitude)?o:""}&dpln=${null!=(c=f.regionId)?c:""}`,L=b?`loc2=${encodeURIComponent(null!=(s=b.searchTerm)?s:"")}&returnIATACode=${null!=(d=b.airportCode)?d:""}&dlat=${null!=(m=null==(u=b.coordinates)?void 0:u.latitude)?m:""}&dlon=${null!=(y=null==(p=b.coordinates)?void 0:p.longitude)?y:""}&drid1=${null!=(_=b.regionId)?_:""}`:"",P=`d1=${I}&d2=${A}&date1=${F}&date2=${O}`,M=`time1=${k}&time2=${G}`,N=null!=(g=null==(E=null==(S=e.secondary)?void 0:S.booleans)?void 0:E.filter((e=>"aarpcr"===e.id)).reduce(((e,{id:t,value:a})=>`${e}${t}=${a?"on":"off"}`),""))?g:"",x=null!=(D=null==(v=null==(h=e.secondary)?void 0:h.selections)?void 0:v.reduce(((e,{id:t,value:a})=>`${e}&${t}=${a}`),""))?D:"";let B=`${R}&${L}&${P}&${M}`;return N&&(B+=`&${N}`),x&&(B+=`${x}`),B})(t,{localDateFormat:P,formatDateString:A});window.location.href=`${e}?${a}`},Se=(e,t)=>{var a,n,l;const r=t?"origin":"destination",i=null!=(l=null!=(n=null==(a=null==e?void 0:e.data)?void 0:a.primaryText)?n:null==e?void 0:e.term)?l:"",o=ge(Ee({},Y),{[r]:i});q(o),z((e=>{var t,a,n,l,r,i,c;if(!e)return null;const{primary:s,primaryTemplate:d}=e,u=(null==(t=o.origin)?void 0:t.includes("("))?null==(a=o.origin)?void 0:a.split("(")[0].trim():null!=(l=null==(n=o.origin)?void 0:n.trim())?l:"",m=(null==(r=o.destination)?void 0:r.includes("("))?null==(i=o.destination)?void 0:i.split("(")[0].trim():null==(c=o.destination)?void 0:c.trim();if(!m)return ge(Ee({},e),{primary:ge(Ee({},s),{text:u})});const p=we(null==d?void 0:d.text,"origin",u),y=ge(Ee({},s),{text:we(p,"destination",m)});return ge(Ee({},e),{primary:y})}))},he={setFieldRefByTypename:ye},ve=ge(Ee({},he),{lastSearchLatLong:T,onOpenLocationField:p,searchLocationAnalytics:null==H?void 0:H.analytics,searchLocationContent:null==H?void 0:H.content}),De=N&&n.createElement("div",null,n.createElement(Wi,ge(Ee({},ve),{data:N,fieldError:re.fieldsWithErrors.find((e=>"EGDSSearchFormLocationFieldPickUp"===e.__typename)),onSelection:e=>Se(e,!0),onClearLocation:()=>Se(null,!0)}))),fe=x&&n.createElement("div",null,n.createElement(Wi,ge(Ee({},ve),{data:x,fieldError:re.fieldsWithErrors.find((e=>"EGDSSearchFormLocationFieldDropOff"===e.__typename)),alternativeLocationLabel:B,onSelection:e=>Se(e,!1),onClearLocation:()=>Se(null,!1),skipReflection:!0}))),Te=W&&n.createElement(Qa,ge(Ee(Ee({},e),he),{data:W,autoOpen:null!=S&&S})),be=w&&n.createElement("div",null,n.createElement(Tr,ge(Ee({fieldError:re.fieldsWithErrors.find((e=>"EGDSBasicSelectPickUp"===e.__typename))},he),{data:w}))),Ce=U&&n.createElement("div",null,n.createElement(Tr,ge(Ee({fieldError:re.fieldsWithErrors.find((e=>"EGDSBasicSelectDropOff"===e.__typename))},he),{data:U}))),Ie="EGDSSearchFormButton"===(null==k?void 0:k.__typename)&&n.createElement(v.E,{autoRows:["max-content"]},n.createElement(Ke,{data:k})),{displayErrorSummary:Ae,errorCount:Fe,errorLinkReference:Oe}=re,ke=!!G,Ge=(e=>{const{includesDriverAgeCheck:t,includeAarpRates:a,includeDiscountCodes:n}=e,{pickUpLocation:l,dropOffLocation:r,dates:i,pickUpTime:o,dropOffTime:c,driverAgeCheck:s,aarpRatesAndDiscountCodes:d,search:u}=Ro,m=a||n?d:".",p=t?s:".",y=[`${Wl(l,8)}`,`${Wl(r,8)}`,`${Wl(i,8)}`,`${Wl(o,4)} ${Wl(c,4)}`,..."."!==p?[`${Wl(p,8)}`]:[],..."."!==m?[`${Wl(m,6)} ${Wl(".",2)}`]:[],`${Wl(u,8)}`],_=[`${Wl(l,3)} ${Wl(r,3)}`,`${Wl(i,2)} ${Wl(o,2)} ${Wl(c,2)}`,..."."!==p?[`${Wl(p,2)} ${Wl(".",4)}`]:[],..."."!==m?[`${m} ${Wl(".",5)}`]:[],`${Wl(u,2)} ${Wl(".",4)}`],S=[`${Wl(l,4)} ${Wl(r,4)} ${Wl(i,4)} ${Wl(o,3)} ${Wl(c,3)} ${Wl(u,2)}`,..."."!==p?[`${Wl(p,3)} ${Wl(".",17)}`]:[],..."."!==m?[`${Wl(m,4)} ${Wl(".",16)}`]:[]];return ge(Ee({},{space:"three"}),{areas:{small:y,medium:_,large:S}})})({includeAarpRates:!!(null==L?void 0:L.showAarpRate)&&!C,includeDiscountCodes:!!(null==L?void 0:L.discountCode)&&!C,includesDriverAgeCheck:ke}),Re=(()=>{const{pickUpLocation:e,dropOffLocation:t,dates:a,pickUpTime:n,dropOffTime:l,driverAgeCheck:r,specialRatesHeading:i,aarpRatesAndDiscountCodes:o,search:c}=Ro;return{pickUpLocation:{area:e},dropOffLocation:{area:t},dates:{area:a},pickUpTime:{area:n},dropOffTime:{area:l},driverAgeCheck:{area:r},search:{area:c},specialRatesHeading:{area:i},aarpRatesAndDiscountCodes:{area:o}}})(),Le=n.createElement(b.E,{ref:ee,id:te,name:te,method:"GET",action:O,onFieldChange:(e,t)=>{var a,n,l;const{name:r,value:i}=e;m&&m(e,t),g&&(null==(a=ee.current)||a.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));const o=r===Wo,c=r===wo,s=r===Uo;if(o||c||s){const e=o?i:J,t=Ee({},j);o?Q(e):(c&&"EGDSBasicSelect"===(null==w?void 0:w.__typename)?t.start=null==(n=w.options.find((e=>e.value===i)))?void 0:n.label:s&&"EGDSBasicSelect"===(null==U?void 0:U.__typename)&&(t.end=null==(l=U.options.find((e=>e.value===i)))?void 0:l.label),K(t)),z((a=>{if(!a)return null;const[n]=a.secondaries;if("EGDSPlainText"===n.__typename){const l=ge(Ee({},n),{text:Tt(e,I,t)});return ge(Ee({},a),{secondaries:[l]})}return a}))}pe(!0)},hasRequiredFieldIndicator:!0,onSubmit:e=>{var t;const a=Array.from(e.currentTarget.elements),n={location:{origin:a.find(Al("pick_up_location"))},dates:{startDateInput:a.find(Al("EGDSDateRangePicker-StartDate-dates")),endDateInput:a.find(Al("EGDSDateRangePicker-EndDate-dates")),config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:a.find(Al("EGDSBasicSelect-drop_off_time")),pickup:a.find(Al("EGDSBasicSelect-pick_up_time"))},age:oe?{ageInput:a.find(Al("EGDSNumberInput-driver_age")),config:{min:de,max:ue}}:void 0},l=Cl(n),r=l.length;if(!(0===r))return ie({fieldsWithErrors:l,errorCount:r,displayErrorSummary:!0,errorLinkReference:ae[null==(t=l[0])?void 0:t.__typename]}),void e.preventDefault();if(ie(le),u||_){const t=(e=>{const t={day:0,hour:0,minute:0,month:0,second:0,year:0},a={primary:{pickUpLocation:{},pickUpDateTime:t,dropOffDateTime:t},secondary:{}};return Array.from(e.currentTarget.elements).filter((e=>e.name.startsWith("EGDS")||e.name.startsWith("Cars")||vo.includes(e.name))).reduce(Do,a)})(e),a=ge(Ee({},t),{secondary:t.secondary&&Object.keys(t.secondary).length>0?t.secondary:Ee({},null==D?void 0:D.secondary)});if(u&&u(e,{carSearchCriteria:a}),_){e.preventDefault();const{action:t}=e.currentTarget;_e(t,a)}}}},Ae&&R&&n.createElement(r.b,{margin:{block:"two"}},n.createElement("div",null,n.createElement(ze,{data:R,errorCount:Fe,inputErrorRef:Oe}))),n.createElement(v.E,Ee({},Ge),n.createElement(v.a,Ee({},Re.pickUpLocation),De),n.createElement(v.a,Ee({},Re.dropOffLocation),fe),n.createElement(v.a,Ee({},Re.dates),n.createElement("div",null,Te)),n.createElement(v.a,Ee({},Re.pickUpTime),n.createElement("div",null,be)),n.createElement(v.a,Ee({},Re.dropOffTime),n.createElement("div",null,Ce)),ke&&n.createElement(v.a,Ee({},Re.driverAgeCheck),n.createElement("div",null,n.createElement(No,{data:G,setFieldRefByTypename:ye,errorState:re,getCheckboxState:e=>{ce(e)}}))),!C&&n.createElement(v.a,Ee({},Re.aarpRatesAndDiscountCodes),n.createElement("div",null,n.createElement(f.i,{space:"three"},(null==L?void 0:L.showAarpRate)&&!C&&n.createElement(f.j,null,n.createElement("div",null,n.createElement(ya,{data:L.showAarpRate,active:X,onChange:()=>{Z(!X)}}))),(null==L?void 0:L.discountCode)&&!C&&n.createElement(f.j,null,n.createElement("div",null,n.createElement(Go,{data:L.discountCode})))))),Ie&&n.createElement(v.a,Ee({},Re.search),n.createElement("div",null,Ie))));return n.createElement(d.LM,null,n.createElement(d.NP,null,V?n.createElement(Hi,{data:V,stickyPlayback:h,display:me,onDisplayToggle:e=>{pe(e)}},Le):Le),n.createElement(d.rw,null,Le))};Vo.fragment=$o,Vo.displayName="CarsSearchForm";var zo={SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE")},Yo={linkName:"Cars Search Form Fallback Presented",referrerId:"Web.Cars.Search.Form.Fallback.Presented"},qo={linkName:"Cars Search Form Presented",referrerId:"Web.Cars.Search.Form.Presented"},jo=u.J1`
  query CarSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $carSearchCriteria: CarSearchCriteriaInput
    $includePlayback: Boolean = false
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      car(carSearchCriteria: $carSearchCriteria) {
        __typename
        ...CarsSearchFormFragment
      }
    }
  }
  ${Vo.fragment}
`,Ko={rows:[{type:"secondary"},{type:"primary"},{type:"primary"},{type:"primary"}]},Jo={rows:[{type:"secondary"},{type:"primary"}]},Qo=e=>{const{inputs:t,skipSsr:a,batchKey:l,includePlayback:r,skipQuery:i=!1,sticky:o,pageLocation:c}=e,{context:s}=(0,m.R)(),u=(0,p.useLoggerEvents)(zo),y=ge(Ee({},t),{context:s,includePlayback:Boolean(r),pageLocation:c}),{data:_,error:S,loading:h,previousData:v}=(0,g.I)(jo,{context:{batchKey:l},variables:y,ssr:!a,skip:i}),[D,f]=(0,n.useState)("car_search_form_rental_types_option_car");if(h&&!v)return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(We,Ee({},Ko))),n.createElement(d.rw,null,n.createElement(We,Ee({},Jo))));const T=null!=_?_:v;if(S||!T||"CarSearchForm"!==(null==T?void 0:T.searchForm.car.__typename))return u.SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE.log({name:null==S?void 0:S.name,error:new Error(null==S?void 0:S.message)}),n.createElement(Fe,null,n.createElement(E.ee,Ee({},Yo),n.createElement(Vo,ge(Ee({},e),{data:nr,criteria:t.carSearchCriteria}))));const b=n.createElement(n.Fragment,null,"CarSearchForm"===(null==T?void 0:T.searchForm.car.__typename)&&T.searchForm.car.rentalTypes&&n.createElement(Bo,{onTabSelected:e=>{f("car_search_form_rental_types_option_gt"===e?"car_search_form_rental_types_option_gt":"car_search_form_rental_types_option_car")},data:T.searchForm.car.rentalTypes}),"car_search_form_rental_types_option_car"===D?n.createElement("div",{id:"car_search_form_rental_types_option_car"},n.createElement(E.ee,Ee({},qo),n.createElement(Vo,ge(Ee({},e),{data:null==T?void 0:T.searchForm.car,criteria:t.carSearchCriteria})))):n.createElement("div",{id:"car_search_form_rental_types_option_gt"},n.createElement(co,{inputs:{groundTransportationSearchCriteria:null},redirectToSearchResultOnSubmit:!0})));return o?n.createElement("div",{"data-stid":"search-form-sticky"},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement("div",null,b)),n.createElement(d.rw,null,n.createElement(he,null,b)))):b};Qo.displayName="sharedui-CarsSearchForm";var Xo={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Activity.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Activity.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Zo={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Activity.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},ec={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Location selection",referrerId:"Web.Activity.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"ACTIVITIES",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:286,typeaheadFeatures:"consistent_display|lxcategory",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by destination",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Activity.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Activity.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},tc=new Date,ac=new Date(tc.getFullYear(),tc.getMonth(),tc.getDate()+14),nc=new Date(ac.getFullYear(),ac.getMonth(),ac.getDate()+1),lc=new Date(tc.getFullYear(),tc.getMonth(),tc.getDate()+328),rc=ac.getMonth()+1,ic=nc.getMonth()+1,oc={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"Dates",errorMessage:"End date must be after start date",validations:[{errorMessage:"Dates must be no more than 14 days apart",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Activity.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:14,sameDaySelectionAllowed:!0,selectedStartDate:{day:ac.getDate(),month:rc,year:ac.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:nc.getDate(),month:ic,year:nc.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:tc.getDate(),month:tc.getMonth(),year:tc.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:lc.getDate(),month:lc.getMonth(),year:lc.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"Calendar submit",referrerId:"Web.Activity.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Activity.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Activity.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"Calendar start",referrerId:"Web.Activity.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"Calendar end",referrerId:"Web.Activity.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},cc=u.J1`
  fragment EGDSPlainTextFragment on EGDSPlainText {
    text
  }
`,sc=({data:e,inline:t,size:a})=>n.createElement(A.c,{inline:t,size:a},e.text);sc.fragment=cc,sc.displayName="EGDSPlainText";var dc=u.J1`
  fragment EGDSSpannableTextInlineContentFragment on EGDSSpannableTextItem {
    ...EGDSPlainTextFragment
    ...EGDSStandardLinkFragment
  }

  ${sc.fragment}
  ${zn.fragment}
`,uc=({data:e,inline:t})=>{switch(e.__typename){case"EGDSPlainText":return n.createElement(sc,{data:e,inline:!0});case"EGDSStandardLink":return n.createElement(zn,{data:e});default:return null}};uc.fragment=dc,uc.displayName="EGDSSpannableTextInlineContent";var mc=u.J1`
  fragment EGDSSpannableTextFragment on EGDSSpannableText {
    text
    inlineContent {
      ...EGDSPlainTextFragment
      ...EGDSStandardLinkFragment
    }
    __typename
  }
  ${sc.fragment}
  ${zn.fragment}
`,pc=({data:e})=>{var t,a;return(null==(t=null==e?void 0:e.inlineContent)?void 0:t.length)?n.createElement("div",{"data-stid":"egds-spannable-text"},null==(a=null==e?void 0:e.inlineContent)?void 0:a.map(((e,t)=>n.createElement(n.Fragment,{key:`inline-content-${t}`},n.createElement(uc,{data:e})," ")))):null};pc.displayName="EGDSSpannableText",pc.fragment=ge(Ee({},mc),{__typename:"EGDSSpannableText"});var yc="EGDSSearchFormLocationField",_c=`${yc}-Location`,Sc=`${yc}-RegionId`,Ec=`${yc}-Lat`,gc=`${yc}-Long`,hc=`${yc}-Values`,vc=`${yc}-Selected`,Dc=`${yc}-AmenitiesFacilitiesGroup`,fc=`${yc}-LocGroup`,Tc=`${yc}-PropertiesGoodForGroup`,bc=`${yc}-PropertyTypeGroup`,Cc=`${yc}-PropertyId`,Ic=`${yc}-PropertyFilter`,Ac="EGDSSearchFormTravelersField",Fc=`${Ac}-Adult-Room`,Oc=`${Ac}-ChildrenAge-Room`,kc="EGDSSearchFormTravelersField",Gc=`${kc}-Adult`,Rc=`${kc}-ChildrenAge`,Lc=`${kc}-Pets`,Pc="SearchFormDurationSpanField",Mc=`${Pc}-Min`,Nc=`${Pc}-Max`,xc="EGDSBasicPill";function Bc(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,a,n]=e.split("-");return`${a}-${n}-${t}`}return e}var $c={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},Wc={LODGING:e=>{const t=e.reduce(((e,t)=>{const{name:a,value:n,checked:l}=t;if(a.startsWith(`${_c}-destination`))return ge(Ee({},e),{destination:encodeURIComponent(n)});if(a.startsWith(`${Sc}-destination`)&&"null"!==n)return ge(Ee({},e),{regionId:n});if(a.startsWith(`${Ec}-destination`)&&n)return ge(Ee({},e),{latLong:n});if(a.startsWith(`${gc}-destination`)&&n)return ge(Ee({},e),{latLong:`${e.latLong},${n}`});if(a.startsWith(`${Dc}-destination`)&&n)return ge(Ee({},e),{amenities_facilities_group:n});if(a.startsWith(`${fc}-destination`)&&n)return ge(Ee({},e),{location_group:n});if(a.startsWith(`${Tc}-destination`)&&n)return ge(Ee({},e),{properties_good_for_group:n});if(a.startsWith(`${bc}-destination`)&&n)return ge(Ee({},e),{property_type_group:n});if(a.startsWith(Ic)&&n){const t=a.split(`${Ic}-`).pop();return Ee(Ee({},e),t?{[t]:n}:{})}if(a.startsWith(Va.START_DATE_NAME_PREFIX))return ge(Ee({},e),{d1:n,startDate:n});if(a.startsWith(Va.END_DATE_NAME_PREFIX))return ge(Ee({},e),{d2:n,endDate:n});if(a.startsWith(Va.FLEXIBILITY_PREFIX))return ge(Ee({},e),{flexibility:n});if(a.startsWith(Va.FLEXIBILITY_NIGHTS_PREFIX))return ge(Ee({},e),{flexibility:n});if(a.startsWith(Va.FLEXIBILITY_WEEKEND_PREFIX))return ge(Ee({},e),{flexibleSearchRequirement:n});if(a.startsWith(Va.FLEXIBILITY_MONTHS_PREFIX))return ge(Ee({},e),{searchRange:n});if(a.startsWith(`${Cc}`))return ge(Ee({},e),{propertyId:n});if(a.startsWith(Fc)){const{adults:t}=e,a=t?`${t},${n}`:n,l=a.split(",").length;return ge(Ee({},e),{adults:a,rooms:l})}if(a.startsWith(Oc)){const{children:t}=e,l=`${a.substr(Oc.length,1)}_${n}`,r=t?`${t},${l}`:l;return ge(Ee({},e),{children:r})}if(a.startsWith(Gc))return ge(Ee({},e),{adults:n});if(a.startsWith(Rc)){const{children:t}=e,a=`${1}_${n}`,l=t?`${t},${a}`:a;return ge(Ee({},e),{children:l})}return a.startsWith(Lc)?Ee(Ee({},e),"CHECKED"===n&&{house_rules_group:"pets_allowed"}):a.startsWith(vc)?n?ge(Ee({},e),{selected:n}):Ee({},e):a.startsWith(`${_c}-origin`)?ge(Ee({},e),{origin:n}):a.startsWith("EGDSSoftPackagesPackageType")&&n.length>0?ge(Ee({},e),{packageType:n}):a.startsWith(`${xc}-add-flight`)||a.startsWith("add-flight-switch")?Ee(Ee({},e),l?{"add-flight-switch":l}:{}):a.startsWith(`${xc}-add-car`)||a.startsWith("add-car-switch")?Ee(Ee({},e),l?{"add-car-switch":l}:{}):e}),{});return`?${Object.keys(t).map((e=>{if(e.includes("flexibility")){return t[e].split(",").map((t=>`${e}=${t}`)).join("&")}if(e.includes("searchRange")){return t[e].split("/").map((t=>`${e}=${t}`)).join("&")}return`${e}=${t[e]}`})).join("&")}`},CRUISES_ODYSSEUS:e=>{const t=e.reduce(((e,{name:t,value:a})=>t.startsWith(hc)?ge(Ee({},e),{destinations:a}):t.startsWith(Va.START_DATE_NAME_PREFIX)?ge(Ee({},e),{startdate:Bc(a)}):t.startsWith(Va.END_DATE_NAME_PREFIX)?ge(Ee({},e),{enddate:Bc(a)}):t.startsWith(Mc)?ge(Ee({},e),{minduration:a}):t.startsWith(Nc)?ge(Ee({},e),{maxduration:a}):e),{});return`${Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}`},FLIGHTS:e=>{const t={from:"",to:"",departureDate:""},a={adults:0,seniors:0,childAges:[]},n=e.reduce(((e,{name:n,value:l})=>n.includes("flight_type_selector")?ge(Ee({},e),{trip:$c[l]}):n.includes("cabin_class")?ge(Ee({},e),{options:`cabinclass:${l}`}):n.startsWith(_c)&&n.includes("origin_select")?(t.from=l,e):n.startsWith(_c)&&n.includes("destination_select")?(t.to=l,e):n.startsWith(Va.START_DATE_NAME_PREFIX)?(t.departureDate=l,ge(Ee({},e),{fromDate:l})):n.startsWith(Gc)?(a.adults=+l,e):n.startsWith(Rc)?(a.childAges.push(l),e):e),{"flight-type":"on",mode:"search"}),l=a.childAges.length||0,r=l?`${l}[${a.childAges.join(";")}]`:l.toString();n.legs=[t],n.passengers=`children:${r},adults:${a.adults},seniors:0,infantinlap:Y`;return`?${Object.keys(n).map((e=>"legs"===e&&n.legs?n.legs.map(((e,t)=>`leg${t+1}=from:${e.from},to:${e.to},departure:${e.departureDate}TANYT`)).join("&"):`${e}=${n[e]}`)).join("&")}`},ACTIVITIES:e=>{const t=e.reduce(((e,{name:t,value:a})=>t.startsWith(_c)?ge(Ee({},e),{location:a}):t.startsWith(Sc)?ge(Ee({},e),{rid:a}):t.startsWith(Va.START_DATE_NAME_PREFIX)?ge(Ee({},e),{d1:a,startDate:a}):t.startsWith(Va.END_DATE_NAME_PREFIX)?ge(Ee({},e),{d2:a,endDate:a}):e),{});return`?${Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}`}},wc=(e,t)=>{const a=["EGDS","SearchForm","add"],n=t.filter((({name:e})=>a.find((t=>e.startsWith(t)))));return Wc[e](n)},Uc=(e=>(e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e))(Uc||{}),Hc=(e,{name:t,value:a})=>{var n,l;const{primary:r}=e;if(t.startsWith(`${Ei}-destination`))return{primary:ge(Ee({},r),{destination:ge(Ee({},r.destination),{regionName:a})})};if(t.startsWith(gi))return{primary:ge(Ee({},r),{destination:ge(Ee({},r.destination),{regionId:a})})};if(t.startsWith(vi)||t.startsWith(Di)){const e=t.startsWith(`${vi}`),n=e?Number(a):null,l=e?null:Number(a),i=n&&l?{latitude:n,longitude:l}:null;return{primary:ge(Ee({},r),{destination:ge(Ee({},r.destination),{coordinates:i})})}}const i=t.startsWith(Va.START_DATE_NAME_PREFIX),o=t.startsWith(Va.END_DATE_NAME_PREFIX);if(i||o){const[t,r,c]=a.split("-").map((e=>Number(e))),s={day:0,month:0,year:0},d={day:c,month:r,year:t};return{primary:ge(Ee({},e.primary),{dateRange:{startDate:i?d:(null==(n=e.primary.dateRange)?void 0:n.startDate)||s,endDate:o?d:(null==(l=e.primary.dateRange)?void 0:l.endDate)||s}})}}return Ee({},e)},Vc={grow:1,minWidth:"zero",maxWidth:"full_width"},zc={EGDSSearchFormLocationField:Vc,EGDSSearchFormDatePickerField:Vc,EGDSSearchFormButton:{grow:0},default:Vc},Yc={[d.OB.SMALL]:ge(Ee({},zc),{EGDSSearchFormLocationField:ge(Ee({},Vc),{minWidth:"full_width"}),EGDSSearchFormDatePickerField:{minWidth:"full_width"},EGDSSearchFormButton:{grow:1}}),[d.OB.MEDIUM]:ge(Ee({},zc),{EGDSSearchFormLocationField:ge(Ee({},Vc),{minWidth:"third_width"}),EGDSSearchFormDatePickerField:{grow:1,minWidth:"third_width"}}),[d.OB.LARGE]:zc,[d.OB.EXTRA_LARGE]:zc},qc=[Wi,Qa,Ke],jc=u.J1`
  fragment ActivitySearchFormFragment on ActivitySearchForm {
    __typename
    egdsElementId
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    elements {
      __typename
      ...EGDSSearchFormLocationFieldFragment
      ...EGDSSearchFormDatePickerFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
    subTitle {
      ...EGDSSpannableTextFragment
    }
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    searchLocation {
      ...SearchLocationFragment
    }
  }

  ${ze.fragment}
  ${Wi.fragment}
  ${Qa.fragment}
  ${Ke.fragment}
  ${Hi.fragment}
  ${pc.fragment}
  ${yi}
`,Kc=e=>{const{viewSize:t,fields:a,errorState:l,defaultValidationProps:r}=e;return n.createElement(f.i,{alignContent:"end",alignItems:"start",justifyContent:"center",wrap:"wrap",space:"three"},a.map(((a,i)=>{const{__typename:o}=a,c=qc.find((({displayName:e})=>e===o));if(!c)return null;const s=((e,t)=>{var a;const n=Yc[t];return null!=(a=n[e])?a:n.default})(o,t),d=l.fieldsWithErrors.find((e=>e.__typename===o)),u=ge(Ee({},r),{fieldError:d}),m=Ee(Ee({},e),u);return n.createElement(f.j,Ee({key:`field_${o}_${i}`},s),n.createElement("div",null,n.createElement(c,ge(Ee({},m),{data:a}))))})))},Jc=e=>{var t,a;const{data:l,onFieldChange:i,onSubmit:o,redirectToSearchResultOnSubmit:c,autoOpenPlayback:s,stickyPlayback:u,autoSubmitOnFieldChange:m,skipQuery:p}=e,y=(0,$.useLocalization)(),[_,S]=n.useState({EGDSSearchFormLocationField:null,EGDSSearchFormDatePickerField:null}),E=n.useRef(null),g={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},[h,v]=n.useState(g),{egdsElementId:D,elements:f,search:T,actionURL:C,errorSummary:I,playback:F,subTitle:O,searchLocation:k}=l,G=null!=D?D:"search-activity-form",R=T?[...f,T]:f,[L,P]=n.useState(!s),[M,N]=n.useState(F);n.useEffect((()=>{F&&!p&&N(F)}),[F,p]);const x={setFieldRefByTypename:n.useCallback(((e,t)=>{S((a=>ge(Ee({},a),{[e]:t})))}),[])},B=f.find((e=>"EGDSSearchFormDatePickerField"===e.__typename)),W="EGDSSearchFormDatePickerField"===(null==B?void 0:B.__typename)&&"EGDSOpenDatePickerAction"===(null==(t=B.action)?void 0:t.__typename)&&"EGDSDateRangePicker"===B.action.datePicker.__typename&&null!=(a=B.action.datePicker.maxNumberOfDaysSelected)?a:0,{displayErrorSummary:w,errorCount:U,errorLinkReference:H}=h,V=I&&w,z=ge(Ee({},e),{viewSize:d.OB.SMALL,fields:R,errorState:h,defaultValidationProps:x,searchLocationAnalytics:null==k?void 0:k.analytics,searchLocationContent:null==k?void 0:k.content});return n.createElement(b.E,{ref:E,id:G,name:G,method:"GET",action:C,onFieldChange:(e,t)=>{var a;i&&i(e,t),m&&(null==(a=E.current)||a.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))),N((t=>{const{DESTINATION:a,TRAVEL_DATES:n}=Uc,{name:l,value:r}=e,i=l===a,o=l===n;if(!t)return null;if(!o&&!i)return Ee({},t);const{primary:c,secondaries:s}=t,d=i?ge(Ee({},c),{text:r}):c,u=((e,t,a)=>{const n=t.length>1,l={__typename:"EGDSPlainText",accessibility:null,text:""};if(e){const e=Tt(a,y);return n?[ge(Ee({},l),{text:e}),t[1]]:[ge(Ee({},l),{text:e})]}return[...t]})(o,s,r);return ge(Ee({},t),{primary:d,secondaries:u})})),P(!0)},onSubmit:e=>{var t;v(g);const a=Array.from(e.currentTarget.elements),n={location:{destination:a.find(Al("destination_form_field"))},dates:{startDateInput:a.find(Al("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:a.find(Al("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:W,allowSameDateSelect:!0}}},l=Cl(n),r=l.length;if(!(0===r))return v({fieldsWithErrors:l,errorCount:r,displayErrorSummary:!0,errorLinkReference:_[null==(t=l[0])?void 0:t.__typename]}),void e.preventDefault();const i=Array.from(e.currentTarget.elements),s=(e=>e.filter((e=>e.name.startsWith("EGDS"))).reduce(Hc,{primary:{},secondary:{}}))(i);if(o&&o(e,{activitySearchCriteria:s}),c){e.preventDefault();const t=wc("ACTIVITIES",i);window.location.href=`${e.currentTarget.action}${t}`}},hasRequiredFieldIndicator:!0},O&&n.createElement(r.b,{padding:{blockend:"two"}},n.createElement(A.b,{tag:"p"},O?n.createElement(pc,{data:O}):"")),V&&n.createElement(ze,{data:I,errorCount:U,inputErrorRef:H}),n.createElement(r.b,{margin:{blockstart:V?"two":void 0}},n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,M?n.createElement(Hi,{data:M,stickyPlayback:u,display:L,onDisplayToggle:e=>{P(e)}},n.createElement(Kc,Ee({},z))):n.createElement(Kc,Ee({},z))),n.createElement(d.rw,null,n.createElement(Kc,ge(Ee({},z),{viewSize:d.OB.MEDIUM}))),n.createElement(d.zQ,null,n.createElement(Kc,ge(Ee({},z),{viewSize:d.OB.LARGE})))))))};Jc.fragment=jc,Jc.displayName="ActivitySearchForm";var Qc={SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE")},Xc={linkName:"Activity Search Form Fallback Presented",referrerId:"Web.Activity.Search.Form.Fallback.Presented"},Zc={linkName:"Activity Search Form Presented",referrerId:"Web.Activity.Search.Form.Presented"},es=u.J1`
  query ActivitySearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $activitySearchCriteria: ActivitiySearchCriteriaInput
    $includePlayback: Boolean = false
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      activity(activitySearchCriteria: $activitySearchCriteria) {
        __typename
        ...ActivitySearchFormFragment
      }
    }
  }

  ${Jc.fragment}
`,ts={rows:[{type:"primary"},{type:"primary"},{type:"primary"}]},as={rows:[{type:"primary"}]},ns=e=>{const{inputs:t,skipSsr:a,skipQuery:l=!1,batchKey:r,includePlayback:i,autoSubmitOnFieldChange:o,pageLocation:c}=e,{context:s}=(0,m.R)(),u=(0,p.useLoggerEvents)(Qc),y=ge(Ee({},t),{context:s,includePlayback:!!i,pageLocation:c}),{data:_,error:S,loading:h,previousData:v}=(0,g.I)(es,{context:{batchKey:r},variables:y,ssr:!a,skip:l}),D=null!=_?_:v;if(h&&!D)return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(We,Ee({},ts))),n.createElement(d.rw,null,n.createElement(We,Ee({},as))));if(S&&u.SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE.log({name:S.name,error:new Error(S.message)}),S||!D){const t={__typename:"ActivitySearchForm",egdsElementId:"activity-search-form",actionURL:"/things-to-do/search",errorSummary:Xo,elements:[ec,oc],search:Zo,playback:null,subTitle:null,searchLocation:Ql};if("ActivitySearchForm"===t.__typename)return n.createElement(Fe,null,n.createElement(E.ee,Ee({},Xc),n.createElement(Jc,ge(Ee({},e),{data:t}))))}return D&&"ActivitySearchForm"===D.searchForm.activity.__typename?n.createElement(E.ee,Ee({},Zc),n.createElement(Jc,ge(Ee({},e),{autoSubmitOnFieldChange:o,data:D.searchForm.activity}))):null};ns.displayName="sharedui-ActivitySearchForm";var ls={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location open",referrerId:"Web.Cruises.Destinations.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CRUISES",maxNumberOfResults:25,packageType:null,personalize:!1,regionType:null,typeaheadFeatures:null,isMultiLocation:!0,domain:"https://www.expedia.com",regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!0,allowExactMatch:!1,listTitle:!0,selectedItemHeading:"Selected destinations",clearAllText:"Clear all",dismissButtonText:"Done",__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Cruises.Destinations.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Cruises.Destinations.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},rs=new Date,is=new Date(rs.getFullYear(),rs.getMonth(),rs.getDate()+2),os=new Date(is.getFullYear(),is.getMonth(),is.getDate()+1),cs=new Date(is.getFullYear(),is.getMonth(),is.getDate()+1e3),ss={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Departing between",placeholder:"Departing between",errorMessage:null,validations:null,action:{accessibility:null,analytics:{linkName:"cruise date open",referrerId:"Web.Cruises.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!1,selectedStartDate:{day:is.getDate(),month:is.getMonth()+1,year:is.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check In",selectedEndDate:{day:os.getDate(),month:os.getMonth()+1,year:os.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check Out",validDaysLowerBoundInclusive:{day:is.getDate(),month:is.getMonth(),year:is.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:cs.getDate(),month:cs.getMonth(),year:cs.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"cruise date submit",referrerId:"Web.Cruises.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Cruises.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Cruises.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"cruise date start date click",referrerId:"Web.Cruises.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"cruise date end date click",referrerId:"Web.Cruises.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},ds={egdsElementId:"duration_span_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Cruises.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Cruises.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},us={__typename:"SearchFormDurationSpanField",egdsElementId:"duration_span_form_field",label:"Duration",labelTemplate:{__typename:"EGDSBasicLocalizedText",egdsElementId:"duration_span_form_field_label",models:[{key:"minNights",source:"minNights",__typename:"TemplateModel"},{key:"maxNights",source:"maxNights",__typename:"TemplateModel"}],template:"${minNights} – ${maxNights} nights",text:"3 – 9 nights"},leftIcon:{id:"access_time",__typename:"Icon"},action:{__typename:"OpenDurationSpanAction",analytics:{__typename:"ClientSideAnalytics",linkName:"Search form",referrerId:"Web.Cruises.Duration.Open"},durationSpan:{__typename:"DurationSpanSelector",egdsElementId:"duration_span_selector",title:"Duration",doneButton:{__typename:"UIPrimaryButton",egdsElementId:"duration_span_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Search form",referrerId:"Web.Cruises.Duration.Done",__typename:"ClientSideAnalytics"},action:null},closeButton:{__typename:"UITertiaryButton",egdsElementId:"duration_span_selector_close_button",primary:null,disabled:!1,accessibility:"Close duration dialog",icon:null,analytics:{linkName:"Search form",referrerId:"Web.Cruises.Duration.Close",__typename:"ClientSideAnalytics"},action:null},minDurationSpanLimit:{__typename:"EGDSNumberInputField",egdsElementId:"duration_span_selector_min_input",label:"Min nights",value:"3",placeholder:"Enter a number",errorMessage:"Change min nights",step:1,min:1,max:300},maxDurationSpanLimit:{__typename:"EGDSNumberInputField",egdsElementId:"duration_span_selector_max_input",label:"Max nights",value:"9",placeholder:"Enter a number",errorMessage:"Change max nights",step:1,min:1,max:300},validations:[{__typename:"DurationSpanInputValidation",errorMessage:"",type:"REQUIRED_VALUE",errorSummary:ds},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MINIMUM_VALUE",errorSummary:ds},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MAXIMUM_VALUE",errorSummary:ds},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MINIMUM_LESS_THAN_MAXIMUM",errorSummary:ds},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MAXIMUM_GREATER_THAN_MINIMUM",errorSummary:ds}]},accessibility:"Duration selector opened"}},ms={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Cruises.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},ps=(e,t)=>{const{min:a,max:n}=t;if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){const{template:t,models:l}=e;return((e,t,a)=>t.reduce(((e,t)=>{const{key:n}=t,l=`\${${n}}`,r=Number(a[n]).toString();return e.replace(l,r)}),e))(t,l,{[l[0].key]:a,[l[1].key]:n})}return""},ys=({minDurationInput:e,maxDurationInput:t,errorMessage:a,errorSummary:n,validationType:l,fieldUpdated:r})=>{const{value:i,min:o,max:c}=e,{value:s,min:d,max:u}=t;if(null===i||null===o||null===c||null===s||null===d||null===u)return null;const m=parseFloat(i),p=parseFloat(s),y={displayError:!1,message:a,validationType:l,errorType:"No Duration Input",errorCount:0,errorSummary:n},_=e=>m>p?ge(Ee({},y),{errorType:e,errorCount:1}):null;switch(l){case"REQUIRED_VALUE":{const e=Number.isNaN(m),t=Number.isNaN(p),a=Number(e)+Number(t);let n="No Duration Input";return a?(e&&t&&(n="Both Duration Inputs"),e&&!t&&(n="Minimum Duration Input"),!e&&t&&(n="Maximum Duration Input"),ge(Ee({},y),{errorType:n,errorCount:a})):null}case"MINIMUM_VALUE":{const e=m<o,t=p<d,a=Number(e)+Number(t);let n="No Duration Input";return a?(e&&t&&(n="Both Duration Inputs"),e&&!t&&(n="Minimum Duration Input"),!e&&t&&(n="Maximum Duration Input"),ge(Ee({},y),{errorType:n,errorCount:a})):null}case"MAXIMUM_VALUE":{const e=m>c,t=p>u,a=Number(e)+Number(t);let n="No Duration Input";return a?(e&&t&&(n="Both Duration Inputs"),e&&!t&&(n="Minimum Duration Input"),!e&&t&&(n="Maximum Duration Input"),ge(Ee({},y),{errorType:n,errorCount:a})):null}case"MINIMUM_LESS_THAN_MAXIMUM":return"MIN"===r?_("Minimum Duration Input"):null;case"MAXIMUM_GREATER_THAN_MINIMUM":return"MAX"===r?_("Maximum Duration Input"):null;default:return null}},_s=({minDurationInput:e,maxDurationInput:t,validations:a,currentError:n,fieldUpdated:l})=>{if(!a.length)return null;let r=null;for(let o=0;o<a.length;o+=1){const n=a[o];if("DurationSpanInputValidation"===n.__typename&&(null==n?void 0:n.errorSummary)){const{errorMessage:a,type:i,errorSummary:o}=n;if(r=ys({minDurationInput:e,maxDurationInput:t,errorMessage:a,errorSummary:o,validationType:i,fieldUpdated:l}),r)break}}if(!r)return null;const i=(null==n?void 0:n.validationType)===(null==r?void 0:r.validationType);if(i&&(null==n?void 0:n.displayError)){const{errorType:e,errorCount:t}=r;return ge(Ee({},n),{errorType:e,errorCount:t})}return!i&&(null==n?void 0:n.displayError)?ge(Ee({},r),{displayError:!0}):r},Ss=n.createContext({state:{}}),Es=(e,t)=>{switch(t.type){case"Update Minimum Value":{const{min:a}=t,{minDurationInput:n,maxDurationInput:l,validations:r,error:i}=e,o=ge(Ee({},n),{value:a}),c=_s({minDurationInput:o,maxDurationInput:l,currentError:i,validations:null!=r?r:[],fieldUpdated:"MIN"});return ge(Ee({},e),{error:c,minDurationInput:o})}case"Update Maximum Value":{const{max:a}=t,{minDurationInput:n,maxDurationInput:l,validations:r,error:i}=e,o=ge(Ee({},l),{value:a}),c=_s({minDurationInput:n,maxDurationInput:o,currentError:i,validations:null!=r?r:[],fieldUpdated:"MAX"});return ge(Ee({},e),{error:c,maxDurationInput:o})}case"Show Error Message":if(e.error){const t=ge(Ee({},e.error),{displayError:!0});return ge(Ee({},e),{error:t})}return e;case"Reset Duration Span State":return t.state;default:return e}},gs=({children:e,durationSpan:t})=>{const[a,l]=n.useReducer(Es,t,(e=>{const{minDurationSpanLimit:t,maxDurationSpanLimit:a,validations:n}=e;return{minDurationInput:t,maxDurationInput:a,validations:null!=n?n:[],error:null}}));return n.useMemo((()=>n.createElement(Ss.Provider,{value:{state:a,dispatch:l}},e)),[a,l])},hs=()=>n.useContext(Ss),vs=({minDurationSpanLimit:e,maxDurationSpanLimit:t,durationSpanLimits:a,error:l,handleErrorInputRefUpdate:i,handleChange:o})=>{var c,s,d,u,m,p,y,_,S,E,g,h,v;const D=null!=(c=null==l?void 0:l.errorType)?c:"No Duration Input",T="Minimum Duration Input"===D||"Both Duration Inputs"===D,b="Maximum Duration Input"===D||"Both Duration Inputs"===D,C=null==l?void 0:l.validationType,I=e=>{if(!e.errorMessage)return null==l?void 0:l.message;return"MINIMUM_VALUE"===C||"MAXIMUM_VALUE"===C||"REQUIRED_VALUE"===C?e.errorMessage:null==l?void 0:l.message},A=parseFloat(a.min),F=parseFloat(a.max),O=n.useRef(null),k=n.useRef(null),G={id:null!=(s=e.egdsElementId)?s:"duration_span_field_min_input",label:null!=(d=e.label)?d:"",min:null!=(u=e.min)?u:void 0,max:null!=(m=e.max)?m:void 0,placeholder:null!=(p=e.placeholder)?p:void 0,step:null!=(y=e.step)?y:void 0,value:Number.isNaN(A)?void 0:A,invalid:T?I(e):void 0,domRef:O},R={id:null!=(_=t.egdsElementId)?_:"duration_span_field_max_input",label:null!=(S=t.label)?S:"",min:null!=(E=t.min)?E:void 0,max:null!=(g=t.max)?g:void 0,placeholder:null!=(h=t.placeholder)?h:void 0,step:null!=(v=t.step)?v:void 0,value:Number.isNaN(F)?void 0:F,invalid:b?I(t):void 0,domRef:k};return T&&i(O),!T&&b&&i(k),n.createElement("section",null,n.createElement(r.b,{padding:{blockstart:"four",inline:"four"}},n.createElement(f.i,{wrap:"wrap"},n.createElement(r.b,{padding:{inlineend:"one"}},n.createElement(f.j,{minWidth:"half_width"},n.createElement("div",null,n.createElement(Z.E,ge(Ee({name:"min",hasBorder:!0,hasVisibleLabel:!0,onChange:o},G),{type:"number"}))))),n.createElement(r.b,{padding:{inlinestart:"one"}},n.createElement(f.j,{minWidth:"half_width"},n.createElement("div",null,n.createElement(Z.E,ge(Ee({name:"max",hasBorder:!0,hasVisibleLabel:!0,onChange:o},R),{type:"number"}))))))))},Ds=u.J1`
  fragment DurationSpanSelectorFragment on DurationSpanSelector {
    egdsElementId
    title
    doneButton {
      __typename
      ...EGDSPrimaryButtonFragment
    }
    closeButton {
      __typename
      ...EGDSTertiaryButtonFragment
    }
    minDurationSpanLimit {
      __typename
      ...DurationSpanLimitFragment
    }
    maxDurationSpanLimit {
      __typename
      ...DurationSpanLimitFragment
    }
    validations {
      __typename
      errorMessage
      ... on DurationSpanInputValidation {
        errorMessage
        type
        errorSummary {
          ...EGDSErrorSummaryFragment
        }
      }
    }
  }

  fragment DurationSpanLimitFragment on EGDSNumberInputField {
    egdsElementId
    label
    value
    placeholder
    errorMessage
    step
    min
    max
  }

  ${Za.fragment}
  ${tn.fragment}
  ${ze.fragment}
`,fs=({onSave:e,data:t})=>{var a,l;const{doneButton:i,minDurationSpanLimit:o,maxDurationSpanLimit:c}=t,s=(0,E.KY)(),{state:u,dispatch:m}=hs(),{minDurationInput:p,maxDurationInput:y,error:_}=u,[S,g]=n.useState(n.createRef()),[h,v]=n.useState({min:null!=(a=p.value)?a:"",max:null!=(l=y.value)?l:""});n.useEffect((()=>{var e,t;v({min:null!=(e=p.value)?e:"",max:null!=(t=y.value)?t:""})}),[p,y]);const D=()=>{if(_)m({type:"Show Error Message"});else{if("UIPrimaryButton"===i.__typename&&i.analytics){const{referrerId:e,linkName:t}=i.analytics;s(e,t)}_||e(u)}};return n.createElement(n.Fragment,null,(null==_?void 0:_.displayError)&&n.createElement(r.b,{padding:{blockstart:"three"}},n.createElement("div",null,n.createElement(ze,{data:_.errorSummary,errorCount:_.errorCount,inputErrorRef:S}))),n.createElement(vs,{minDurationSpanLimit:o,maxDurationSpanLimit:c,durationSpanLimits:h,error:_,handleErrorInputRefUpdate:e=>{g(e)},handleChange:e=>{const{name:t,value:a}=e.target;v(ge(Ee({},h),{[t]:a})),"min"!==t?"max"===t&&m({type:"Update Maximum Value",max:a}):m({type:"Update Minimum Value",min:a})}}),"UIPrimaryButton"===i.__typename&&n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(Q.E,{tag:"div",type:Q.a.BUTTON,color:Q.b.SECONDARY},n.createElement(Za,{isFullWidth:!0,onClick:D,data:i}))),n.createElement(d.rw,null,n.createElement(r.b,{padding:{blockstart:"six"}},n.createElement("div",null,n.createElement(Za,{isFullWidth:!0,onClick:D,data:i})))),n.createElement(d.zQ,null,n.createElement(r.b,{padding:{blockstart:"six"}},n.createElement(f.i,{justifyContent:"end"},n.createElement(f.j,null,n.createElement(Za,{isFullWidth:!1,onClick:D,data:i})))))))};fs.displayName="DurationSpanSelector",fs.fragment=Ds;var Ts="SearchFormDurationSpanField",bs=`${Ts}-Max`,Cs=`${Ts}-Min`,Is=({action:e,labelTemplate:t,egdsElementId:a="duration_form_field",label:l="",leftIconId:i="access_time"})=>{var o,s,u,m,p;const{analytics:y,durationSpan:_}=e,{closeButton:S,title:g}=_,{state:h,dispatch:v}=hs(),[D,f,T]=(0,w.useDialog)("duration-span-dialog"),C=(0,E.KY)(),I=n.useRef(null),[F,O]=n.useState(!1),[k,G]=n.useState(ge(Ee({},h),{durationSummary:t.text,shouldFireChangeEvent:!1})),R=(0,b.u)(_.__typename,(e=>e)),{durationSummary:L,shouldFireChangeEvent:P}=k;n.useEffect((()=>{P&&(G((e=>ge(Ee({},e),{shouldFireChangeEvent:!1}))),Xe(L,R))}),[L,P,R]);const M=(e,a)=>{const n=ps(t,a);G(ge(Ee({},e),{durationSummary:n,shouldFireChangeEvent:!0}))};return"UITertiaryButton"!==S.__typename?null:n.createElement(n.Fragment,null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(Z.g,{id:`${a}_input`,name:`${a}_input`,label:l,value:L,icon:i,onClick:()=>{const{referrerId:e,linkName:t}=y;C(e,t),f.openDialog()},domRef:I}),n.createElement(V.h,{isVisible:D},n.createElement(T,null,n.createElement(V.e,{type:"full",triggerRef:I,autoFocus:!0,isVisible:!0,returnFocusOnClose:!0},n.createElement(c.b,{id:`${a}_dialog_toolbar`,toolbarType:"standard",toolbarTitle:g,toolbarTitleTag:"h2",navigationContent:{onClick:()=>{var e,t,a;if("UITertiaryButton"===S.__typename&&S.analytics){const{referrerId:e,linkName:t}=S.analytics;C(e,t)}if(h.error)return void v({type:"Show Error Message"});const{minDurationInput:n,maxDurationInput:l}=h;M(h,{min:null!=(e=n.value)?e:"",max:null!=(t=l.value)?t:""}),v({type:"Reset Duration Span State",state:h}),null==(a=I.current)||a.focus(),f.closeDialog()},navIconLabel:null!=(o=null==S?void 0:S.accessibility)?o:void 0,navType:"close"}}),n.createElement(V.f,{padded:!1},n.createElement(b.E,{hasRequiredFieldIndicator:!0},n.createElement(fs,{onSave:e=>{var t,a,n;const{minDurationInput:l,maxDurationInput:r}=e;M(e,{min:null!=(t=null==l?void 0:l.value)?t:"",max:null!=(a=null==r?void 0:r.value)?a:""}),null==(n=I.current)||n.focus(),f.closeDialog()},data:_})))))))),n.createElement(d.rw,null,n.createElement(ee.E,{isOpen:F,onDismiss:()=>{var e,t,a;if(h.error)return O((e=>!e)),void v({type:"Show Error Message"});const{minDurationInput:n,maxDurationInput:l}=h;M(h,{min:null!=(e=n.value)?e:"",max:null!=(t=l.value)?t:""}),v({type:"Reset Duration Span State",state:h}),null==(a=I.current)||a.focus()},onTriggerClick:()=>{O((e=>!e))}},n.createElement(ee.b,null,n.createElement(Z.g,{id:`${a}_input`,name:`${a}_input`,label:l,value:L,icon:i,onClick:()=>{const{referrerId:e,linkName:t}=y;C(e,t)},domRef:I})),n.createElement(ee.c,{autoPosition:!0,position:ee.P.RIGHT,width:375},n.createElement(r.b,{padding:{inline:"four"}},n.createElement("div",{"data-stid":"duration-span-menu"},n.createElement(r.b,{padding:{blockstart:"three"}},n.createElement(A.E,{size:5,tag:"h5"},g)),n.createElement(fs,{onSave:e=>{var t,a,n;const{minDurationInput:l,maxDurationInput:r}=e;M(e,{min:null!=(t=l.value)?t:"",max:null!=(a=r.value)?a:""}),O((e=>!e)),null==(n=I.current)||n.focus()},data:_}))))))),n.createElement("input",{type:"hidden","data-stid":bs,name:`${bs}-${a}`,value:null!=(u=null==(s=k.maxDurationInput)?void 0:s.value)?u:""}),n.createElement("input",{type:"hidden","data-stid":Cs,name:`${Cs}-${a}`,value:null!=(p=null==(m=k.minDurationInput)?void 0:m.value)?p:""}))},As=u.J1`
  fragment SearchFormDurationSpanFieldFragment on SearchFormDurationSpanField {
    __typename
    egdsElementId
    label
    labelTemplate {
      ...TemplateEGDSBasicLocalizedTextFragment
    }
    leftIcon {
      id
    }
    action {
      __typename
      ...OpenDurationSpanActionFragment
    }
  }

  fragment TemplateEGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {
    __typename
    egdsElementId
    models {
      key
      source
    }
    template
    text
  }

  fragment OpenDurationSpanActionFragment on OpenDurationSpanAction {
    __typename
    analytics {
      __typename
      linkName
      referrerId
    }
    durationSpan {
      __typename
      ...DurationSpanSelectorFragment
    }
    accessibility
  }

  ${fs.fragment}
`,Fs=({data:e})=>{const{egdsElementId:t,label:a,labelTemplate:l,leftIcon:r,action:i}=e;return"OpenDurationSpanAction"!==(null==i?void 0:i.__typename)||"EGDSBasicLocalizedText"!==(null==l?void 0:l.__typename)?null:n.createElement(gs,{durationSpan:i.durationSpan},n.createElement(Is,{egdsElementId:t,label:null!=a?a:"",labelTemplate:l,leftIconId:null==r?void 0:r.id,action:i}))};Fs.displayName="SearchFormDurationSpanField",Fs.fragment=As;var Os=(e=>(e.DESTINATION="destination_form_field",e.DATES="EGDSDateRangePicker",e.DURATION="DurationSpanSelector",e))(Os||{}),ks=(e,t,a)=>{const[n,l]=a.split("-"),r={[t[0].key]:n,[t[1].key]:l};return t.reduce(((e,t)=>{const{key:a}=t,n=`\${${a}}`;return e.replace(n,r[a])}),e)},Gs=(e,t,a)=>{const[n,l]=a.split("–"),r=1===Number(l)?e[Number(l)].template:e[4].template;return ks(r,t,`${n} - ${l}`)},Rs={grow:5,minWidth:200,maxWidth:"full_width"},Ls={EGDSSearchFormLocationField:{minWidth:200,maxWidth:288,grow:5},EGDSSearchFormDatePickerField:Rs,SearchFormDurationSpanField:Rs,EGDSSearchFormButton:{grow:0},default:Rs},Ps={[d.OB.SMALL]:ge(Ee({},Ls),{EGDSSearchFormLocationField:Rs,EGDSSearchFormButton:{grow:1,minWidth:315},default:Rs}),[d.OB.MEDIUM]:ge(Ee({},Ls),{EGDSSearchFormLocationField:{minWidth:160,grow:5},EGDSSearchFormDatePickerField:{minWidth:160,grow:5},SearchFormDurationSpanField:{minWidth:150,grow:5},EGDSSearchFormButton:{grow:0,minWidth:32}}),[d.OB.LARGE]:Ee({},Ls),[d.OB.EXTRA_LARGE]:Ls},Ms=[Wi,Qa,Fs,Ke],Ns=u.J1`
  fragment CruiseSearchFormFragment on CruiseSearchForm {
    __typename
    egdsElementId
    actionURL
    elements {
      __typename
      ...EGDSSearchFormLocationFieldFragment
      ...EGDSSearchFormDatePickerFieldFragment
      ...SearchFormDurationSpanFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    searchLocation {
      ...SearchLocationFragment
    }
    expertAdviceInfo @skip(if: $skipExpertAdviceInfo)
  }

  ${Wi.fragment}
  ${Qa.fragment}
  ${Ke.fragment}
  ${Fs.fragment}
  ${Hi.fragment}
  ${yi}
`,xs={[Wi.displayName]:{}},Bs=({viewSize:e,fields:t,searchLocationContent:a})=>n.createElement(f.i,{alignContent:"end",alignItems:"start",justifyContent:"center",wrap:"wrap",space:"three"},t.map(((t,l)=>{const{__typename:r}=t,i=Ms.find((({displayName:e})=>e===r));if(!i)return null;const o=((e,t)=>{var a;const n=Ps[t];return null!=(a=n[e])?a:n.default})(r,e),c=ge(Ee({},xs[r]),{searchLocationContent:a,setFieldRefByTypename:()=>{}});return n.createElement(f.j,Ee({key:`field_${r}_${l}`},o),n.createElement("div",null,n.createElement(i,Ee({data:t},c))))}))),$s=e=>{const{data:t,onFieldChange:a,triggerSubmitOnFieldChange:l}=e,i=(0,$.useLocalization)(),o=n.useRef(null),{egdsElementId:c,elements:s,search:u,actionURL:m,playback:p,expertAdviceInfo:y,searchLocation:_}=t,[S,E]=n.useState(p),[g,h]=n.useState(!0);n.useEffect((()=>{E(p)}),[p]);const v=null!=c?c:"cruise_search_form",D={fields:u?[...s,u]:s,searchLocationAnalytics:null==_?void 0:_.analytics,searchLocationContent:null==_?void 0:_.content};return n.createElement(b.E,{ref:o,id:v,name:v,method:"GET",action:m,onFieldChange:(e,t)=>{var n;a&&a(e,t),l&&(null==(n=o.current)||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))),E((t=>{if(!t)return null;const{DESTINATION:a,DATES:n,DURATION:l}=Os,{primary:r,secondaries:o}=t,c=e.value,s=e.name===a?ge(Ee({},r),{text:c}):r,[d,u]=o,m=e.name===n&&"EGDSBasicLocalizedText"===d.__typename?ge(Ee({},d),{text:Tt(c,i),template:d.template,accessibilityTemplate:ks(d.template,d.models,Tt(c,i)),models:d.models,egdsElementId:d.egdsElementId}):d,p=e.name===l&&"EGDSCardinalLocalizedText"===u.__typename?ge(Ee({},u),{text:c,accessibilityText:Gs(u.templates,u.models,c.substring(0,c.lastIndexOf(" "))),models:u.models,templates:u.templates,egdsElementId:u.egdsElementId}):u;return ge(Ee({},t),{primary:s,secondaries:[m,p]})}))},onSubmit:e=>{e.preventDefault();const t=Array.from(e.currentTarget.elements),a=wc("CRUISES_ODYSSEUS",t),n=e.currentTarget.action.includes("?")?"&":"?";window.location.href=`${e.currentTarget.action}${n}${a}`},hasRequiredFieldIndicator:!0},y&&n.createElement(r.b,{padding:{blockend:"two"}},n.createElement(A.b,{tag:"p"},y)),n.createElement(r.b,null,n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,S?n.createElement(Hi,{data:S,display:g,onDisplayToggle:e=>{h(e)}},n.createElement(Bs,Ee({viewSize:d.OB.SMALL},D))):n.createElement(Bs,Ee({viewSize:d.OB.SMALL},D))),n.createElement(d.rw,null,n.createElement(Bs,Ee({viewSize:d.OB.MEDIUM},D))),n.createElement(d.zQ,null,n.createElement(Bs,Ee({viewSize:d.OB.LARGE},D)))))))};$s.fragment=Ns,$s.displayName="CruiseSearchForm";var Ws={SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE")},ws={linkName:"Cruises Search Form Fallback Presented",referrerId:"Web.Cruises.Search.Form.Fallback.Presented"},Us={linkName:"Cruises Search Form Presented",referrerId:"Web.Cruises.Search.Form.Presented"},Hs=u.J1`
  query CruiseSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $cruiseSearchCriteriaInput: CruiseSearchCriteriaInput
    $includePlayback: Boolean = false
    $skipExpertAdviceInfo: Boolean = false
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      cruise(cruiseSearchCriteria: $cruiseSearchCriteriaInput) {
        __typename
        ...CruiseSearchFormFragment
      }
    }
  }

  ${$s.fragment}
`,Vs={rows:[{type:"primary"},{type:"primary"},{type:"primary"}]},zs={rows:[{type:"primary"}]},Ys=e=>{const{inputs:t,skipSsr:a,onFieldChange:l,triggerSubmitOnFieldChange:r,batchKey:i,includePlayback:o,skipQuery:c=!1,pageLocation:s}=e,{context:u}=(0,m.R)(),y=(0,p.useLoggerEvents)(Ws),_=ge(Ee({},t),{context:u,includePlayback:!!o,pageLocation:s}),[S,h]=n.useState(c),v=(0,g.I)(Hs,{context:{batchKey:i},variables:_,ssr:!a,skip:S}),{error:D,loading:f,previousData:T}=v;let{data:b}=v;if(n.useEffect((()=>{h(c&&!f)}),[c,f]),f&&!b)return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(We,Ee({},Vs))),n.createElement(d.rw,null,n.createElement(We,Ee({},zs))));if(!b&&T&&(b=T),D&&y.SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE.log({name:D.name,error:new Error(D.message)}),D||!b){const e={__typename:"CruiseSearchForm",egdsElementId:"cruise_search_form",actionURL:"/swift/cruise?siid=1207601",elements:[ls,ss,us],search:ms,playback:null,expertAdviceInfo:"For expert cruise advice, call 1-800-916-8586.",searchLocation:Ql};if("CruiseSearchForm"===e.__typename)return n.createElement(Fe,null,n.createElement(E.ee,Ee({},ws),n.createElement($s,{data:e,onFieldChange:l,triggerSubmitOnFieldChange:r})))}return b&&"CruiseSearchForm"===b.searchForm.cruise.__typename?n.createElement(E.ee,Ee({},Us),n.createElement($s,{data:b.searchForm.cruise,onFieldChange:l,triggerSubmitOnFieldChange:r})):null};Ys.displayName="sharedui-CruiseSearchForm";var qs={egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.package.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.package.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.package.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.package.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.package.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"},js=e=>({__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-car",primary:"Car",selected:e,selectedText:"Car added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.car.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.car.deselected",__typename:"ClientSideAnalytics"}}),Ks=e=>({__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-flight",primary:"Flight",selected:e,selectedText:"Flight added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.flight.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.flight.deselected",__typename:"ClientSideAnalytics"}}),Js=e=>({__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-stay",primary:"Stay",selected:e,selectedText:"Stay added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.stay.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.stay.deselected",__typename:"ClientSideAnalytics"}}),Qs=[{__typename:"EGDSSearchFormLocationsField"},{__typename:"EGDSSearchFormDatePickerField"},{__typename:"EGDSSearchFormTravelersField"}],Xs=new Map([["FLIGHT_HOTEL",{car:js(!1),flight:Ks(!0),stay:Js(!0),__typename:"PackagesSearchFormSelection"}],["FLIGHT_CAR",{car:js(!0),flight:Ks(!0),stay:Js(!1),__typename:"PackagesSearchFormSelection"}],["FLIGHT_HOTEL_CAR",{car:js(!0),flight:Ks(!0),stay:Js(!0),__typename:"PackagesSearchFormSelection"}],["HOTEL_CAR",{car:js(!0),flight:Ks(!1),stay:Js(!0),__typename:"PackagesSearchFormSelection"}]]),Zs=["stay","flight","car"],ed=[{stay:!0,flight:!0,car:!0,type:"FLIGHT_HOTEL_CAR"},{stay:!0,flight:!0,car:!1,type:"FLIGHT_HOTEL"},{stay:!1,flight:!0,car:!0,type:"FLIGHT_CAR"},{stay:!0,flight:!1,car:!0,type:"HOTEL_CAR"}],td=u.J1`
  fragment PackagesSearchFormSelectionFragment on PackagesSearchFormSelection {
    car {
      ...EGDSPillFragment
    }
    flight {
      ...EGDSPillFragment
    }
    stay {
      ...EGDSPillFragment
    }
  }

  ${ya.fragment}
`,ad=e=>{var t,a;const{data:l,onPackageTypeChange:r}=e,{car:i,flight:o,stay:c}=l,s={stay:!!(null==c?void 0:c.selected),flight:!!(null==o?void 0:o.selected),car:!!(null==i?void 0:i.selected)},[,d]=n.useState(ge(Ee({},s),{type:null!=(a=null==(t=ed.find((e=>Zs.every((t=>e[t]===s[t])))))?void 0:t.type)?a:null})),u=e=>{const{name:t,checked:a}=e.target,n=t.split("package-type-selector-")[1];d((e=>{var t,l;const i=ge(Ee({},e),{[n]:a}),o=null!=(l=null==(t=ed.find((e=>Zs.every((t=>e[t]===i[t])))))?void 0:t.type)?l:null;return null==r||r(o),ge(Ee({},i),{type:o})}))};if(!c||!o)return null;const m=i?[c,o,i]:[c,o];return n.createElement(n.Fragment,null,m.map((e=>n.createElement(ya,{key:e.name,data:e,onChange:u}))))};ad.displayName="PackagesSearchFormSelection",ad.fragment=td;var nd=u.J1`
  query PackagesOptionsQuery(
    $context: ContextInput!
    $packageSearchCriteria: PackageSearchCriteriaInput
    $packageShoppingCriteria: ProductShoppingCriteriaInput
    $packageType: PackageType
    $includePackageType: Boolean = false
  ) {
    searchForm(context: $context) {
      packages(packageSearchCriteria: $packageSearchCriteria, packageShoppingCriteria: $packageShoppingCriteria, packageType: $packageType) {
        __typename
        ... on PackagesSearchForm {
          packageSelection @include(if: $includePackageType) {
            ...PackagesSearchFormSelectionFragment
          }
          directFlightsOnly {
            ...EGDSPillFragment
          }
        }
        elements {
          ...EGDSSearchFormInputFieldFragment
        }
      }
    }
  }

  ${ad.fragment}
  ${cn.fragment}
  ${ya.fragment}
`,ld=e=>{var t;const{inputs:a,skipSsr:l,batchKey:i,onFieldChange:o,onCabinClassSelect:c,onPackageTypeChange:s,handleDirectFlightsOnlySwitch:d,showCabinClass:u,showDirectFlightsOnly:p,skipQuery:y}=e,{includePackageType:_,packageType:S}=a,{context:E}=(0,m.R)(),h=ge(Ee({},a),{context:E}),{data:v,error:D,loading:C,previousData:I}=(0,g.I)(nd,{context:{batchKey:i},variables:h,ssr:!l,skip:y});let A=I||v;if(n.useEffect((()=>{var e,t;if(c){const a="PackagesSearchForm"===(null==A?void 0:A.searchForm.packages.__typename)?A.searchForm.packages.elements.find((e=>{var t;return"EGDSSearchFormInputField"===e.__typename&&"EGDSSearchFormSelectAction"===(null==(t=e.action)?void 0:t.__typename)})):null;if("EGDSSearchFormInputField"===(null==a?void 0:a.__typename)&&"EGDSSearchFormSelectAction"===(null==(e=a.action)?void 0:e.__typename)){const e=`${ln}-${a.egdsElementId}`,n=a.action.options.find((e=>e.selected));c({name:e,value:null!=(t=null==n?void 0:n.value)?t:""})}}}),[null==A?void 0:A.searchForm,c]),n.useEffect((()=>{var e;const{packages:t}=null!=(e=null==A?void 0:A.searchForm)?e:{};"PackagesSearchForm"===(null==t?void 0:t.__typename)&&t.directFlightsOnly&&d&&d(t.directFlightsOnly.selected)}),[null==A?void 0:A.searchForm,d]),C&&!A)return n.createElement(r.b,{padding:{blockstart:"three",blockend:"three"}},n.createElement("div",null,n.createElement(T.b,{animation:!0,type:"secondary"})));if(!D&&A||(A=((e,t)=>{let a=null,n=[...Qs];return t&&e&&(a=Xs.get(e)||null),e&&"HOTEL_CAR"!==e&&(n=[...Qs,qs]),{searchForm:{packages:{__typename:"PackagesSearchForm",packageSelection:a,elements:n,directFlightsOnly:null},__typename:"SearchFormResults"}}})(S,_)),"PackagesSearchForm"!==(null==(t=null==A?void 0:A.searchForm)?void 0:t.packages.__typename))return null;const{elements:F}=A.searchForm.packages,{directFlightsOnly:O}=A.searchForm.packages;return n.createElement(r.b,{padding:{blockend:"three"}},n.createElement(f.i,{space:"two",wrap:"wrap"},_&&A.searchForm.packages.packageSelection&&n.createElement(f.j,null,n.createElement(b.E,{onFieldChange:(e,t)=>{null==o||o(e,t)},"data-stid":"package-type-selector"},n.createElement(ad,ge(Ee({},e),{data:A.searchForm.packages.packageSelection,onPackageTypeChange:s})))),u&&n.createElement(f.j,null,n.createElement("div",null,n.createElement(b.E,{onFieldChange:e=>{null==c||c(e)}},F.map(((e,t)=>"EGDSSearchFormInputField"===e.__typename&&n.createElement(cn,{key:t,data:e,triggerType:"pill"})))))),O&&p&&n.createElement(f.j,null,n.createElement("div",null,n.createElement(ya,{data:O,onChange:e=>{null==d||d(e.target.checked)}})))))};ld.displayName="sharedui-PackagesOptions";var rd=[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],id=[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],od=[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],cd={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Packages.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:rd,__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},sd={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Packages.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},dd={noSelectionMessage:{body:"To start building your trip, choose two or more items",heading:"Please select two or more items",icon:{id:"search",title:null,token:"icon__search",description:"search",size:null,__typename:"Icon"},__typename:"UIEmptyState"},__typename:"PackagesSearchFormSelection"},ud=new Map([["FLIGHT_CAR","fc"],["FLIGHT_HOTEL_CAR","fhc"],["FLIGHT_HOTEL","fh"],["HOTEL_CAR","hc"]]),md=(e="HOTEL_CAR")=>({__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.package.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Packages.Search",drivable:!1,isDestination:!0,lineOfBusiness:"PACKAGES",maxNumberOfResults:8,packageType:ud[e]||"hc",personalize:!0,regionType:863,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:ud[e]||"hc",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.package.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.package.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null}),pd=e=>({__typename:"EGDSSearchFormLocationsField",egdsElementId:"locations",origin:{__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select an origin",validations:[{errorMessage:"Please select an origin",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.package.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Packages.Search",drivable:!1,isDestination:!1,lineOfBusiness:"PACKAGES",maxNumberOfResults:8,packageType:ud.get(e)||"hc",personalize:!0,regionType:863,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:ud.get(e)||"hc",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.package.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.package.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:md(e),horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"package.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"package.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}]}),yd=new Date,_d=new Date(yd.getFullYear(),yd.getMonth(),yd.getDate()+14),Sd=new Date(_d.getFullYear(),_d.getMonth(),_d.getDate()+1),Ed=new Date(yd.getFullYear(),yd.getMonth(),yd.getDate()+332),gd=new Date(yd.getFullYear(),yd.getMonth(),yd.getDate()+2),hd=_d.getMonth()+1,vd=Sd.getMonth()+1,Dd={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date-range-select",label:"Dates",placeholder:"Dates",errorMessage:"Please select valid dates",validations:[{errorMessage:"Dates must be no more than 29 days apart",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"},{__typename:"EGDSSameValueInputValidation"}],action:{accessibility:null,analytics:{linkName:"Packages - Calendar Selection",referrerId:"Web.packages.calendar.selection",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:_d.getDate(),month:hd,year:_d.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:Sd.getDate(),month:vd,year:Sd.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:gd.getDate(),month:gd.getMonth(),year:gd.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:Ed.getDate(),month:Ed.getMonth(),year:Ed.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"Packages - Calendar Submit",referrerId:"Web.packages.calendar.submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Packages.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Packages.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"Packages - Calendar Start Date",referrerId:"Web.packages.calendar.start.date.click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"Packages - Calendar End Date",referrerId:"Web.packages.calendar.end.date.click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},fd={__typename:"EGDSSearchFormInputField",egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.package.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.package.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.package.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.package.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.package.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"}},Td=[{errorMessage:"We allow up to 6 travelers per booking.",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for each infant in a lap.",maxCount:null,type:"MANY_INFANT_ON_LAP",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for each infant in a lap.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Packages.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:rd,__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",maxCount:null,type:"MANY_INFANT_IN_SEAT",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],bd=(e,t)=>({label:t||e,value:e,egdsElementId:null,changeAnalytics:{linkName:"Travelers age update",referrerId:`Web.Packages.Traveler.Child.Update.Age.${e}`,__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"}),Cd={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:null,primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers add room",referrerId:"Web.Packages.Traveler.Add.Room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Packages.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Packages.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},infantSeatSelection:{airlineAgeRule:{text:"Airline age rules",action:{accessibility:null,target:"INTERNAL",resource:{value:"https://www.expedia.com/p/info-main/h_fw_default%3Frhtx=HTX_FLTSRCH_RT%23travs",__typename:"HttpURI"},analytics:{linkName:"Packages - Airline Age Rules",referrerId:"Web.packages.airline.age.rules",__typename:"ClientSideAnalytics"},__typename:"UILinkAction"},icon:null,iconPosition:null,__typename:"EGDSStandardLink",egdsElementId:null},groupName:"InfantSeating",labelTemplate:{text:"Where will the infants sit?",models:[{key:"infantCount",source:"infantCount",__typename:"TemplateModel"}],templates:[{category:"ONE",template:"Where will the infant sit?",__typename:"CardinalTemplate"},{category:"OTHER",template:"Where will the infants sit?",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},options:[{label:"On lap",value:"lap",__typename:"EGDSInfantSeatRadioButton"},{label:"In seat",value:"seat",__typename:"EGDSInfantSeatRadioButton"}],selected:"lap",__typename:"EGDSTravelerInfantSeatSelection"},maxRoomCount:6,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults in this room",decreaseTextTemplate:null,increaseText:"Increase the number of adults in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children in this room",decreaseTextTemplate:null,increaseText:"Increase the number of children in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_child_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[bd("2"),bd("3"),bd("4"),bd("5"),bd("6"),bd("7"),bd("8"),bd("9"),bd("10"),bd("11"),bd("12"),bd("13"),bd("14"),bd("15"),bd("16"),bd("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants in this room",decreaseTextTemplate:null,increaseText:"Increase the number of infants in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_infant_step_input",__typename:"EGDSTravelerStepInput",label:"Infants",max:5,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},removeRoomButton:{egdsElementId:null,primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Packages.Traveler.Remove.Room",referrerId:"Web.Travelers remove room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],title:"Travelers",validations:Td,__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:od,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:id,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Id={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:null,action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_child_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[bd("2"),bd("3"),bd("4"),bd("5"),bd("6"),bd("7"),bd("8"),bd("9"),bd("10"),bd("11"),bd("12"),bd("13"),bd("14"),bd("15"),bd("16"),bd("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:"traveler_selector_infant_step_input",__typename:"EGDSTravelerStepInput",label:"Infants in seat",max:4,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},infantsOnLap:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Infants on lap",max:3,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},pets:null,__typename:"EGDSTravelers"},validations:Td,__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:id,secondaryTemplates:null,text:"2 travelers",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Ad={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:null,primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers add room",referrerId:"Web.Packages.Traveler.Add.Room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Packages.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Packages.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},infantSeatSelection:{airlineAgeRule:{text:"Airline age rules",action:{accessibility:null,target:"INTERNAL",resource:{value:"https://www.expedia.com/p/info-main/h_fw_default%3Frhtx=HTX_FLTSRCH_RT%23travs",__typename:"HttpURI"},analytics:{linkName:"Packages - Airline Age Rules",referrerId:"Web.packages.airline.age.rules",__typename:"ClientSideAnalytics"},__typename:"UILinkAction"},icon:null,iconPosition:null,__typename:"EGDSStandardLink",egdsElementId:null},groupName:"InfantSeating",labelTemplate:{text:"Where will the infants sit?",models:[{key:"infantCount",source:"infantCount",__typename:"TemplateModel"}],templates:[{category:"ONE",template:"Where will the infant sit?",__typename:"CardinalTemplate"},{category:"OTHER",template:"Where will the infants sit?",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},options:[{label:"On lap",value:"lap",__typename:"EGDSInfantSeatRadioButton"},{label:"In seat",value:"seat",__typename:"EGDSInfantSeatRadioButton"}],selected:"lap",__typename:"EGDSTravelerInfantSeatSelection"},maxRoomCount:6,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults in this room",decreaseTextTemplate:null,increaseText:"Increase the number of adults in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children in this room",decreaseTextTemplate:null,increaseText:"Increase the number of children in this room",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[bd("0","Under 1"),bd("1"),bd("2"),bd("3"),bd("4"),bd("5"),bd("6"),bd("7"),bd("8"),bd("9"),bd("10"),bd("11"),bd("12"),bd("13"),bd("14"),bd("15"),bd("16"),bd("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:null,primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Packages.Traveler.Remove.Room",referrerId:"Web.Travelers remove room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],title:"Travelers",validations:Td,__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:od,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:id,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Fd=u.J1`
  fragment EGDSSecondaryButtonFragment on UISecondaryButton {
    egdsElementId
    ...EGDSButtonFragment
  }

  ${Ye}
`,Od=({onClick:e,data:t})=>{const{egdsElementId:a,primary:l,analytics:r}=t,i=null!=a?a:"search_form_secondary_button",o=(0,E.KY)(),c=n.useCallback((()=>{if(r){const{referrerId:e,linkName:t}=r;o(e,t)}e()}),[r,e,o]);return n.createElement(ie.E,{id:i,onClick:c},l)};Od.displayName="SearchToolsEGDSSecondaryButton",Od.fragment=Fd;var kd=u.J1`
  fragment EGDSSearchFormLocationsFieldFragment on EGDSSearchFormLocationsField {
    egdsElementId
    origin {
      ...EGDSSearchFormLocationFieldFragment
    }
    destination {
      ...EGDSSearchFormLocationFieldFragment
    }
    horizontalSwapper {
      ...EGDSSecondaryButtonFragment
    }
    verticalSwapper {
      ...EGDSSecondaryButtonFragment
    }
    validations {
      ... on EGDSInputValidation {
        errorMessage
      }
    }
  }
  ${Od.fragment}
  ${Wi.fragment}
`,Gd="EGDSSearchFormLocationsField",Rd=e=>{var t,a,l,r,o;const{originRef:c,destinationRef:s,data:u,index:m,skipReflection:p,onOpenLocationField:y,onLocationsSelection:_,lastSearchLatLong:S,searchLocationAnalytics:g,searchLocationContent:h}=e,v=(0,E.KY)(),{state:D,dispatch:f}=(0,i.kW)(),{origin:T,destination:b,validations:C}=u,{originFieldError:I,setFieldRefByTypename:A}=c,{destinationFieldError:F,setFieldRefByTypename:O}=s,{destination:k,origin:G}=D,R={__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null},[L,P]=n.useState(!p&&G?G:{term:null!=(t=T.value)?t:"",data:R}),[M,N]=n.useState(!p&&k?k:{term:null!=(a=b.value)?a:"",data:R}),x=e=>{var t,a;e&&"UISecondaryButton"===(null==(t=null==u?void 0:u.horizontalSwapper)?void 0:t.__typename)&&u.horizontalSwapper.analytics?v(u.horizontalSwapper.analytics.referrerId,u.horizontalSwapper.analytics.linkName):!e&&"UISecondaryButton"===(null==(a=null==u?void 0:u.verticalSwapper)?void 0:a.__typename)&&u.verticalSwapper.analytics&&v(u.verticalSwapper.analytics.referrerId,u.verticalSwapper.analytics.linkName)},B=()=>{p||(f({type:"UPDATE_DESTINATION",location:{term:L.term,data:L.data}}),f({type:"UPDATE_ORIGIN",location:{term:M.term,data:M.data}})),P(Ee({},M)),N(Ee({},L)),_&&_({term:"",data:ge(Ee({},R),{origin:M.term,destination:L.term})})},$=e=>{P(e),_&&_({term:e.term,data:ge(Ee({},e.data),{origin:e.term,destination:M.term,index:m})})},W=e=>{N(e),_&&_({term:e.term,data:ge(Ee({},e.data),{origin:L.term,destination:e.term,index:m})})},w={index:m,onOpenLocationField:y,lastSearchLatLong:S,skipReflection:p,searchLocationAnalytics:g,searchLocationContent:h},U=null!=(r=null==(l=null==C?void 0:C.find((e=>"EGDSSameValueInputValidation"===e.__typename)))?void 0:l.errorMessage)?r:"",H=n.createElement(Wi,ge(Ee({},w),{setFieldRefByTypename:A,fieldError:I,data:T,onSelection:$,selection:L,onLocationsSelection:$,searchLocationAnalytics:g})),V=(null==(o=null==F?void 0:F.validations)?void 0:o.sameLocationSelected)?U:void 0,z=n.createElement(Wi,ge(Ee({},w),{setFieldRefByTypename:O,fieldError:F,locationsErrorText:V,data:b,onSelection:W,selection:M,onLocationsSelection:W,searchLocationAnalytics:g})),Y=(e=>{var t,a;return"UISecondaryButton"===(null==(t=e.horizontalSwapper)?void 0:t.__typename)&&e.horizontalSwapper.accessibility?e.horizontalSwapper.accessibility:"UISecondaryButton"===(null==(a=e.verticalSwapper)?void 0:a.__typename)&&e.verticalSwapper.accessibility?e.verticalSwapper.accessibility:void 0})(u);return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(Z.j,{startInput:H,isHorizontalSwapper:!1,onSwapButtonClick:()=>{B(),x(!1)},endInput:z,a11ySwapButtonLabel:Y})),n.createElement(d.rw,null,n.createElement(Z.j,{startInput:H,onSwapButtonClick:()=>{B(),x(!0)},endInput:z,a11ySwapButtonLabel:Y})))};Rd.displayName=Gd,Rd.fragment=ge(Ee({},kd),{__typename:Gd});var Ld=({children:e})=>n.createElement(v.E,{columns:{small:2,medium:12}},n.createElement(v.a,{colSpan:{small:2,medium:4}},n.createElement("div",null,n.createElement(r.b,{padding:{blockstart:"three"}},n.createElement("div",null,e))))),Pd=u.J1`
  fragment SearchFormPartialStayFragment on SearchFormPartialStay {
    __typename
    addPartialStay {
      ...EGDSCheckBoxFragment
      __typename
    }
    dates {
      ...EGDSSearchFormDatePickerFieldFragment
      __typename
    }
    errorMessage
  }
  ${Qa.fragment}
  ${Qa.fragment}
`,Md=({data:e,setFieldRefByTypename:t,fieldError:a})=>{var l;const{addPartialStay:r,dates:i,errorMessage:o}=e,[c,s]=n.useState(null!=(l=null==r?void 0:r.state)?l:"UNCHECKED"),d=i&&n.createElement("div",{"data-stid":"partial-stay-date-field"},n.createElement(Ld,null,n.createElement(Qa,{skipReflection:!0,data:i,fieldError:a,setFieldRefByTypename:(e,a,n)=>{t(`${e}PartialStay`,a,n)},overrideErrorMessage:o,isPartialDates:!0})));return n.createElement(n.Fragment,null,r&&n.createElement(ca,{onChange:e=>{s(e.target.checked?"CHECKED":"UNCHECKED")},data:r}),"CHECKED"===c&&d)};Md.displayName="SearchFormPartialStay",Md.fragment=Pd;var Nd=(e=>(e.ORIGIN="origin_select",e.DESTINATION="destination_select",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVELER_SELECTOR="EGDSRoomsTravelerSelector",e.CABIN_CLASS="EGDSSearchFormInputFieldWithSelection-cabin_class",e))(Nd||{}),xd={SMALL:{default:{}},MEDIUM:{default:{grow:1},EGDSSearchFormLocationsField:{minWidth:"full_width"},EGDSSearchFormButton:{}},LARGE:{default:{grow:1},EGDSSearchFormLocationsField:{minWidth:500,grow:1},EGDSSearchFormButton:{}},EXTRA_LARGE:{default:{}}},Bd={prebundles:{[d.OB.SMALL]:{default:{}},[d.OB.MEDIUM]:{EGDSSearchFormLocationField:{minWidth:"full_width"},EGDSSearchFormButton:{},default:{grow:1}},[d.OB.LARGE]:{EGDSSearchFormButton:{},EGDSSearchFormTravelersField:{maxWidth:400,grow:1},EGDSSearchFormDatePickerField:{maxWidth:400,grow:1},default:{minWidth:"third_width",grow:1}},[d.OB.EXTRA_LARGE]:{default:{}}},FLIGHT_CAR:xd,FLIGHT_HOTEL:xd,FLIGHT_HOTEL_CAR:xd,HOTEL_CAR:{SMALL:{default:{}},MEDIUM:{default:{grow:1,minWidth:400},EGDSSearchFormTravelersField:{minWidth:500,grow:1},EGDSSearchFormButton:{}},LARGE:{EGDSSearchFormButton:{},EGDSSearchFormTravelersField:{maxWidth:300,grow:1},EGDSSearchFormDatePickerField:{maxWidth:300,grow:1},default:{grow:1}},EXTRA_LARGE:{default:{}}}},$d=(e,t,a="prebundles")=>{var n;const l=Bd[a][t];return null!=(n=l[e])?n:l.default},Wd={FLIGHT_CAR:"fc",FLIGHT_HOTEL:"fh",HOTEL_CAR:"hc",FLIGHT_HOTEL_CAR:"fhc",HOTEL_ACTIVITY:"ha"},wd={BUSINESS:"b",FIRST:"f",PREMIUM_ECONOMY:"p",COACH:"e",ANY:"a"},Ud=(e,t)=>{const{day:a,month:n,year:l}=t;return`&${e}=${l}-${n}-${a}`},Hd="EGDS",Vd={[al]:"ADULT",[nl]:"CHILD",[rl]:"INFANT_IN_LAP",[ll]:"INFANT_IN_SEAT"},zd={COACH:"COACH",ECONOMY_PREMIUM:"PREMIUM_ECONOMY",BUSINESS:"BUSINESS",FIRST_CLASS:"FIRST"},Yd=(e,{name:t,value:a})=>{var n,l,r,i,o,c,s,d,u,m,p;if(t.startsWith(`${ln}`)){const t=ge(Ee({},e.primary),{cabinClass:zd[a]});return ge(Ee({},e),{primary:t})}if(t.startsWith(tl)){const i=t.startsWith(al),o=t.split("-"),c=i?al:o.slice(0,2).join("-"),s=Number.parseInt(a,10),d=i?Array.from(Array(s).keys()).map((()=>({type:Vd[c],age:null}))):[{type:Vd[c],age:a?s:null}],u=1,m=null!=(n=t.split(`${c}-Room`)[1])?n:"1",p=null!=(l=parseInt(m,10))?l:u,y=[...null!=(r=e.primary.travelerOccupancyGroups)?r:[]];return y[p-1]={travelers:[...y[p-1]?y[p-1].travelers:[],...d]},ge(Ee({},e),{primary:ge(Ee({},e.primary),{travelerOccupancyGroups:y})})}if(t.startsWith(`${Ei}-origin`))return ge(Ee({},e),{primary:ge(Ee({},e.primary),{origin:{airportCode:"",regionName:a}})});if(t.startsWith(`${Ei}-destination`))return ge(Ee({},e),{primary:ge(Ee({},e.primary),{destination:{airportCode:"",regionName:a}})});const y=t.startsWith(Va.START_DATE_NAME_PREFIX),_=t.startsWith(Va.END_DATE_NAME_PREFIX);if(y||_){const[t,n,l]=a.split("-").map((e=>Number(e))),r={day:0,month:0,year:0},c={day:l,month:n,year:t};return ge(Ee({},e),{primary:ge(Ee({},e.primary),{dateRange:{start:y?c:(null==(i=e.primary.dateRange)?void 0:i.start)||r,end:_?c:(null==(o=e.primary.dateRange)?void 0:o.end)||r}})})}if(t.startsWith(`${hi}-origin`))return ge(Ee({},e),{primary:ge(Ee({},e.primary),{origin:ge(Ee({},e.primary.origin),{airportCode:a})})});if(t.startsWith(`${hi}-destination`))return ge(Ee({},e),{primary:ge(Ee({},e.primary),{destination:ge(Ee({},e.primary.destination),{airportCode:a})})});if(t.startsWith(`${Ai}-destination`))return ge(Ee({},e),{primary:ge(Ee({},e.primary),{destination:ge(Ee({},e.primary.destination),{airportCode:null!=(s=null==(c=e.primary.destination)?void 0:c.airportCode)?s:"",regionId:a})})});if(t.startsWith(`${gi}-origin`))return ge(Ee({},e),{primary:ge(Ee({},e.primary),{origin:ge(Ee({},e.primary.origin),{airportCode:null!=(u=null==(d=e.primary.destination)?void 0:d.airportCode)?u:"",regionId:a})})});if(t.startsWith(`${fi}-destination`)&&a){const t="hotelId";return ge(Ee({},e),{primary:Ee({},e.primary),secondary:{selections:[{id:t,value:a}]}})}const S=t.startsWith(Va.PARTIAL_STAY_START_DATE_NAME_PREFIX),E=t.startsWith(Va.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(S||E){const[t,n,l]=a.split("-").map((e=>Number(e))),r={day:0,month:0,year:0},i={day:l,month:n,year:t};return ge(Ee({},e),{primary:ge(Ee({},e.primary),{partialStayDateRange:{start:S?i:(null==(m=e.primary.partialStayDateRange)?void 0:m.start)||r,end:E?i:(null==(p=e.primary.partialStayDateRange)?void 0:p.end)||r}})})}return Ee({},e)},qd=(e,{name:t,value:a})=>{var n,l,r,i,o,c,s,d,u,m,p,y,_,S,E,g;if(t.startsWith(`${ln}`)&&e.primarySearchCriteria.flight){const t=ge(Ee({},e.primarySearchCriteria),{flight:ge(Ee({},e.primarySearchCriteria.flight),{searchPreferences:ge(Ee({},null==(n=e.primarySearchCriteria.flight)?void 0:n.searchPreferences),{cabinClass:zd[a]})})});return ge(Ee({},e),{primarySearchCriteria:t})}if(t.startsWith(tl)){const n=t.startsWith(al),o=t.split("-"),c=n?al:o.slice(0,2).join("-"),s=Number.parseInt(a,10),d=n?Array.from(Array(s).keys()).map((()=>({type:Vd[c]}))):[{type:Vd[c],age:a?s:null}],u=1,m=null!=(l=t.split(`${c}-Room`)[1])?l:"1",p=null!=(r=parseInt(m,10))?r:u;if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){const t=[...e.primarySearchCriteria.property.rooms],a=d.filter((e=>"ADULT"!==e.type)).map((e=>({age:e.age||0})));t[p-1]={adults:t[p-1]?t[p-1].adults+d.filter((e=>"ADULT"===e.type)).length:d.filter((e=>"ADULT"===e.type)).length,children:[...(null==(i=t[p-1])?void 0:i.children)||[],...a]};const n=ge(Ee({},e.primarySearchCriteria),{flight:ge(Ee({},e.primarySearchCriteria.flight),{travelers:[...e.primarySearchCriteria.flight.travelers,...d]}),property:ge(Ee({},e.primarySearchCriteria.property),{rooms:[...t]})});return ge(Ee({},e),{primarySearchCriteria:n})}}if(t.startsWith(`${Ei}-origin`)&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){const t=ge(Ee({},e.primarySearchCriteria),{flight:ge(Ee({},e.primarySearchCriteria.flight),{journeyCriterias:[ge(Ee({},null==(o=e.primarySearchCriteria.flight.journeyCriterias)?void 0:o[0]),{origin:a}),ge(Ee({},null==(c=e.primarySearchCriteria.flight.journeyCriterias)?void 0:c[1]),{destination:a})]})});return ge(Ee({},e),{primarySearchCriteria:t})}if(t.startsWith(`${Ei}-destination`)&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){const t=ge(Ee({},e.primarySearchCriteria),{flight:ge(Ee({},e.primarySearchCriteria.flight),{journeyCriterias:[ge(Ee({},null==(s=e.primarySearchCriteria.flight.journeyCriterias)?void 0:s[0]),{destination:a}),ge(Ee({},null==(d=e.primarySearchCriteria.flight.journeyCriterias)?void 0:d[1]),{origin:a})]}),property:ge(Ee({},e.primarySearchCriteria.property),{destination:ge(Ee({},e.primarySearchCriteria.property.destination),{regionName:a})})});return ge(Ee({},e),{primarySearchCriteria:t})}const h=t.startsWith(Va.START_DATE_NAME_PREFIX),v=t.startsWith(Va.END_DATE_NAME_PREFIX);if(h||v){const[t,n,l]=a.split("-").map((e=>Number(e))),r={day:0,month:0,year:0},i={day:l,month:n,year:t};if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){const t=ge(Ee({},e.primarySearchCriteria),{flight:ge(Ee({},e.primarySearchCriteria.flight),{journeyCriterias:[ge(Ee({},null==(u=e.primarySearchCriteria.flight.journeyCriterias)?void 0:u[0]),{departureDate:h?i:(null==(m=e.primarySearchCriteria.flight.journeyCriterias)?void 0:m[0].departureDate)||r}),ge(Ee({},null==(p=e.primarySearchCriteria.flight.journeyCriterias)?void 0:p[1]),{departureDate:v?i:(null==(y=e.primarySearchCriteria.flight.journeyCriterias)?void 0:y[1].departureDate)||r})]}),property:ge(Ee({},e.primarySearchCriteria.property),{dateRange:{checkInDate:h?i:(null==(_=e.primarySearchCriteria.property.dateRange)?void 0:_.checkInDate)||r,checkOutDate:v?i:(null==(S=e.primarySearchCriteria.property.dateRange)?void 0:S.checkOutDate)||r}})});return ge(Ee({},e),{primarySearchCriteria:t})}}if(t.startsWith(`${gi}-destination`)&&e.primarySearchCriteria.property){const t=ge(Ee({},e.primarySearchCriteria),{property:ge(Ee({},e.primarySearchCriteria.property),{destination:ge(Ee({},e.primarySearchCriteria.property.destination),{regionId:a})})});return ge(Ee({},e),{primarySearchCriteria:t})}const D=t.startsWith(Va.PARTIAL_STAY_START_DATE_NAME_PREFIX),f=t.startsWith(Va.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(D||f){const[t,n,l]=a.split("-").map((e=>Number(e))),r={day:0,month:0,year:0},i={day:l,month:n,year:t};if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){const t=ge(Ee({},e.primarySearchCriteria),{property:ge(Ee({},e.primarySearchCriteria.property),{dateRange:{checkInDate:D?i:(null==(E=e.primarySearchCriteria.property.dateRange)?void 0:E.checkInDate)||r,checkOutDate:f?i:(null==(g=e.primarySearchCriteria.property.dateRange)?void 0:g.checkOutDate)||r}})});return ge(Ee({},e),{primarySearchCriteria:t})}}return Ee({},e)},jd=(e,{name:t,value:a})=>{var n,l,r,i,o,c,s,d,u;if(t.startsWith(`${ln}`)&&e.primarySearchCriteria.flight){const t=ge(Ee({},e.primarySearchCriteria),{flight:ge(Ee({},e.primarySearchCriteria.flight),{searchPreferences:ge(Ee({},null==(n=e.primarySearchCriteria.flight)?void 0:n.searchPreferences),{cabinClass:zd[a]})})});return ge(Ee({},e),{primarySearchCriteria:t})}if(t.startsWith(tl)){const n=t.startsWith(al),l=t.split("-"),r=n?al:l.slice(0,2).join("-"),i=Number.parseInt(a,10),o=n?Array.from(Array(i).keys()).map((()=>({type:Vd[r]}))):[{type:Vd[r],age:a?i:null}];if(e.primarySearchCriteria.flight){const t=ge(Ee({},e.primarySearchCriteria),{flight:ge(Ee({},e.primarySearchCriteria.flight),{travelers:[...e.primarySearchCriteria.flight.travelers,...o]})});return ge(Ee({},e),{primarySearchCriteria:t})}}if(t.startsWith(`${Ei}-origin`)&&e.primarySearchCriteria.flight){const t=ge(Ee({},e.primarySearchCriteria),{flight:ge(Ee({},e.primarySearchCriteria.flight),{journeyCriterias:[ge(Ee({},null==(l=e.primarySearchCriteria.flight.journeyCriterias)?void 0:l[0]),{origin:a}),ge(Ee({},null==(r=e.primarySearchCriteria.flight.journeyCriterias)?void 0:r[1]),{destination:a})]})});return ge(Ee({},e),{primarySearchCriteria:t})}if(t.startsWith(`${Ei}-destination`)&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.car){const t=ge(Ee({},e.primarySearchCriteria),{flight:ge(Ee({},e.primarySearchCriteria.flight),{journeyCriterias:[ge(Ee({},null==(i=e.primarySearchCriteria.flight.journeyCriterias)?void 0:i[0]),{destination:a}),ge(Ee({},null==(o=e.primarySearchCriteria.flight.journeyCriterias)?void 0:o[1]),{origin:a})]}),car:ge(Ee({},e.primarySearchCriteria.car),{pickUpLocation:ge(Ee({},e.primarySearchCriteria.car.pickUpLocation),{searchTerm:a}),dropOffLocation:ge(Ee({},e.primarySearchCriteria.car.dropOffLocation),{searchTerm:a})})});return ge(Ee({},e),{primarySearchCriteria:t})}const m=t.startsWith(Va.START_DATE_NAME_PREFIX),p=t.startsWith(Va.END_DATE_NAME_PREFIX);if(m||p){const[t,n,l]=a.split("-").map((e=>Number(e))),r={day:0,month:0,year:0},i={day:l,month:n,year:t},o=ge(Ee({},i),{hour:0,minute:0,second:0});if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.car){const t=ge(Ee({},e.primarySearchCriteria),{flight:ge(Ee({},e.primarySearchCriteria.flight),{journeyCriterias:[ge(Ee({},null==(c=e.primarySearchCriteria.flight.journeyCriterias)?void 0:c[0]),{departureDate:m?i:(null==(s=e.primarySearchCriteria.flight.journeyCriterias)?void 0:s[0].departureDate)||r}),ge(Ee({},null==(d=e.primarySearchCriteria.flight.journeyCriterias)?void 0:d[1]),{departureDate:p?i:(null==(u=e.primarySearchCriteria.flight.journeyCriterias)?void 0:u[1].departureDate)||r})]}),car:ge(Ee({},e.primarySearchCriteria.car),{pickUpDateTime:m?o:e.primarySearchCriteria.car.pickUpDateTime,dropOffDateTime:p?o:e.primarySearchCriteria.car.dropOffDateTime})});return ge(Ee({},e),{primarySearchCriteria:t})}}if(t.startsWith(`${gi}-destination`)&&e.primarySearchCriteria.car){const t=ge(Ee({},e.primarySearchCriteria),{car:ge(Ee({},e.primarySearchCriteria.car),{pickUpLocation:ge(Ee({},e.primarySearchCriteria.car.pickUpLocation),{regionId:a}),dropOffLocation:ge(Ee({},e.primarySearchCriteria.car.dropOffLocation),{regionId:a})})});return ge(Ee({},e),{primarySearchCriteria:t})}return Ee({},e)},Kd=(e,{name:t,value:a})=>{var n,l,r,i,o,c,s;if(t.startsWith(tl)){const i=t.startsWith(al),o=t.split("-"),c=i?al:o.slice(0,2).join("-"),s=Number.parseInt(a,10),d=i?Array.from(Array(s).keys()).map((()=>({type:Vd[c]}))):[{type:Vd[c],age:a?s:null}],u=1,m=null!=(n=t.split(`${c}-Room`)[1])?n:"1",p=null!=(l=parseInt(m,10))?l:u;if(e.primarySearchCriteria.property){const t=[...e.primarySearchCriteria.property.rooms],a=d.filter((e=>"ADULT"!==e.type)).map((e=>({age:e.age||0})));t[p-1]={adults:t[p-1]?t[p-1].adults+d.filter((e=>"ADULT"===e.type)).length:d.filter((e=>"ADULT"===e.type)).length,children:[...(null==(r=t[p-1])?void 0:r.children)||[],...a]};const n=ge(Ee({},e.primarySearchCriteria),{property:ge(Ee({},e.primarySearchCriteria.property),{rooms:[...t]})});return ge(Ee({},e),{primarySearchCriteria:n})}}if(t.startsWith(`${Ei}-destination`)&&e.primarySearchCriteria.car&&e.primarySearchCriteria.property){const t=ge(Ee({},e.primarySearchCriteria),{property:ge(Ee({},e.primarySearchCriteria.property),{destination:ge(Ee({},e.primarySearchCriteria.property.destination),{regionName:a})}),car:ge(Ee({},e.primarySearchCriteria.car),{pickUpLocation:ge(Ee({},e.primarySearchCriteria.car.pickUpLocation),{searchTerm:a}),dropOffLocation:ge(Ee({},e.primarySearchCriteria.car.dropOffLocation),{searchTerm:a})})});return ge(Ee({},e),{primarySearchCriteria:t})}const d=t.startsWith(Va.START_DATE_NAME_PREFIX),u=t.startsWith(Va.END_DATE_NAME_PREFIX);if(d||u){const[t,n,l]=a.split("-").map((e=>Number(e))),r={day:0,month:0,year:0},c={day:l,month:n,year:t},s=ge(Ee({},c),{hour:0,minute:0,second:0});if(e.primarySearchCriteria.car&&e.primarySearchCriteria.property){const t=ge(Ee({},e.primarySearchCriteria),{property:ge(Ee({},e.primarySearchCriteria.property),{dateRange:{checkInDate:d?c:(null==(i=e.primarySearchCriteria.property.dateRange)?void 0:i.checkInDate)||r,checkOutDate:u?c:(null==(o=e.primarySearchCriteria.property.dateRange)?void 0:o.checkOutDate)||r}}),car:ge(Ee({},e.primarySearchCriteria.car),{pickUpDateTime:d?s:e.primarySearchCriteria.car.pickUpDateTime,dropOffDateTime:u?s:e.primarySearchCriteria.car.dropOffDateTime})});return ge(Ee({},e),{primarySearchCriteria:t})}}if(t.startsWith(`${gi}-destination`)&&e.primarySearchCriteria.property){const t=ge(Ee({},e.primarySearchCriteria),{property:ge(Ee({},e.primarySearchCriteria.property),{destination:ge(Ee({},e.primarySearchCriteria.property.destination),{regionId:a})})});return ge(Ee({},e),{primarySearchCriteria:t})}if(t.startsWith(`${hi}-destination`)&&e.primarySearchCriteria.car){const t=ge(Ee({},e.primarySearchCriteria),{car:ge(Ee({},e.primarySearchCriteria.car),{pickUpLocation:ge(Ee({},e.primarySearchCriteria.car.pickUpLocation),{airportCode:a}),dropOffLocation:ge(Ee({},e.primarySearchCriteria.car.dropOffLocation),{airportCode:a})})});return ge(Ee({},e),{primarySearchCriteria:t})}const m=t.startsWith(Va.PARTIAL_STAY_START_DATE_NAME_PREFIX),p=t.startsWith(Va.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(m||p){const[t,n,l]=a.split("-").map((e=>Number(e))),r={day:0,month:0,year:0},i={day:l,month:n,year:t};if(e.primarySearchCriteria.car&&e.primarySearchCriteria.property){const t=ge(Ee({},e.primarySearchCriteria),{property:ge(Ee({},e.primarySearchCriteria.property),{dateRange:{checkInDate:m?i:(null==(c=e.primarySearchCriteria.property.dateRange)?void 0:c.checkInDate)||r,checkOutDate:p?i:(null==(s=e.primarySearchCriteria.property.dateRange)?void 0:s.checkOutDate)||r}})});return ge(Ee({},e),{primarySearchCriteria:t})}}return Ee({},e)},Jd=e=>({tripType:"ROUND_TRIP",journeyCriterias:[],travelers:[],searchPreferences:{advancedFilters:e?["NONSTOP"]:[],cabinClass:"COACH"}}),Qd=(e,t)=>{let a={};switch(e){case"FLIGHT_HOTEL":a={flight:Jd(t),property:{rooms:[],destination:{regionId:""}}};break;case"FLIGHT_HOTEL_CAR":a={flight:Jd(t),property:{rooms:[],destination:{regionId:""}},car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}};break;case"FLIGHT_CAR":a={flight:Jd(t),car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}};break;case"HOTEL_CAR":a={property:{rooms:[],destination:{regionId:""}},car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}}}return{primarySearchCriteria:a,secondaryCriteria:{}}},Xd=[Wi,Rd,Qa,Sl,cn,Md,Ke],Zd=u.J1`
  fragment MultiPackagesSearchFormFragment on PackagesSearchForm {
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    elements {
      __typename
      ...EGDSSearchFormLocationFieldFragment
      ...EGDSSearchFormLocationsFieldFragment
      ...EGDSSearchFormDatePickerFieldFragment
      ...EGDSSearchFormTravelersFieldFragment
      ...EGDSSearchFormInputFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
    directFlightsOnly {
      ...EGDSPillFragment
    }
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    partialStay {
      ...SearchFormPartialStayFragment
    }
    searchLocation {
      ...SearchLocationFragment
    }
  }

  ${ze.fragment}
  ${Ke.fragment}
  ${Wi.fragment}
  ${Rd.fragment}
  ${Qa.fragment}
  ${Sl.fragment}
  ${cn.fragment}
  ${Hi.fragment}
  ${Md.fragment}
  ${ya.fragment}
  ${yi}
`,eu=e=>{const{viewportSize:t,packageType:a,defaultValidationProps:l,renderableElements:r,errorState:i,autoOpenCalendar:o,lastSearchLatLong:c,onOpenLocationField:s,searchLocationAnalytics:d,searchLocationContent:u,onLocationsSelection:m}=e;return n.createElement(n.Fragment,null,r.map(((e,r)=>{const{__typename:p}=e,y=Xd.find((({displayName:e})=>e===p&&"EGDSSearchFormInputField"!==p));if(!y)return null;const _=$d(p,t,a),S=["EGDSSearchFormDatePickerField","EGDSSearchFormInputField","EGDSSearchFormLocationField","EGDSSearchFormLocationsField","EGDSSearchFormTravelersField","SearchFormDurationSpanField"].includes(p)?p:"EGDSSearchFormDatePickerFieldPartialStay",E=Ee(Ee(Ee(ge(Ee({},l),{fieldError:gl(i,S)}),"EGDSSearchFormLocationsField"===p&&{originFieldError:gl(i,`${e.origin.__typename}Origin`),destinationFieldError:gl(i,`${e.destination.__typename}Destination`),lastSearchLatLong:c,onOpenLocationField:s,searchLocationAnalytics:d,searchLocationContent:u,onLocationsSelection:m}),"EGDSSearchFormLocationField"===p&&{lastSearchLatLong:c,onOpenLocationField:s,searchLocationAnalytics:d,searchLocationContent:u}),"EGDSSearchFormDatePickerField"===p&&{autoOpen:o}),g={originRef:"EGDSSearchFormLocationsField"===p?E:null,destinationRef:"EGDSSearchFormLocationsField"===p?E:null};return n.createElement(f.j,Ee({key:`field_${p}_${r}`},_),n.createElement("div",null,n.createElement(y,ge(Ee(Ee({},E),g),{data:e}))))})))},tu=e=>{var t,a;const{data:l,onSubmit:i,onFieldChange:o,autoOpenCalendar:c,packageType:s,cabinClass:u,redirectToSearchResultOnSubmit:m,autoOpenPlayback:p,stickyPlayback:y,lastSearchLatLong:_,directFlightsOnlySwitch:S,onOpenLocationField:E,handleDirectFlightsOnlySwitch:g,showDirectFlightsOnly:h}=e,v=(0,$.useLocalization)(),[D,T]=n.useState({EGDSSearchFormLocationFieldOrigin:null,EGDSSearchFormLocationFieldDestination:null,EGDSSearchFormDatePickerField:null,EGDSSearchFormInputField:null,EGDSSearchFormDatePickerFieldPartialStay:null}),C={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},[I,A]=n.useState(C),[F,O]=n.useState(!p);n.useEffect((()=>{const e=null==l?void 0:l.directFlightsOnly;e&&g&&g(e.selected)}),[l,g]);const k=n.useCallback(((e,t)=>{var a;const n=hl(e,null==(a=t.current)?void 0:a.id);T((e=>ge(Ee({},e),{[n]:t})))}),[]),{elements:G,errorSummary:R,search:L,actionURL:P,playback:M,searchLocation:N,partialStay:x,directFlightsOnly:B}=l,[W,w]=n.useState(M),{displayErrorSummary:U,errorCount:H,errorLinkReference:V}=I;if(!L)return null;const z=[...G,L],Y=[...G,x,L].filter(Boolean),q=G.find((e=>"EGDSSearchFormDatePickerField"===e.__typename)),j="EGDSSearchFormDatePickerField"===(null==q?void 0:q.__typename)&&"EGDSOpenDatePickerAction"===(null==(t=q.action)?void 0:t.__typename)&&"EGDSDateRangePicker"===q.action.datePicker.__typename&&"FLIGHT_CAR"!==s&&null!=(a=q.action.datePicker.maxNumberOfDaysSelected)?a:0,K={setFieldRefByTypename:k},J={space:"three",direction:"row"},Q={packageType:s,viewportSize:d.OB.SMALL,renderableElements:z,defaultValidationProps:K,errorState:I,autoOpenCalendar:c,lastSearchLatLong:_,onOpenLocationField:E,searchLocationAnalytics:null==N?void 0:N.analytics,searchLocationContent:null==N?void 0:N.content,onLocationsSelection:e=>{var t,a,n,l;const r=Ue(null!=(a=null==(t=null==e?void 0:e.data)?void 0:t.origin)?a:e.term),i=Ue(null!=(l=null==(n=e.data)?void 0:n.destination)?l:e.term);w((e=>{if(!e)return null;const{primary:t,primaryTemplate:a}=e;if(!a||"EGDSBasicLocalizedText"!==a.__typename)return e;const n=we(a.text,"origin",r),l=we(n,"destination",i);return ge(Ee({},e),{primary:ge(Ee({},t),{text:l})})}))}},X=ge(Ee({},Q),{renderableElements:z}),Z="HOTEL_CAR"!==s?n.createElement("input",{type:"hidden",name:null==u?void 0:u.name,value:null==u?void 0:u.value}):null,ee=x&&("FLIGHT_HOTEL"===s||"FLIGHT_HOTEL_CAR"===s),te=B&&n.createElement(f.j,null,n.createElement("div",null,n.createElement(ya,{data:B,onChange:e=>{null==g||g(e.target.checked)}}))),ae=Y.find((e=>"EGDSSearchFormInputField"===e.__typename)),ne=ae?n.createElement(f.j,null,n.createElement("div",null,n.createElement(cn,ge(Ee({},K),{triggerType:"pill",data:ae})))):null;return n.createElement(b.E,{id:"package-search-form",name:`packages-search-form-${s}`,action:P,onSubmit:e=>{var t;A(C);const a=Array.from(e.currentTarget.elements),n=Fl(a),l={location:{origin:a.find(Al("origin_select")),destination:a.find(Al("destination_select")),config:{sameLocationSelected:!0}},dates:{startDateInput:a.find(Al("EGDSDateRangePicker-StartDate-date-range-select")),endDateInput:a.find(Al("EGDSDateRangePicker-EndDate-date-range-select")),partialStayStartDateInput:a.find(Al("EGDSDateRangePartialStay-StartDate-partial-stay-date-range-select")),partialStayEndDateInput:a.find(Al("EGDSDateRangePartialStay-EndDate-partial-stay-date-range-select")),config:{maxNumberOfDaysSelected:j,validateWhenEmpty:!0}},travelers:{totalTravelers:n,config:{maxTotalTravelers:6}}},r=Cl(l);if(!(0===r.length))return A({fieldsWithErrors:r,errorCount:r.length,displayErrorSummary:!0,errorLinkReference:D[null==(t=r[0])?void 0:t.__typename]}),void e.preventDefault();if(i||m){const t=Array.from(e.currentTarget.elements),a=(e=>e.filter((e=>e.name.startsWith(Hd))).reduce(Yd,{primary:{},secondary:{}}))(t),n=((e,t,a)=>{const n=e.filter((e=>e.name.startsWith(Hd))),l=Qd(t,a);switch(t){case"FLIGHT_HOTEL_CAR":default:return n.reduce(qd,l);case"FLIGHT_CAR":return n.reduce(jd,l);case"HOTEL_CAR":return n.reduce(Kd,l)}})(t,s,S);if(i&&i(e,{packageSearchCriteria:a,packageType:s,packageShoppingCriteria:n}),m){e.preventDefault();const{action:t}=e.currentTarget,n=((e,t,a)=>{var n,l,r,i,o,c;const{cabinClass:s,dateRange:d,destination:u,origin:m,travelerOccupancyGroups:p,partialStayDateRange:y}=e.primary,_=`&numberOfRooms=${null==p?void 0:p.map((e=>e.travelers)).length}`,S=null!=(n=null==p?void 0:p.map((e=>e.travelers.filter((e=>"INFANT_IN_SEAT"===e.type)))))?n:[],E="&infantsInSeats="+(S.filter((e=>e.length>0)).length>0?1:0),g=null!=(l=null==p?void 0:p.map((e=>e.travelers.filter((e=>"INFANT_IN_LAP"===e.type)))))?l:[],h="&infantsOnLap="+(g.filter((e=>e.length>0)).length>0?1:0),v=null!=(r=null==p?void 0:p.map((e=>e.travelers.filter((e=>"CHILD"===e.type||"INFANT_IN_LAP"===e.type||"INFANT_IN_SEAT"===e.type)))))?r:[],D=v.length>0?v.map(((e,t)=>e.map(((e,a)=>`&childAges[${t+1}][${a}]=${e.age}`)).join(""))).join(""):"",f=v.length>0?`${v.map(((e,t)=>`&childrenPerRoom[${t+1}]=${e.length}`)).join("")}`:"",T=null!=(i=null==p?void 0:p.map((e=>e.travelers.filter((e=>"ADULT"===e.type)))))?i:[],b=T.length>0?T.map(((e,t)=>`&adultsPerRoom[${t+1}]=${e.length}`)).join(""):"",C=g.length>0,I=S.length>0,A=`${_}${b}${D}${f}${h}${E}${C||I?"&InfantSeating="+(C?"lap":"seat"):""}`,F=`${"HOTEL_CAR"!==t?`origin=${null==m?void 0:m.regionName}`:""}&destination=${null==u?void 0:u.regionName}${(null==u?void 0:u.regionId)?`&destinationId=${null==u?void 0:u.regionId}`:""}${(null==u?void 0:u.airportCode)?`&ttla=${null==u?void 0:u.airportCode}`:""}`,O=d?`${Ud("fromDate",d.start)}${d.end?Ud("toDate",d.end):""}${Ud("d1",d.start)}${d.end?Ud("d2",d.end):""}`:"",k="FLIGHT_HOTEL_CAR"===t||"FLIGHT_HOTEL"===t||"HOTEL_CAR"===t,G=y?`${Ud("checkInDate",y.start)}${Ud("checkOutDate",y.end)}&isPartialStay=1\n  &partialStayCheckbox=true`:"&isPartialStay=0",R=k?G:"",L=`&packageType=${Wd[t]}`,P="HOTEL_CAR"!==t&&s?`&cabinClass=${wd[s]}`:"",M="HOTEL_CAR"!==t&&(null==m?void 0:m.regionId)?`&originId=${m.regionId}`:"",N="HOTEL_CAR"!==t&&(null==m?void 0:m.airportCode)?`&ftla=${m.airportCode}`:"",x="FLIGHT_HOTEL"===t?"&tripType=ROUND_TRIP":"",B="FLIGHT_CAR"!==t?null==(c=null==(o=e.secondary)?void 0:o.selections)?void 0:c.find((e=>"hotelId"===e.id)):void 0;return`?${F}${A}${O}${L}${P}${M}${N}${x}${R}${(null==B?void 0:B.value)?`&hotelId=${B.value}`:""}${a&&"HOTEL_CAR"!==t?"&isDirectFlight=true":""}`})(a,s,S);window.location.href=`${t}${n}`}}},onFieldChange:(e,t)=>{null==o||o(e,t),w((t=>{if(!t)return null;const{TRAVELER_SELECTOR:a,TRAVEL_DATES:n}=Nd,{secondaries:l}=t,r=e.value,[i,o]=l,c=e.name===n&&"EGDSPlainText"===i.__typename?ge(Ee({},i),{text:Tt(r,v)}):i,s=e.name===a?ge(Ee({},o),{text:r}):o;return ge(Ee({},t),{secondaries:[c,s]})}))},hasRequiredFieldIndicator:!0},U&&R&&n.createElement(r.b,{margin:{blockend:"two"}},n.createElement("div",null,n.createElement(ze,{data:R,errorCount:H,inputErrorRef:V}))),n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,W?n.createElement(Hi,{data:W,stickyPlayback:y,display:F,onDisplayToggle:e=>{O(e)}},h&&(ne||te)&&n.createElement(f.i,{space:"two",wrap:"wrap"},ne,te),n.createElement(f.i,ge(Ee({},J),{direction:"column"}),n.createElement(eu,ge(Ee({},Q),{viewportSize:d.OB.SMALL,includeCabinClassField:!0}))),ee&&n.createElement(r.b,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(Md,{data:x,setFieldRefByTypename:k,fieldError:I.fieldsWithErrors.find((e=>"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename))})))):n.createElement(n.Fragment,null,n.createElement(f.i,ge(Ee({},J),{direction:"column"}),n.createElement(eu,ge(Ee({},Q),{viewportSize:d.OB.SMALL})),Z),ee&&n.createElement(r.b,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(Md,{data:x,setFieldRefByTypename:k,fieldError:I.fieldsWithErrors.find((e=>"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename))})))))),n.createElement(d.rw,null,n.createElement(n.Fragment,null,n.createElement(f.i,ge(Ee({},J),{wrap:"wrap"}),n.createElement(eu,ge(Ee({},X),{viewportSize:d.OB.MEDIUM})),Z),ee&&n.createElement(r.b,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(Md,{data:x,setFieldRefByTypename:k,fieldError:I.fieldsWithErrors.find((e=>"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename))}))))),n.createElement(d.zQ,null,n.createElement(n.Fragment,null,n.createElement(f.i,ge(Ee({},J),{wrap:"wrap"}),n.createElement(eu,ge(Ee({},X),{viewportSize:d.OB.LARGE})),Z),ee&&n.createElement(r.b,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(Md,{data:x,setFieldRefByTypename:k,fieldError:I.fieldsWithErrors.find((e=>"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename))})))))))};tu.fragment=Zd,tu.displayName="MultiPackagesSearchForm";var au=u.J1`
  fragment NoSelectionMessageFragment on UIEmptyState {
    body
    heading
    icon {
      ...IconFragment
    }
  }
  ${Ot.fragment}
`,nu=e=>{const{data:t}=e,{icon:a,heading:l,body:i}=t;return n.createElement(r.b,{margin:{blockstart:"three"}},n.createElement("div",null,n.createElement(f.i,{direction:"column",alignItems:"center"},n.createElement(f.j,null,a&&n.createElement(Ot,{data:a})),n.createElement(f.j,null,n.createElement(A.E,null,l)),n.createElement(f.j,null,n.createElement(A.a,null,i)))))};nu.displayName="NoSelectionMessage",nu.fragment=au;var lu=[Wi,Qa,Sl,Ke],ru=u.J1`
  fragment PrebundlesSearchFormFragment on PackagesSearchForm {
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    elements {
      __typename
      ...EGDSSearchFormLocationFieldFragment
      ...EGDSSearchFormDatePickerFieldFragment
      ...EGDSSearchFormTravelersFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
  }

  ${ze.fragment}
  ${Hi.fragment}
  ${Ke.fragment}
  ${Wi.fragment}
  ${Qa.fragment}
  ${Sl.fragment}
`,iu={space:"three",direction:"row"},ou=({data:e,onFieldChange:t,onSubmit:a})=>{var l,i;const[o,c]=n.useState({EGDSSearchFormLocationField:null,EGDSSearchFormDatePickerField:null}),[s,u]=n.useState({displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]}),[m,p]=n.useState(!0),y=n.useCallback(((e,t)=>{c((a=>ge(Ee({},a),{[e]:t})))}),[]),{elements:_,errorSummary:S,playback:E,search:g}=e,{displayErrorSummary:h,errorCount:v,errorLinkReference:D}=s;if(!g)return null;const T=[..._,g],C={setFieldRefByTypename:y},I=_.find((e=>"EGDSSearchFormDatePickerField"===e.__typename)),A="EGDSSearchFormDatePickerField"===(null==I?void 0:I.__typename)&&"EGDSOpenDatePickerAction"===(null==(l=I.action)?void 0:l.__typename)&&"EGDSDateRangePicker"===I.action.datePicker.__typename&&null!=(i=I.action.datePicker.maxNumberOfDaysSelected)?i:0,F=e=>T.map(((t,a)=>{const{__typename:l}=t,r=lu.find((({displayName:e})=>e===l));if(!r)return null;const i=$d(l,e),o=s.fieldsWithErrors.find((e=>e.__typename===l)),c=ge(Ee({},C),{fieldError:o});return n.createElement(f.j,Ee({key:`field_${l}_${a}`},i),n.createElement("div",null,n.createElement(r,Ee({data:t},c))))}));return n.createElement(b.E,{id:"package-search-form",name:"package-search-form",onFieldChange:(e,a)=>{null==t||t(e,a)},onSubmit:e=>{var t;e.preventDefault();const n=Array.from(e.currentTarget.elements),l={location:{origin:n.find(Al("origin-select"))},dates:{startDateInput:n.find(Al("EGDSDateRangePicker-StartDate-date-range-select")),endDateInput:n.find(Al("EGDSDateRangePicker-EndDate-date-range-select")),config:{maxNumberOfDaysSelected:A}}},r=Cl(l);0===r.length?null==a||a(e):u({fieldsWithErrors:r,errorCount:r.length,displayErrorSummary:!0,errorLinkReference:o[null==(t=r[0])?void 0:t.__typename]})},hasRequiredFieldIndicator:!0},h&&S&&n.createElement(r.b,{margin:{blockend:"two"}},n.createElement("div",null,n.createElement(ze,{data:S,errorCount:v,inputErrorRef:D}))),n.createElement(d.LM,null,n.createElement(d.NP,null,E?n.createElement(Hi,{data:E,display:m,onDisplayToggle:e=>{p(e)}},n.createElement(f.i,ge(Ee({},iu),{direction:"column"}),F(d.OB.SMALL))):n.createElement(f.i,ge(Ee({},iu),{direction:"column"}),F(d.OB.SMALL))),n.createElement(d.rw,null,n.createElement(f.i,ge(Ee({},iu),{wrap:"wrap"}),F(d.OB.MEDIUM))),n.createElement(d.zQ,null,n.createElement(f.i,ge(Ee({},iu),{wrap:"wrap"}),F(d.OB.LARGE)))))};ou.fragment=ru,ou.displayName="PrebundlesSearchForm";var cu={SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE")},su={linkName:"Packages Search Form Fallback Presented",referrerId:"Web.Packages.Search.Form.Fallback.Presented"},du={linkName:"Packages Search Form Presented",referrerId:"Web.Packages.Search.Form.Presented"},uu=u.J1`
  query PackagesSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $packageSearchCriteria: PackageSearchCriteriaInput
    $packageShoppingCriteria: ProductShoppingCriteriaInput
    $includePlayback: Boolean = false
    $packageType: PackageType
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      packages(packageSearchCriteria: $packageSearchCriteria, packageShoppingCriteria: $packageShoppingCriteria, packageType: $packageType) {
        ...PrebundlesSearchFormFragment
        ...MultiPackagesSearchFormFragment
        ... on PackagesSearchForm {
          packageSelection {
            noSelectionMessage {
              ...NoSelectionMessageFragment
            }
          }
        }
      }
    }
  }

  ${ou.fragment}
  ${tu.fragment}
  ${nu.fragment}
`,mu={rows:[{type:"primary"},{type:"primary"},{type:"primary"}]},pu={rows:[{type:"primary"}]},yu=e=>{var t,a,l,r,i;const{inputs:o,skipSsr:c,includePlayback:s,batchKey:u,skipQuery:y=!1,pageLocation:_}=e,{packageType:S}=o,{context:h}=(0,m.R)(),v=(0,p.useLoggerEvents)(cu),[D,f]=n.useState(y),T=ge(Ee({},o),{context:h,includePlayback:Boolean(s),pageLocation:_}),{data:b,error:C,loading:I,previousData:A}=(0,g.I)(uu,{context:{batchKey:u},variables:T,ssr:!c,skip:D});n.useEffect((()=>{f(y&&!I)}),[I,y]);const F=b||A;if(I)return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(We,Ee({},mu))),n.createElement(d.rw,null,n.createElement(We,Ee({},pu))));if(C||!F||!(null==(t=null==F?void 0:F.searchForm)?void 0:t.packages)){v.SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE.log({name:null==C?void 0:C.name,error:new Error(null==C?void 0:C.message)});const t=(e=>{let t=[];switch(e){case"HOTEL_CAR":t=[md(),Dd,Ad];break;case"FLIGHT_HOTEL_CAR":case"FLIGHT_HOTEL":t=[pd(e),Dd,Cd,fd];break;case"FLIGHT_CAR":t=[pd(e),Dd,Id,fd]}return{searchForm:{packages:{errorSummary:cd,search:sd,elements:t,__typename:"PackagesSearchForm",actionURL:"/flexibleshopping",packageSelection:dd,searchLocation:Ql},__typename:"SearchFormResults"}}})(S);return(null==(a=null==t?void 0:t.searchForm)?void 0:a.packages)&&"PackagesSearchForm"===t.searchForm.packages.__typename&&"PackagesSearchFormSelection"===(null==(l=t.searchForm.packages.packageSelection)?void 0:l.__typename)?null===S?n.createElement(Fe,null,n.createElement(nu,{data:t.searchForm.packages.packageSelection.noSelectionMessage})):n.createElement(Fe,null,n.createElement(E.ee,Ee({},su),S?n.createElement(tu,ge(Ee({},e),{packageType:S,data:t.searchForm.packages,includeCabinClassField:Boolean(s)})):n.createElement(ou,ge(Ee({},e),{data:t.searchForm.packages})))):null}return(null==(r=null==F?void 0:F.searchForm)?void 0:r.packages)&&"PackagesSearchForm"===F.searchForm.packages.__typename&&"PackagesSearchFormSelection"===(null==(i=F.searchForm.packages.packageSelection)?void 0:i.__typename)?null===S?n.createElement(nu,{data:F.searchForm.packages.packageSelection.noSelectionMessage}):n.createElement(E.ee,Ee({},du),S?n.createElement(tu,ge(Ee({},e),{packageType:S,data:F.searchForm.packages,includeCabinClassField:Boolean(s)})):n.createElement(ou,ge(Ee({},e),{data:F.searchForm.packages}))):null};yu.displayName="sharedui-PackagesSearchForm";var _u=e=>{const{inputs:t,onPackageTypeChange:a,includePlayback:l,enableReflection:r,sticky:o}=e,[c,s]=n.useState(t.packageType),[u,m]=n.useState({name:"",value:""}),[p,y]=n.useState(!0),[_,S]=n.useState(!0),[E,g]=n.useState(!1),[h,v]=n.useState(!1),D=o?he:n.Fragment,f=n.useCallback((e=>{s(e),null==a||a(e);const t="HOTEL_CAR"===e;y(!t&&null!==e),S(!t&&null!==e)}),[s,a]),T=n.useCallback((e=>{m(e),g(!0)}),[m]),b=n.useCallback((e=>{v(e)}),[v]),C=n.createElement(ld,ge(Ee({},e),{onPackageTypeChange:f,onCabinClassSelect:T,inputs:Ee({},t),showCabinClass:p,showDirectFlightsOnly:_,skipQuery:E,handleDirectFlightsOnlySwitch:b})),I=n.createElement(yu,ge(Ee({},e),{inputs:ge(Ee({},t),{packageType:c}),cabinClass:u,directFlightsOnlySwitch:h,showDirectFlightsOnly:_,handleDirectFlightsOnlySwitch:b})),A=n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,!l&&C,I)),n.createElement(d.rw,null,n.createElement(D,null,C,I)));return r?n.createElement(i.tb,null,n.createElement("div",{"data-stid":"search-form-with-reflection"},A)):A},Su=u.J1`
  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {
    linkName
    referrerId
  }
`,Eu=u.J1`
  fragment SearchFormDirectFlightFragment on SearchFormDirectFlight {
    accessibilityText
    id
    isApplied
    label
    selectAnalytics {
      ...ClientSideAnalyticsFragment
    }
    unselectAnalytics {
      ...ClientSideAnalyticsFragment
    }
  }

  ${Su}
`,gu=e=>{const t=(0,E.KY)(),{data:a,onChange:l}=e,{accessibilityText:r,id:i,isApplied:o,label:c,selectAnalytics:s,unselectAnalytics:d}=a;return n.createElement(K.E,{a11yLabel:null!=r?r:"",id:i,checked:o,onChange:e=>{const a=e.currentTarget.checked?s:d;a&&t(a.referrerId,a.linkName),null==l||l(e)}},c)};gu.displayName="SearchFormDirectFlight",gu.fragment=Eu;var hu=u.J1`
  fragment FlightTypeSelectorOptionsFragment on EGDSSearchFormSelectAction {
    analytics {
      linkName
      referrerId
    }
    options {
      ...FlightTypeSelectorOptionFragment
    }
    apply {
      ...EGDSPrimaryButtonFragment
    }
  }

  fragment FlightTypeSelectorOptionFragment on EGDSBasicOption {
    changeAnalytics {
      linkName
      referrerId
    }
    value
    label
    selected
  }

  ${Za.fragment}
`,vu={ONE_WAY:"ONE_WAY",ROUND_TRIP:"ROUND_TRIP",MULTI_CITY:"MULTI_DESTINATION"},Du=({data:e,onFlightTypeSelect:t,flightTypeOverride:a})=>{const l=(0,d.eg)({viewSizes:d.pf}),r=(0,E.KY)(),i=e.options.filter((({__typename:e})=>"EGDSBasicOption"===e)),[o,c]=n.useState(a?i.findIndex((e=>e.value===a)):i.findIndex((e=>e.selected))),s={selectedTab:o,onTabSelect:e=>{const{value:a,changeAnalytics:n}=i[e];if(c(e),null==t||t(fe[vu[a]]),n){const{linkName:e,referrerId:t}=n;r(e,t)}},tabsType:l<=d.pf.SMALL?S.c.EQUAL_WIDTH:S.c.NATURAL};return n.createElement(S.f,Ee({},s),i.map((({value:e,label:t})=>{const a=vu[e]||e;return n.createElement(S.E,{id:`FlightSearchForm_${a}`,key:e,name:t,targetURI:`?flightType=${e}`})})))};Du.fragment=hu,Du.displayName="FlightTypeSelectorOptions";var fu={SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE"),SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE")},Tu={SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_FALLBACK_IMPRESSION:{linkName:"Flights Search Form Fallback Presented",referrerId:"Web.Flights.Search.Form.Fallback.Presented"},SEARCH_TOOLS_FLIGHTS_OPTIONS_FALLBACK_IMPRESSION:{linkName:"Flights Options Fallback Presented",referrerId:"Web.Flights.Options.Fallback.Presented"},SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_IMPRESSION:{linkName:"Flights Search Form Presented",referrerId:"Web.Flights.Search.Form.Presented"},SEARCH_TOOLS_FLIGHTS_OPTIONS_IMPRESSION:{linkName:"Flights Options Presented",referrerId:"Web.Flights.Options.Presented"}},bu=u.J1`
  query FlightOptionsQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $flightSearchCriteria: FlightSearchCriteriaInput
    $includeFlightType: Boolean = false
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      flight(flightSearchCriteria: $flightSearchCriteria) {
        ...FlightsOptionsSearchFormFragment
      }
    }
  }

  fragment FlightsOptionsSearchFormFragment on FlightSearchForm {
    flightTypeSelector @include(if: $includeFlightType) {
      action {
        ... on EGDSSearchFormSelectAction {
          ...FlightTypeSelectorOptionsFragment
        }
      }
    }

    elements {
      ...EGDSSearchFormInputFieldFragment
    }

    directFlight {
      ...SearchFormDirectFlightFragment
    }
  }

  ${Du.fragment}
  ${cn.fragment}
  ${gu.fragment}
`,Cu=e=>{var t,a;const{inputs:l,skipSsr:r,onFlightTypeSelect:i,onCabinClassSelect:o,onDirectFlightsSelect:c,directFlightsOnlySwitch:s,batchKey:u}=e,{includeFlightType:y}=l,{context:_}=(0,m.R)(),S=ge(Ee({},l),{context:_}),h=(0,p.useLoggerEvents)(fu),{data:v,error:D,loading:C}=(0,g.I)(bu,{context:{batchKey:u},variables:S,ssr:!r}),{exposure:I}=(0,R.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB");let A=v;if(n.useEffect((()=>{var e,t;if(o){const a="FlightSearchForm"===(null==A?void 0:A.searchForm.flight.__typename)?A.searchForm.flight.elements.find((e=>{var t;return"EGDSSearchFormInputField"===e.__typename&&"EGDSSearchFormSelectAction"===(null==(t=e.action)?void 0:t.__typename)})):null;if("EGDSSearchFormInputField"===(null==a?void 0:a.__typename)&&"EGDSSearchFormSelectAction"===(null==(e=a.action)?void 0:e.__typename)){const e=`${ln}-${a.egdsElementId}`,n=a.action.options.find((e=>e.selected));o({name:e,value:null!=(t=null==n?void 0:n.value)?t:""})}}}),[null==A?void 0:A.searchForm,o]),C)return n.createElement(T.b,{animation:!0,type:"secondary"});const F=D||!v;(F||"FlightSearchForm"!==(null==(t=v.searchForm)?void 0:t.flight.__typename))&&(A={searchForm:{flight:{directFlight:null,flightTypeSelector:{action:{analytics:{linkName:"Web.Flight - Open Flight Type Selector",referrerId:"Web.Flight.flight.type.selector.open",__typename:"ClientSideAnalytics"},options:[{changeAnalytics:{linkName:"Flight roundtrip change",referrerId:"Web.Flight.Search.Tab.Roundtrip",__typename:"ClientSideAnalytics"},value:"ROUND_TRIP",label:"Roundtrip",selected:!0,__typename:"EGDSBasicOption"},{changeAnalytics:{linkName:"Flight one way change",referrerId:"Web.Flight.Search.Tab.Oneway",__typename:"ClientSideAnalytics"},value:"ONE_WAY",label:"One-way",selected:!1,__typename:"EGDSBasicOption"},{changeAnalytics:{linkName:"Flight multicity change",referrerId:"Web.Flight.Search.Tab.Multicity",__typename:"ClientSideAnalytics"},value:"MULTI_CITY",label:"Multi-city",selected:!1,__typename:"EGDSBasicOption"}],apply:{egdsElementId:"flight_type_selector",primary:"Apply",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Web.Flight - Flight Type Apply",referrerId:"Web.Flight.flight.type.selector.apply.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"},elements:[{egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.Flight.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.Flight.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.Flight.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.Flight.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.Flight.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"}],__typename:"FlightSearchForm"},__typename:"SearchFormResults"}},h.SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE.log({name:null==D?void 0:D.name,error:new Error(null==D?void 0:D.message)}));const O=F?Fe:n.Fragment,{elements:k,flightTypeSelector:G,directFlight:L}=null==A?void 0:A.searchForm.flight,P={space:"three",alignItems:"start",wrap:"wrap"},M=y&&"EGDSSearchFormSelectAction"===(null==(a=null==G?void 0:G.action)?void 0:a.__typename)&&n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(f.j,{minWidth:"full_width"},n.createElement("div",null,n.createElement(Du,ge(Ee({},e),{data:G.action}))))),n.createElement(d.rw,null,n.createElement(f.j,null,n.createElement("div",null,n.createElement(Du,ge(Ee({},e),{data:G.action})))))),N=k.find((e=>"EGDSSearchFormInputField"===e.__typename)),x=0===I.bucket&&N&&n.createElement(f.j,null,n.createElement("div",null,n.createElement(b.E,{onFieldChange:e=>{null==o||o(e)}},n.createElement(cn,{data:N,triggerType:"pill"})))),B=L&&n.createElement(f.j,null,n.createElement("div",null,n.createElement(gu,{data:ge(Ee({},L),{isApplied:null!=s?s:L.isApplied}),onChange:e=>{const{checked:t}=e.target;null==c||c(t)}})));return n.createElement(O,null,n.createElement(E.ee,Ee({},F?Tu.SEARCH_TOOLS_FLIGHTS_OPTIONS_FALLBACK_IMPRESSION:Tu.SEARCH_TOOLS_FLIGHTS_OPTIONS_IMPRESSION),n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(f.i,Ee({},P),M,x,B)),n.createElement(d.rw,null,n.createElement(f.i,ge(Ee({},P),{alignItems:"center"}),M,x,B)))))};Cu.displayName="sharedui-FlightOptions";var Iu=(e=5)=>{const t=new Date,a=new Date(t);a.setDate(t.getDate()+e);const n=new Date(a);return n.setDate(a.getDate()+4),{departureDate:{day:a.getDate(),month:a.getMonth()+1,year:a.getFullYear()},arrivalDate:{day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear()}}},Au=new Date,Fu=new Date;Fu.setDate(Fu.getDate()+14);var Ou=new Date;Ou.setDate(Ou.getDate()+15);var ku=new Date;function Gu(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}ku.setMonth(ku.getMonth()+10),ku.setDate(ku.getDate()-5);var Ru=e=>`${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${e.getDate()}`,Lu={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Flight.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Pu={__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},Mu={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},Nu={__typename:"UISecondaryButton",egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null},xu={__typename:"UISecondaryButton",egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null},Bu=[{__typename:"EGDSSameValueInputValidation",errorMessage:"Please make sure your departure and arrival cities are different"}],$u={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:`${Ru(Fu)} - ${Ru(Ou)}`,errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!1,selectedStartDate:Ee({},Gu(Fu)),startDatePlaceholderText:Ru(Fu),selectedEndDate:Ee({},Gu(Ou)),endDatePlaceholderText:Ru(Ou),validDaysLowerBoundInclusive:Ee({},Gu(Au)),validDaysUpperBoundInclusive:Ee({},Gu(ku)),submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Flight.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Flight.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"flight calendar end date click",referrerId:"Web.Flight.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},Wu={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Date",placeholder:Ru(Fu),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",firstDayOfWeek:"SUN",selectedStartDate:Ee({},Gu(Fu)),startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},validDaysLowerBoundInclusive:Ee({},Gu(Au)),validDaysUpperBoundInclusive:Ee({},Gu(ku)),__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"}},wu={action:{analytics:{linkName:"Travelers selector displayed",referrerId:"Travelers selector updated",__typename:"ClientSideAnalytics"},travelerSelector:{closeButton:{egdsElementId:"travelers_selector_close_button",primary:"Close",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Close button",referrerId:"Web.Flight.Search.Traveler.Selector.Close.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"travelers_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Done button",referrerId:"Web.Flight.Search.Traveler.Selector.Done.Button.Clicked",__typename:"ClientSideAnalytics"},action:{__typename:"ActivityAddOfferToTripAction",accessibility:""},__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Flights.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Flights.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",label:"Adults",max:6,min:1,step:1,subLabel:null,value:1,__typename:"EGDSTravelerStepInput"},children:{count:{decreaseAnalytics:{linkName:"Children traveler removed",referrerId:"Web.Flights.Traveler.Remove.Children",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Children traveler added",referrerId:"Web.Flights.Traveler.Add.Children",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_children_step_input",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"2",value:"2",egdsElementId:"children_age_option_2",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"3",value:"3",egdsElementId:"children_age_option_3",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"4",value:"4",egdsElementId:"children_age_option_4",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"5",value:"5",egdsElementId:"children_age_option_5",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"6",value:"6",egdsElementId:"children_age_option_6",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"7",value:"7",egdsElementId:"children_age_option_7",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"8",value:"8",egdsElementId:"children_age_option_8",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"9",value:"9",egdsElementId:"children_age_option_9",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"10",value:"10",egdsElementId:"children_age_option_10",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"11",value:"11",egdsElementId:"children_age_option_11",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"12",value:"12",egdsElementId:"children_age_option_12",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"13",value:"13",egdsElementId:"children_age_option_13",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"14",value:"14",egdsElementId:"children_age_option_14",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"15",value:"15",egdsElementId:"children_age_option_15",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"16",value:"16",egdsElementId:"children_age_option_16",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"17",value:"17",egdsElementId:"children_age_option_17",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Flights.Traveler.Remove.InfantsInSeat",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Flights.Traveler.Add.InfantsInSeat",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants in seat",decreaseTextTemplate:null,increaseText:"Increase the number of infants in seat",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_in_seat_step_input",label:"Infants in seat",max:4,min:0,step:1,subLabel:"Younger than 2",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"infants_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"0",value:"0",egdsElementId:"infants_age_option_0",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:"infants_age_option_1",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_infant_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},infantsOnLap:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Flights.Traveler.Remove.InfantsOnLap",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Flights.Traveler.Add.InfantsOnLap",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants on lap",decreaseTextTemplate:null,increaseText:"Increase the number of infants on lap",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_on_lap_step_input",label:"Infants on lap",max:4,min:0,step:1,subLabel:"Younger than 2",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"infants_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"0",value:"0",egdsElementId:"infants_age_option_0",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:"infants_age_option_1",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_infant_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},pets:null,__typename:"EGDSTravelers"},validations:[{errorMessage:"We allow up to 6 travelers per booking.",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Flight.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for each infant on lap.",maxCount:null,type:"MANY_INFANT_ON_LAP",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for each infant on lap.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",maxCount:null,type:"MANY_INFANT_IN_SEAT",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],secondaryTemplates:null,text:"1 traveler",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1,__typename:"EGDSSearchFormTravelersField"},Uu={__typename:"EGDSSearchFormInputField",egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{__typename:"Icon",id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null},action:{__typename:"EGDSSearchFormSelectAction",analytics:{__typename:"ClientSideAnalytics",linkName:"Open Cabin Class Selector",referrerId:"Web.Flight.cabin.class.selector.open"},options:[{__typename:"EGDSBasicOption",changeAnalytics:{__typename:"ClientSideAnalytics",linkName:"Economy class selected",referrerId:"Web.Flight.cabin.class.economy.selected"},selected:!0,value:"COACH",label:"Economy"},{__typename:"EGDSBasicOption",changeAnalytics:{__typename:"ClientSideAnalytics",linkName:"Premium economy class selected",referrerId:"Web.Flight.cabin.class.premium.economy.selected"},selected:!1,value:"ECONOMY_PREMIUM",label:"Premium economy"},{__typename:"EGDSBasicOption",changeAnalytics:{__typename:"ClientSideAnalytics",linkName:"Business class selected",referrerId:"Web.Flight.cabin.class.business.class.selected"},selected:!1,value:"BUSINESS",label:"Business class"},{__typename:"EGDSBasicOption",changeAnalytics:{__typename:"ClientSideAnalytics",linkName:"First class selected",referrerId:"Web.Flight.cabin.class.first.class.selected"},selected:!1,value:"FIRST_CLASS",label:"First class"}]}},Hu={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Flight.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},Vu=[{id:"multiDestinationLeg_0",locations:{egdsElementId:"locations",origin:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],__typename:"EGDSSearchFormLocationsField"},date:{egdsElementId:"date_form_field",label:"Date",placeholder:Ru(Fu),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:Ee({},Gu(Fu)),validDaysLowerBoundInclusive:Ee({},Gu(Au)),validDaysUpperBoundInclusive:Ee({},Gu(ku)),submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},__typename:"FlightSearchFormLeg"},{id:"multiDestinationLeg_1",locations:{egdsElementId:"locations",origin:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],__typename:"EGDSSearchFormLocationsField"},date:{egdsElementId:"date_form_field",label:"Date",placeholder:Ru(Fu),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:Ee({},Gu(Fu)),validDaysLowerBoundInclusive:Ee({},Gu(Au)),validDaysUpperBoundInclusive:Ee({},Gu(ku)),submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},__typename:"FlightSearchFormLeg"}],zu={accessibility:null,action:null,analytics:{linkName:"Add Leg button clicked",referrerId:"Web.Flight.Search.AddLeg.Button.Clicked",__typename:"ClientSideAnalytics"},disabled:!1,egdsElementId:"add_leg_button",icon:{description:"ADD",id:"add",title:null,token:"icon__add",__typename:"Icon"},primary:"Add another flight",__typename:"UITertiaryButton"},Yu={accessibility:null,action:null,analytics:{linkName:"Remove Leg button clicked",referrerId:"Web.Flight.Search.RemoveLeg.Button.Clicked",__typename:"ClientSideAnalytics"},disabled:!1,egdsElementId:"remove_leg_button",icon:null,primary:"Remove",__typename:"UITertiaryButton"},qu={models:[{key:"legNumber",source:"legNumber",__typename:"TemplateModel"}],template:"Flight ${legNumber}",__typename:"EGDSBasicLocalizedText"},ju=e=>e.valueOf()==="ROUND_TRIP".valueOf()?$u:Wu,Ku={__typename:"FlightSearchFormTravelersComposition",label:"Travelers, Cabin class",title:"Travelers and Cabin class"},Ju=e=>{const t=(e=>{if(e.valueOf()==="MULTI_DESTINATION".valueOf())return{legs:Vu,addLeg:zu,removeLeg:Yu,legHeading:qu};const t=ju(e);return{legs:(a=e,n=t,[{id:a,locations:{__typename:"EGDSSearchFormLocationsField",egdsElementId:"locations",origin:{__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}]},date:n,__typename:"FlightSearchFormLeg"}]),addLeg:null,removeLeg:null,legHeading:null};var a,n})(e);return{__typename:"FlightSearchForm",travelersComposition:Ku,egdsElementId:"flight-search-form",actionURL:"/Flights-Search",errorSummary:Lu,elements:[{egdsElementId:"flight_locations",origin:Pu,destination:Mu,horizontalSwapper:Nu,verticalSwapper:xu,validations:Bu,__typename:"EGDSSearchFormLocationsField"},ju(e),wu,Uu],search:Hu,addLeg:t.addLeg,removeLeg:t.removeLeg,legHeading:t.legHeading,legs:t.legs,playback:null,maxAllowedLegs:5,localDateFormat:"M/d/yyyy",softPackages:null,searchLocation:Ql,valuePropMessage:null,searchFormAnalytics:null}},Qu=({data:e,children:t})=>{var a;return e?n.createElement(E.ee,{referrerId:e.referrerId,linkName:null!=(a=e.linkName)?a:e.referrerId,intersectionOptions:{threshold:.5}},t):n.createElement(n.Fragment,null,t)};Qu.displayName="ClientSideImpressionEventAnalytics",Qu.fragment=Su;var Xu=u.J1`
  fragment TravelersCompositionFragment on FlightSearchFormTravelersComposition {
    __typename
    label
    title
  }
`,Zu="LeftIconFlexItem",em="default",tm={SMALL:{LeftIconFlexItem:{alignSelf:void 0},default:{alignSelf:"center"}},MEDIUM:{LeftIconFlexItem:{alignSelf:"center"},default:{}},LARGE:{default:{}},EXTRA_LARGE:{default:{}}},am=(e,t)=>{var a;const n=tm[t];return null!=(a=n[e])?a:n.default},nm="mainLayout",lm="contentLayout",rm={space:"three",alignItems:"center"},im={SMALL:{mainLayout:ge(Ee({},rm),{justifyContent:"start"}),contentLayout:{direction:"column",space:"two"}},MEDIUM:{mainLayout:Ee({},rm),contentLayout:{alignItems:"center",space:"three"}},LARGE:{mainLayout:{}},EXTRA_LARGE:{mainLayout:{}}},om=(e,t)=>{var a;return null!=(a=im[t][e])?a:im[t].mainLayout},cm=({viewSize:e,toggleVisibility:t,triggerRef:a,data:r,children:i})=>{const{illustration:o,moreInfoTrigger:c,primary:s}=r;return n.createElement(l.i,null,n.createElement(f.i,Ee({},om(nm,e)),o&&n.createElement(f.j,Ee({},am(Zu,e)),n.createElement(ce.E,{url:o.url,alt:""})),n.createElement(f.j,Ee({},am(em,e)),n.createElement(f.i,Ee({},om(lm,e)),n.createElement("div",null,c&&n.createElement(Pt,{data:c,onHandleClick:t,ref:a},n.createElement(A.E,{size:7},c.text)),s&&n.createElement(A.E,{size:7},s)),i))))},sm=u.J1`
  fragment SearchFormMessagingFragment on SearchFormMessaging {
    primary
    illustration {
      url
    }
    moreInfoTrigger {
      ...EGDSSearchFormMoreInfoTriggerFragment
    }
  }
  ${Pt.fragment}
`,dm=({data:e,children:t})=>{const{moreInfoTrigger:a}=e,l=n.useRef(null),[i,o]=n.useState(!1),c=()=>{var e;o(!i),i&&(null==(e=l.current)||e.focus())},s={data:e,toggleVisibility:c,triggerRef:l,viewSize:d.OB.SMALL},u=(e=d.OB.SMALL)=>{const t=e===d.OB.SMALL?l:null;return a&&n.createElement(Rt,{isVisible:i,data:a.triggerAction.sheet,ref:t,toggleVisibility:c,sheetTypesByView:{mobile:"POPOVER",desktop:"POPOVER"}},n.createElement(A.a,{size:2},a.triggerAction.text))};return n.createElement(D.d,{type:"relative"},n.createElement(r.b,{margin:{small:{blockstart:"two"},medium:{blockstart:"three"}}},n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(n.Fragment,null,n.createElement(cm,Ee({},s),t),u())),n.createElement(d.rw,null,n.createElement(n.Fragment,null,n.createElement(cm,ge(Ee({},s),{viewSize:d.OB.MEDIUM}),t),u(d.OB.MEDIUM)))))))};dm.fragment=sm,dm.displayName="SearchFormMessaging";var um=u.J1`
  fragment SoftPackagesFragment on SoftPackages {
    actionURL
    addCar {
      ...EGDSCheckBoxFragment
    }
    addFlight {
      ...EGDSCheckBoxFragment
    }
    addHotel {
      ...EGDSCheckBoxFragment
    }
    origin {
      ...EGDSSearchFormLocationFieldFragment
    }
    datesForHotelStay {
      ...EGDSSearchFormDatePickerFieldFragment
    }
    maxBookableTravelers
    maxTravelersErrorMessage
    validDaysUpperBoundInclusive {
      day
      month
      year
    }
  }

  ${ca.fragment}
  ${Wi.fragment}
`,mm="EGDSSoftPackagesPackageType",pm=e=>{const{data:t,onProductSelect:a,setFieldRefByTypename:l,fieldError:r,currentSearchFormProduct:i,searchLocationContent:o,searchFormMessaging:c}=e,{addCar:s,addFlight:d,origin:u,addHotel:m,datesForHotelStay:p}=t,y=e=>{a(e)},_=u&&"EGDSBasicCheckBox"===(null==d?void 0:d.__typename)&&"CHECKED"===d.state,S=u&&n.createElement(Ld,null,n.createElement(Wi,{data:u,searchLocationContent:o,setFieldRefByTypename:l,fieldError:r})),E=p&&"EGDSBasicCheckBox"===(null==m?void 0:m.__typename)&&"CHECKED"===m.state,g=p&&n.createElement(Ld,null,n.createElement(Qa,{data:p,setFieldRefByTypename:(e,t,a)=>{l(`${e}SoftPackages`,t,a)},fieldError:r})),h=e=>"EGDSBasicCheckBox"===(null==e?void 0:e.__typename)&&"CHECKED"===e.state,v=((e,t="hotels")=>{if("hotels"===t){const{flightAdded:t,carAdded:a}=e;if(t&&a)return"fhc";if(t)return"fh";if(a)return"hc"}else if("flights"===t){const{hotelAdded:t,carAdded:a}=e;if(t&&a)return"fhc";if(t)return"fh";if(a)return"fc"}return""})({flightAdded:h(d),carAdded:h(s),hotelAdded:h(m)},i),D=[m,d,s],T=n.createElement(f.i,{direction:"row",space:"three"},D.map((e=>e?n.createElement(f.j,{key:null==e?void 0:e.egdsElementId},n.createElement("div",null,n.createElement(ca,{data:e,onChange:y}))):null)));return n.createElement(n.Fragment,null,c?n.createElement(dm,{data:c},T):T,_&&S,E&&g,n.createElement("input",{"data-stid":mm,type:"hidden",name:mm,value:v}))};pm.fragment=um,pm.displayName="SoftPackages";var ym=(e=>(e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVELER_SELECTOR="EGDSBasicTravelerSelector",e))(ym||{}),_m={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},Sm={COACH:"economy",PREMIUM_ECONOMY:"premium",BUSINESS:"business",FIRST:"first",ANY:"any"},Em=({day:e,month:t,year:a},n)=>{const l=e<10?`0${e}`:e,r=t<10?`0${t}`:t;return n.formatDateString(`${a}-${r}-${l}`,{raw:n.localDateFormat})},gm=(e,t,a=!1)=>{const{day:n,month:l,year:r}=t;return`&${e}=${r}-${a?l<10?`0${l}`:l:l}-${a?n<10?`0${n}`:n:n}`},hm=(e,t,a,n)=>{var l,r;const{tripType:i,journeyCriterias:o,travelers:c,searchPreferences:s}=e.primary,d=`trip=${_m[i]}`,u=o.reduce(((e,t,l)=>{var r,i;const{origin:o,destination:c,departureDate:s,arrivalDate:d}=t,u=null!=(r=null==n?void 0:n.get(o))?r:"U",m=null!=(i=null==n?void 0:n.get(c))?i:"U";return`${e}${`&leg${l+1}=from:${o},to:${c},departure:${Em(s,a)}TANYT,fromType:${u},toType:${m}`}${d?`&leg2=from:${c},to:${o},departure:${Em(d,a)}TANYT,fromType:${m},toType:${u}`:""}`}),""),m=`options=${s?`cabinclass:${Sm[s.cabinClass]}`:""}${(null==(r=null==(l=e.primary.searchPreferences)?void 0:l.advancedFilters)?void 0:r.includes("NONSTOP"))?"maxhops:0":""}`,p=c.some((({type:e})=>"INFANT_IN_SEAT"===e))?"&ChildInSeat=seat":"",y=c.some((({type:e})=>"INFANT_IN_LAP"===e)),_=c.filter((e=>"CHILD"===e.type||"INFANT_IN_LAP"===e.type||"INFANT_IN_SEAT"===e.type)),S=c.filter((e=>"ADULT"===e.type)),E=`passengers=${_.length>0?`children:${_.length}[${_.map((e=>e.age)).join(";")}],`:""}${S.length>0?`adults:${S.length},`:""}${y?"infantinlap:Y":"infantinlap:N"}`,[g]=o,{departureDate:h,arrivalDate:v}=g;return`?flight-type=on&mode=search&${d}${u}&${m}${p}${`&fromDate=${Em(h,a)}${v?`&toDate=${Em(v,a)}`:""}${gm("d1",h)}${v?gm("d2",v):""}`}&${E}${"true"===(null==t?void 0:t.get("airCreditIntent"))?"&airCreditIntent=true":""}`},vm=(e,t,a,n)=>{const l=["EGDS","add-"],r=e.filter((({name:e})=>l.some((t=>e.startsWith(t))))),i=`tripType=${t}`,o=r.reduce(((e,t)=>{const{name:a,value:l,checked:i}=t;if(a.startsWith("EGDSSoftPackagesPackageType")){const t=l.includes("h")?"&isPartialStay=1":"";return`${e}&packageType=${l}${t}`}const o="EGDSSearchFormLocationField";if(a.startsWith(o)){if(a.startsWith(`${o}-AirportCode-origin_select`))return`${e}&ftla=${l}`;if(a.startsWith(`${o}-RegionId-origin_select`))return`${e}&originId=${l}`;if(a.startsWith(`${o}-AirportCode-destination_select`))return`${e}&ttla=${l}`;if(a.startsWith(`${o}-Location-destination_select`))return`${e}&destination=${l}`;if(a.startsWith(`${o}-DestinationId-destination_select`))return`${e}&destinationId=${l}`}const c="EGDSSearchFormTravelersField";if(a.startsWith(c)){if(a.startsWith(`${c}-Adult`))return`${e}&numberOfRooms=1&adultsPerRoom[1]=${l}`;if(a.startsWith(`${c}-ChildrenAge`)){const[,t]=a.split(`${c}-ChildrenAge-`);return`${e}&childAges[1][${t}]=${l}`}if(a.startsWith(`${c}-InfantOnLapAge`)){const t=e.includes("InfantSeating")?"":"&InfantSeating=lap",a=e.includes("infantsInSeats")?"":"&infantsInSeats=0",n=(e.match(/childAges/g)||[]).length+1;return`${e}${t}${a}${`&childAges[1][${n}]=${l}`}`}if(a.startsWith(`${c}-InfantInSeatAge`)){const t=e.includes("InfantSeating")?"":"&InfantSeating=seat",a=e.includes("infantsInSeats")?"":"&infantsInSeats=1",n=(e.match(/childAges/g)||[]).length+1;return`${e}${t}${a}${`&childAges[1][${n}]=${l}`}`}}const s="EGDSSingleDatePicker",d="EGDSDateRangePickerSoftPackages",u="EGDSDateRangePicker";if(a.includes(s)||a.includes(d)||a.includes(u)){const t=(e=>{const[t,a,n]=e.split("-");return{__typename:"Date",year:Number(t),month:Number(a),day:Number(n)}})(l),i=Em(t,n);if(a.startsWith(s)){return`${e}${`&fromDate=${i}`}`}if(a.startsWith(d)){const n=a.startsWith(`${d}-StartDate-soft_packages_date_form_field`);return`${e}${gm(n?"d1":"d2",t,!0)}${`&${n?"checkInDate":"checkOutDate"}=${i}`}`}if(a.startsWith(u)){const n=a.startsWith(`${u}-StartDate-date_form_field`),l=`&${n?"fromDate":"toDate"}=${i}`,o=gm(n?"startDate":"endDate",t,!0),c=r.some((e=>e.name.startsWith("EGDSSoftPackagesPackageType")&&e.value.includes("h"))),s=c&&r.some((e=>e.name.startsWith(d))),m=gm(n?"d1":"d2",t,!0);return`${e}${l}${o}${s?"":`${m}${c?`&${n?"checkInDate":"checkOutDate"}=${i}`:""}`}`}}const m="add-";if(m){if(a.startsWith(`${m}hotel-switch`)&&i)return`${e}&add-hotel-checkbox=`;if(a.startsWith(`${m}car-switch`)&&i)return`${e}&add-car-checkbox=`}return e}),`?${i}`),c=a?"&isDirectFlight=true":"",s=(o.match(/childAges/g)||[]).length;return`${o}&childrenPerRoom[1]=${s}${c}`},Dm={[al]:"ADULT",[nl]:"CHILD",[rl]:"INFANT_IN_LAP",[ll]:"INFANT_IN_SEAT"},fm={ROUND_TRIP:"ROUND_TRIP",ONE_WAY:"ONE_WAY",MULTI_CITY:"MULTI_DESTINATION"},Tm={ECONOMY:"COACH",ECONOMY_PREMIUM:"PREMIUM_ECONOMY",BUSINESS:"BUSINESS",FIRST_CLASS:"FIRST",ANY:"ANY"},bm=(e,t)=>{const a=null==e?void 0:e.current,n={primary:{journeyCriterias:[],travelers:[],tripType:t},secondary:null};if(!a)return n;return Array.from(a.elements).filter((e=>e.name.startsWith("EGDS"))).reduce(Cm,n)},Cm=(e,t)=>{var a,n,l,r,i,o,c,s,d,u;const{name:m,value:p}=t;if(m.startsWith(`${ln}-flight_type_selector`)){const t=ge(Ee({},e.primary),{tripType:null!=(a=fm[p])?a:"ROUND_TRIP"});return ge(Ee({},e),{primary:t})}if(m.startsWith(`${ln}-cabin_class`)||"EGDS-defaultCabinClass"===m){const t=ge(Ee({},null!=(n=e.primary.searchPreferences)?n:{}),{cabinClass:null!=(l=Tm[p])?l:"COACH"}),a=ge(Ee({},e.primary),{searchPreferences:t});return ge(Ee({},e),{primary:a})}if(m.startsWith(tl)){const t=m.startsWith(al),a=m.split("-"),n=t?al:a.slice(0,a.length-1).join("-"),l=Number.parseInt(p,10),r=t?Array.from(Array(l).keys()).map((e=>({type:Dm[n],age:null}))):[{type:Dm[n],age:p?l:null}];return ge(Ee({},e),{primary:ge(Ee({},e.primary),{travelers:[...e.primary.travelers,...r]})})}if(m.startsWith(`${Ei}-origin_select`)){const t=`${Ei}-origin_select-`;if(m.startsWith(t)){const[,a]=m.split(t),n=[...e.primary.journeyCriterias];n[Number(a)]=ge(Ee({},null!=(r=n[Number(a)])?r:n[0]),{origin:p});const l=ge(Ee({},e.primary),{journeyCriterias:[...n]});return ge(Ee({},e),{primary:l})}const a=e.primary.journeyCriterias.length,n=ge(Ee({},null!=(i=e.primary.journeyCriterias[a-1])?i:{}),{origin:p}),l=ge(Ee({},e.primary),{journeyCriterias:[n]});return ge(Ee({},e),{primary:l})}if(m.startsWith(`${Ei}-destination_select`)){const t=`${Ei}-destination_select-`;if(m.startsWith(t)){const[,a]=m.split(t),n=[...e.primary.journeyCriterias];n[Number(a)]=ge(Ee({},null!=(o=n[Number(a)])?o:n[0]),{destination:p});const l=ge(Ee({},e.primary),{journeyCriterias:[...n]});return ge(Ee({},e),{primary:l})}const a=ge(Ee({},null!=(c=e.primary.journeyCriterias[0])?c:{}),{destination:p}),n=ge(Ee({},e.primary),{journeyCriterias:[a]});return ge(Ee({},e),{primary:n})}if(m.startsWith(Va.START_DATE_NAME_PREFIX)||m.startsWith(Va.END_DATE_NAME_PREFIX)){const[t,a,n]=p.split("-").map((e=>Number(e))),l=ge(Ee({},null!=(s=e.primary.journeyCriterias[0])?s:{}),{[m.startsWith(Va.START_DATE_NAME_PREFIX)?"departureDate":"arrivalDate"]:{day:n,month:a,year:t}}),r=ge(Ee({},e.primary),{journeyCriterias:[l]});return ge(Ee({},e),{primary:r})}if(m.startsWith(qa)){const[t,a,n]=p.split("-").map((e=>Number(e))),l=`${qa}-date_form_field-`;if(m.startsWith(l)){const[,r]=m.split(l),i=[...e.primary.journeyCriterias];i[Number(r)]=ge(Ee({},null!=(d=i[Number(r)])?d:i[0]),{departureDate:{day:n,month:a,year:t}});const o=ge(Ee({},e.primary),{journeyCriterias:[...i]});return ge(Ee({},e),{primary:o})}const r=ge(Ee({},null!=(u=e.primary.journeyCriterias[0])?u:{}),{departureDate:{day:n,month:a,year:t}}),i=ge(Ee({},e.primary),{journeyCriterias:[r]});return ge(Ee({},e),{primary:i})}return e},Im="yyyy-MM-dd",Am=e=>{var t,a,l;const{action:r,egdsElementId:o,label:c,placeholder:s,origin:d,destination:u,skipReflection:m}=e,{datePicker:p}=r,{formatDateString:y}=(0,$.useLocalization)(),{state:_,dispatch:S}=(0,i.kW)(),{start:E,end:g}=null!=(t=_.dates)?t:{},{origin:h,destination:v}=_,[D,f]=n.useState({startDate:(null==p?void 0:p.selectedStartDate)?y(lt(null==p?void 0:p.selectedStartDate),{raw:Im}):"",endDate:(null==p?void 0:p.selectedEndDate)?y(lt(null==p?void 0:p.selectedEndDate),{raw:Im}):"",shouldFireChangeEvent:!1}),{startDate:T,endDate:C,shouldFireChangeEvent:I}=D,A="EGDSDateRangePicker"===p.__typename?se.Yk.ROUND_TRIP:se.Yk.ONE_WAY,F=(0,b.u)(`FlightsFareCalendar-${A}`,(e=>e));n.useEffect((()=>{f({startDate:E||(p.selectedStartDate?y(lt(p.selectedStartDate),{raw:Im}):""),endDate:g||(p.selectedEndDate?y(lt(p.selectedEndDate),{raw:Im}):""),shouldFireChangeEvent:!1})}),[p]),n.useEffect((()=>{if(I){f((e=>ge(Ee({},e),{shouldFireChangeEvent:!1})));const e=A===se.Yk.ROUND_TRIP?`${T} - ${C}`:`${T}`;Xe(e,F)}}),[D]);const O={startName:o,startId:o,startLabel:c,endLabel:c,startPlaceholder:s,buttonText:p.buttonText},k={startDate:T,endDate:C,singleMode:A===se.Yk.ONE_WAY,dateFieldProps:O,onChange:e=>{let t,a;null==e||e.forEach((e=>{const{value:n,fieldName:l}=e;"startDate"===l?t=n:a=n})),t===D.startDate&&a===D.endDate||(m||S({type:"UPDATE_DATES",end:a,start:t}),f({startDate:t,endDate:a,shouldFireChangeEvent:!0}))},origin:null!=(a=null==h?void 0:h.term)?a:d,destination:null!=(l=null==v?void 0:v.term)?l:u,firstDayOfWeek:ot[p.firstDayOfWeek],tripType:A,onSubmitAnalytics:!0,singleTrigger:A===se.Yk.ROUND_TRIP};return n.createElement(n.Fragment,null,n.createElement(se.x3,Ee({},k)),A===se.Yk.ONE_WAY&&n.createElement("input",{type:"hidden","data-stid":qa,name:`${qa}-${o}`,value:T}),A===se.Yk.ROUND_TRIP&&n.createElement(n.Fragment,null,n.createElement("input",{type:"hidden","data-stid":Va.START_DATE_NAME_PREFIX,name:`${Va.START_DATE_NAME_PREFIX}-${o}`,value:T}),n.createElement("input",{type:"hidden","data-stid":Va.END_DATE_NAME_PREFIX,name:`${Va.END_DATE_NAME_PREFIX}-${o}`,value:C})))},Fm={},Om={[d.OB.SMALL]:{default:{minWidth:"full_width"}},[d.OB.MEDIUM]:{EGDSSearchFormLocationsField:{grow:1,minWidth:"half_width"},EGDSSearchFormDatePickerField:{minWidth:"third_width",maxWidth:"third_width"},EGDSSearchFormTravelersField:{grow:1},default:Fm},[d.OB.LARGE]:{EGDSSearchFormLocationsField:{minWidth:"half_width",maxWidth:"half_width"},EGDSSearchFormDatePickerField:{grow:2},EGDSSearchFormTravelersField:{grow:2},EGDSSearchFormButton:{grow:0},default:Fm},[d.OB.EXTRA_LARGE]:{EGDSSearchFormLocationsField:{minWidth:"half_width",maxWidth:"full_width"},EGDSSearchFormDatePickerField:{grow:2},EGDSSearchFormTravelersField:{grow:2},EGDSSearchFormButton:{grow:0},default:Fm}},km=(e,t)=>{var a;const n=Om[t];return null!=(a=n[e])?a:n.default},Gm=[ze,Rd,Qa,Sl],Rm=e=>{const{viewSize:t,fields:a,legs:l,defaultValidationProps:r,errorState:i,onLocationsSelection:o,updatePlaybackDates:c,fareCalendarData:s,search:u,softPackages:m,lastSearchLatLong:p,searchLocationAnalytics:y,searchLocationContent:_,onOpenLocationField:S,cabinClassField:E,travelersComposition:g,searchFormAnalytics:h}=e,v=new Map([["EGDSSearchFormDatePickerField",null==h?void 0:h.datePrefillImpression]]),D=l.length>0?[l[0].locations,l[0].date]:[],T=a.filter((e=>"EGDSSearchFormTravelersField"===e.__typename));T.length>0&&T[0]&&D.push(T[0]);const b=n.useContext(qm),{enablePriceCalendar:C,priceCalendarInputs:I,onLocationChange:A}=b,F=C?{lobName:"flights",enablePriceCalendar:C,priceCalendarInputs:I,onLocationChange:A}:void 0;return n.createElement(f.i,{alignContent:"start",justifyContent:"start",wrap:"wrap",space:"three"},D.map(((e,a)=>{const{__typename:l}=e,d=Gm.find((({displayName:e})=>e===l)),u=km(l,t),m=Ee(ge(Ee({},r),{fieldError:gl(i,l)}),"EGDSSearchFormLocationsField"===l&&{originFieldError:gl(i,`${e.origin.__typename}Origin`),destinationFieldError:gl(i,`${e.destination.__typename}Destination`)}),h={originRef:"EGDSSearchFormLocationsField"===l?m:null,destinationRef:"EGDSSearchFormLocationsField"===l?m:null,onLocationsSelection:"EGDSSearchFormLocationsField"===l?o:null,onOpenLocationField:"EGDSSearchFormLocationsField"===l?S:null,updatePlaybackDates:"EGDSSearchFormDatePickerField"===l?c:null,searchLocationAnalytics:"EGDSSearchFormLocationsField"===l?y:null,searchLocationContent:"EGDSSearchFormLocationsField"===l?_:null,lastSearchLatLong:"EGDSSearchFormLocationsField"===l?p:null,cabinClassField:"EGDSSearchFormTravelersField"===l?E:null,travelersComposition:"EGDSSearchFormTravelersField"===l?g:null};if("EGDSSearchFormDatePickerField"===l&&(null==s?void 0:s.enabled)){const t={action:e.action,egdsElementId:e.egdsElementId,label:e.label,placeholder:e.placeholder,origin:s.origin,destination:s.destination};return n.createElement(f.j,Ee({key:`field_${l}_${a}`},u),n.createElement("div",null,n.createElement(Qu,{data:v.get(l)},n.createElement(Am,ge(Ee(Ee({},t),e),{key:"SearchFormFareCalendarWrapper"})))))}return d&&n.createElement(f.j,Ee({key:`field_${l}_${a}`},u),n.createElement("div",null,n.createElement(Qu,{data:v.get(l)},n.createElement(d,Ee(ge(Ee(Ee({},m),h),{data:e}),{priceCalendarProps:F})))))})),t===d.OB.SMALL&&n.createElement(f.j,Ee({},km("SoftPackages",t)),n.createElement("div",null,m)),u&&"EGDSSearchFormButton"===u.__typename&&n.createElement(f.j,Ee({},km("EGDSSearchFormButton",t)),n.createElement("div",null,n.createElement(Ke,{data:u}))))},Lm={grow:5,minWidth:315,maxWidth:"full_width"},Pm={EGDSSearchFormButton:{},EGDSSearchFormLocationsField:ge(Ee({},Lm),{grow:10}),EGDSSearchFormDatePickerField:ge(Ee({},Lm),{grow:1}),EGDSSearchFormTravelersField:{grow:3,minWidth:225,maxWidth:225},default:Lm},Mm={[d.OB.SMALL]:ge(Ee({},Pm),{EGDSSearchFormTravelersField:{grow:3},EGDSSearchFormButton:{grow:1,minWidth:315}}),[d.OB.MEDIUM]:ge(Ee({},Pm),{EGDSSearchFormButton:{grow:0,minWidth:32}}),[d.OB.LARGE]:Pm,[d.OB.EXTRA_LARGE]:Pm},Nm=[ze,Rd,Qa,Sl,Ke,tn],xm=e=>{const{element:t,index:a,defaultValidationProps:l,viewSize:r,errorState:i,onLocationsSelection:o,legsElements:c,updatePlaybackDates:s,lastSearchLatLong:d,searchLocationAnalytics:u,searchLocationContent:m,travelersComposition:p,cabinClassField:y}=e,{__typename:_}=t,S=Nm.find((({displayName:e})=>e===_)),E=((e,t)=>{var a;const n=Mm[t];return null!=(a=n[e])?a:n.default})(_,r),g=Ee(ge(Ee({},l),{fieldError:gl(i,_)}),"EGDSSearchFormLocationsField"===_&&{originFieldError:gl(i,`${t.origin.__typename}Origin-leg${a}`),destinationFieldError:gl(i,`${t.destination.__typename}Destination-leg${a}`)}),h=(e,t)=>{l.setFieldRefByTypename(e,t,a.toString())},v=ge(Ee({originRef:"EGDSSearchFormLocationsField"===_?ge(Ee({},g),{setFieldRefByTypename:h}):null,destinationRef:"EGDSSearchFormLocationsField"===_?ge(Ee({},g),{setFieldRefByTypename:h}):null,lastSearchLatLong:"EGDSSearchFormLocationsField"===_?d:null,index:a},a>0?{skipReflection:!0}:{}),{onLocationsSelection:"EGDSSearchFormLocationsField"===_?o:null,updatePlaybackDates:"EGDSSearchFormDatePickerField"===_?s:null,totalLegs:c.length,input1Stid:"EGDSSearchFormDatePickerField"===_&&0!==a?a:null,searchLocationAnalytics:"EGDSSearchFormLocationsField"===_?u:null,searchLocationContent:"EGDSSearchFormLocationsField"===_?m:null,menuPosition:"EGDSSearchFormTravelersField"===_?ee.P.LEFT:ee.P.RIGHT,cabinClassField:"EGDSSearchFormTravelersField"===_?y:null,travelersComposition:"EGDSSearchFormTravelersField"===_?p:null});return n.createElement(f.j,Ee({key:`field_${_}_${a}`},E),n.createElement("div",null,S&&n.createElement(S,Ee(Ee({data:t},g),v))))};xm.displayName="MultiCityFormField";var Bm=n.forwardRef((({leg:e,indexLeg:t,removeLegClick:a,addLegButtonRef:l,formProps:i},o)=>{var c;const s=n.useRef(null);return n.useImperativeHandle(o,(()=>({focus:()=>{var e;null==(e=s.current)||e.focus()}}))),n.createElement(r.b,{margin:{block:"three"},key:`field_leg_${e.uniqueKey}`},n.createElement("div",null,n.createElement(r.b,{margin:{blockend:"three",blockstart:"six"}},n.createElement(f.i,{wrap:"wrap",alignItems:"center",direction:"row",space:"three"},e.heading&&"EGDSBasicLocalizedText"===e.heading.__typename&&n.createElement(f.j,null,n.createElement("div",null,n.createElement(A.E,{size:6,tabIndex:-1,domRef:s,tag:"h3","aria-live":"polite","aria-label":we(e.heading.template,e.heading.models[0].key,(t+1).toString())},we(e.heading.template,e.heading.models[0].key,(t+1).toString())))),"UITertiaryButton"===(null==(c=e.removeButton)?void 0:c.__typename)&&n.createElement(f.j,null,n.createElement("div",null,n.createElement(I.E,{size:"medium",onClick:()=>a(t,l)},n.createElement("button",{type:"button"},e.removeButton.primary)))))),n.createElement(f.i,{alignItems:"start",justifyContent:"space-between",wrap:"wrap",space:"three"},e.items.map(((e,a)=>n.createElement(xm,Ee({key:`multicity_leg_item_${a}`,element:e,index:t},i)))))))}));Bm.displayName="MultiCityLegItem";var $m=e=>{var t,a;const{beforeLegsSlot:l,addLeg:r,search:i,legsElements:o,addLegClick:c,removeLegClick:s,addLegDisabled:u,focusLastFlight:m}=e,p=n.createRef(),y=n.createElement(n.Fragment,null,"UITertiaryButton"===(null==r?void 0:r.__typename)&&n.createElement(f.j,null,n.createElement("div",null,n.createElement(I.E,{size:"medium",onClick:c,domRef:p},n.createElement("button",{type:"button",disabled:u},n.createElement(_.a,{name:null!=(a=null==(t=r.icon)?void 0:t.id)?a:""}),r.primary)))),i&&n.createElement(xm,Ee({element:i,index:0},e))),[S,E]=n.useState({});return n.useEffect((()=>{const e=o.reduce(((e,t,a)=>(e[`leg-heading-${a}`]=n.createRef(),e)),{});E(e)}),[o]),n.useEffect((()=>{var e,t;if(m){const a="leg-heading-"+(o.length-1);null==(t=null==(e=S[a])?void 0:e.current)||t.focus()}}),[S,m,o.length]),n.createElement(n.Fragment,null,n.createElement(f.i,{alignContent:"start",justifyContent:"start",wrap:"wrap",space:"three"},l.map(((t,a)=>n.createElement(xm,Ee({key:`multicity_before_leg_${a}`,element:t,index:a},e))))),o.map(((t,a)=>{const l=`leg-heading-${a}`;return n.createElement(Bm,{key:a,ref:S[l],leg:t,indexLeg:a,removeLegClick:s,addLegButtonRef:p,formProps:e})})),n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(f.i,{justifyContent:"space-between",space:"three",direction:"column"},y)),n.createElement(d.rw,null,n.createElement(f.i,{justifyContent:"space-between",wrap:"wrap",space:"three",alignItems:"center"},y))))};$m.displayName="MultiCityFormFieldsLayout";var Wm=(e="")=>`${e}_${Math.random().toString(16).slice(2)}`,wm=e=>{var t;const a=(0,E.KY)(),{legs:l,search:r,addLeg:o,removeLeg:c,legHeading:s,elements:u,maxAllowedLegs:m,playback:p,autoOpenPlayback:y,stickyPlayback:_,getFlightSearchCriteria:S,searchLocationAnalytics:g,searchLocationContent:h,travelersComposition:v,cabinClassField:D}=e,f=u.filter((e=>"EGDSSearchFormTravelersField"===e.__typename)),{state:T}=(0,i.kW)(),{start:b}=null!=(t=T.dates)?t:{},C=l.map(((e,t)=>{var a;let n=e.date;if(b&&/^\d{4}-\d{2}-\d{2}$/.test(b)&&t>0&&"EGDSOpenDatePickerAction"===(null==(a=l[0].date.action)?void 0:a.__typename)){const e=b.split("-");n=ge(Ee({},l[0].date),{action:ge(Ee({},l[0].date.action),{datePicker:ge(Ee({},l[0].date.action.datePicker),{selectedStartDate:ge(Ee({},l[0].date.action.datePicker.selectedStartDate),{day:parseInt(e[2],10),month:parseInt(e[1],10),year:parseInt(e[0],10)})})})})}return{items:[e.locations,n],heading:s,removeButton:null,uniqueKey:Wm()}})),[I,A]=n.useState(C),[F,O]=n.useState(C.length),[k,G]=n.useState(!1),[R,L]=n.useState(!1),[P,M]=n.useState(!y),N=ge(Ee({},e),{beforeLegsSlot:f,legsElements:I,addLegClick:()=>{var e,t,n;if(L(!0),"UITertiaryButton"===(null==o?void 0:o.__typename)&&o.analytics){const{referrerId:e,linkName:t}=o.analytics;a(e,t)}F+1===m&&G(!0),O((e=>e+1));const r=ge(Ee({},l[0].locations),{origin:ge(Ee({},l[0].locations.origin),{value:""}),destination:ge(Ee({},l[0].locations.destination),{value:""})}),{primary:{journeyCriterias:i}}=S();let d=l[0].date;if("EGDSOpenDatePickerAction"===(null==(e=l[0].date.action)?void 0:e.__typename)){const e=null!=(n=null==(t=i[F-1])?void 0:t.departureDate)?n:{};d=ge(Ee({},d),{action:ge(Ee({},l[0].date.action),{datePicker:ge(Ee({},l[0].date.action.datePicker),{selectedStartDate:Ee(Ee({},l[0].date.action.datePicker.selectedStartDate),e)})})})}A((e=>[...e,{items:[r,d],uniqueKey:Wm(),heading:s,removeButton:c}]))},removeLegClick:(e,t)=>{var n;if("UITertiaryButton"===(null==c?void 0:c.__typename)&&c.analytics){const{referrerId:e,linkName:t}=c.analytics;a(e,t)}null==(n=null==t?void 0:t.current)||n.focus(),k&&F-1<(null!=m?m:5)&&G(!1),O((e=>e-1)),A((t=>{const a=[...t];return a.splice(e,1),a}))},addLeg:o,search:r,addLegDisabled:k,searchLocationAnalytics:g,searchLocationContent:h,focusLastFlight:R,travelersComposition:v,cabinClassField:D});return n.createElement(d.LM,null,n.createElement(d.NP,null,p?n.createElement(Hi,{data:p,stickyPlayback:_,display:P,onDisplayToggle:e=>{M(e)}},n.createElement($m,ge(Ee({},N),{viewSize:d.OB.SMALL}))):n.createElement($m,ge(Ee({},N),{viewSize:d.OB.SMALL}))),n.createElement(d.rw,null,n.createElement($m,ge(Ee({},N),{viewSize:d.OB.MEDIUM}))),n.createElement(d.zQ,null,n.createElement($m,ge(Ee({},N),{viewSize:d.OB.LARGE}))))},Um=(e,t,a,n,l)=>{const r=n&&l;return{startDateInput:e.find(Al(t)),endDateInput:a?e.find(Al(a)):void 0,softPackagesStartDateInput:n?e.find(Al(n)):void 0,softPackageEndDateInput:l?e.find(Al(l)):void 0,config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!r}}},Hm=u.J1`
  fragment FlightSearchFormFragment on FlightSearchForm {
    __typename
    travelersComposition {
      ...TravelersCompositionFragment
    }
    egdsElementId
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    elements {
      ...EGDSSearchFormTravelersFieldFragment
      ...EGDSSearchFormInputFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }
    addLeg {
      ...EGDSTertiaryButtonFragment
    }
    removeLeg {
      ...EGDSTertiaryButtonFragment
    }
    legHeading {
      ...EGDSBasicLocalizedTextFragment
    }
    legs {
      id
      locations {
        ...EGDSSearchFormLocationsFieldFragment
      }
      date {
        ...EGDSSearchFormDatePickerFieldFragment
      }
    }
    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }
    maxAllowedLegs
    localDateFormat

    softPackages {
      ...SoftPackagesFragment
    }
    searchLocation {
      ...SearchLocationFragment
    }

    searchFormAnalytics {
      datePrefillImpression {
        ...ClientSideAnalyticsFragment
      }
    }

    valuePropMessage {
      ...SearchFormMessagingFragment
    }
  }

  ${ze.fragment}
  ${Rd.fragment}
  ${Qa.fragment}
  ${Sl.fragment}
  ${cn.fragment}
  ${Ke.fragment}
  ${tn.fragment}
  ${On}
  ${Hi.fragment}
  ${pm.fragment}
  ${yi}
  ${dm.fragment}
  ${Xu}
  ${Qu.fragment}
`,Vm=new Map,zm=e=>{var t,a,l,i,o,c;const{onFieldChange:s,flightType:u,useFareCalendar:m,onSubmit:p,redirectToSearchResultOnSubmit:y,stickyPlayback:_,displayPlayback:S,onDisplayPlaybackToggle:E,cabinClass:g,directFlightsOnlySwitch:h,data:v,additionalQueryParams:D}=e,{errorSummary:f,elements:T,search:C,addLeg:I,removeLeg:A,legHeading:F,localDateFormat:O,legs:k,maxAllowedLegs:G,playback:L,softPackages:P,searchLocation:M,valuePropMessage:N,travelersComposition:x,searchFormAnalytics:w}=v,{publish:U}=(0,B.Yj)(),H=(0,$.useLocalization)(),V=n.useRef(null),{exposure:z}=(0,R.useExperiment)("Cabin_Class_in_the_Traveller_UI_WEB"),Y=new URLSearchParams((0,oe.zy)().search),[q,j]=n.useState(L),[K,J]=n.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null,EGDSDatePickerFieldSoftPackages:null}),Q={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},[X,Z]=n.useState(Q),{displayErrorSummary:ee,errorCount:te,errorLinkReference:ae}=X,ne=n.useCallback(((e,t,a)=>{var n;const l=hl(e,null==(n=t.current)?void 0:n.id),r=a?`${l}-leg${a}`:l;J((e=>ge(Ee({},e),{[r]:t})))}),[]),le=n.useRef(!0),re=k.length>0?k[0].locations:null,ie=re||null,ce=null!=(t=null==ie?void 0:ie.origin.value)?t:"",se=null!=(a=null==ie?void 0:ie.destination.value)?a:"",[de,ue]=n.useState({origin:ce,destination:se,enabled:null!=m&&m}),[me,pe]=n.useState([{type:"ONE_WAY",hasRendered:!1},{type:"ROUND_TRIP",hasRendered:!1},{type:"MULTI_DESTINATION",hasRendered:!1}]),ye=()=>{const e=me.map((e=>{const t=e;return e.type!==u||e.hasRendered||(t.hasRendered=!0),t}));pe(e)};n.useEffect((()=>{var e;if(le.current)ye(),le.current=!1;else{(null==(e=me.find((e=>e.type===u)))?void 0:e.hasRendered)&&"MULTI_DESTINATION"!==u||de.enabled&&ue(ge(Ee({},de),{origin:"",destination:""})),ye()}}),[u]);const[_e,Se]=n.useState(P),he="EGDSBasicCheckBox"===(null==(l=null==_e?void 0:_e.addHotel)?void 0:l.__typename)&&"CHECKED"===_e.addHotel.state,ve="EGDSBasicCheckBox"===(null==(i=null==_e?void 0:_e.addCar)?void 0:i.__typename)&&"CHECKED"===_e.addCar.state||he,De=_e&&n.createElement(pm,{data:_e,onProductSelect:e=>{const{name:t,checked:a}=e.currentTarget;Se((e=>{var n,l;return"EGDSBasicCheckBox"===(null==(n=null==e?void 0:e.addCar)?void 0:n.__typename)&&null!==e.addCar.name&&t.includes(e.addCar.name)?ge(Ee({},e),{addCar:ge(Ee({},e.addCar),{state:a?"CHECKED":"UNCHECKED"})}):"EGDSBasicCheckBox"===(null==(l=null==e?void 0:e.addHotel)?void 0:l.__typename)&&null!==e.addHotel.name&&t.includes(e.addHotel.name)?ge(Ee({},e),{addHotel:ge(Ee({},e.addHotel),{state:a?"CHECKED":"UNCHECKED"})}):e}))},setFieldRefByTypename:ne,currentSearchFormProduct:"flights",fieldError:X.fieldsWithErrors.find((e=>"EGDSSearchFormDatePickerFieldSoftPackages"===e.__typename)),searchFormMessaging:N});n.useEffect((()=>{Se(P)}),[P]);const fe=n.useContext(qm),Te=T,be=T.find((e=>"EGDSSearchFormInputField"===e.__typename)),Ce=ge(Ee({},e),{flightType:u,errorState:X,defaultValidationProps:{setFieldRefByTypename:ne},fields:Te,legs:k,onLocationsSelection:e=>{var t,a,n,l,r,i;(null==(t=null==e?void 0:e.data)?void 0:t.locationFullName)&&(null==(a=null==e?void 0:e.data)?void 0:a.geoType)&&Vm.set(e.data.locationFullName,e.data.geoType.toUpperCase());const o=Ue(null!=(l=null==(n=null==e?void 0:e.data)?void 0:n.origin)?l:e.term),c=Ue(null!=(i=null==(r=e.data)?void 0:r.destination)?i:e.term);j((t=>{var a,n;if(!t)return null;const{primary:l,primaryTemplate:r}=t;if((null!=(n=null==(a=e.data)?void 0:a.index)?n:0)>0)return Ee({},t);if(!r||"EGDSBasicLocalizedText"!==r.__typename)return t;const i=we(r.text,"origin",o),s=we(i,"destination",c);return ge(Ee({},t),{primary:ge(Ee({},l),{text:s})})}))},maxAllowedLegs:G,fareCalendarData:de,search:C,softPackages:De,updatePlaybackDates:(e,t)=>{j((a=>{if(!a)return null;const{secondaries:n}=a,[l,r]=n,i="EGDSPlainText"===l.__typename?ge(Ee({},l),{text:bt(e,l.text,t,H)}):l;return ge(Ee({},a),{secondaries:[i,r]})}))},searchLocationAnalytics:null==M?void 0:M.analytics,searchLocationContent:null==M?void 0:M.content,cabinClassField:be,travelersComposition:x,searchFormAnalytics:w});return n.createElement(b.E,{id:null!=(o=v.egdsElementId)?o:"search-flight-form",name:null!=(c=v.egdsElementId)?c:"search-flight-form",method:"GET",action:ve&&(null==_e?void 0:_e.actionURL)?_e.actionURL:v.actionURL,ref:V,onFieldChange:(e,t)=>{var a;if("origin_select"!==e.name&&"destination_select"!==e.name||!(null==fe?void 0:fe.enablePriceCalendar)||null==(a=fe.onLocationChange)||a.call(fe,{name:e.name,value:e.value}),s){const a=bm(V,u),{primary:n}=a,{travelers:l}=n,r=(null==fe?void 0:fe.enablePriceCalendar)?{primary:ge(Ee({},n),{journeyCriterias:fe.priceCalendarInputs.journeyCriteria,travelers:l,tripType:u}),secondary:null}:a,i=hm(r,Y,{localDateFormat:O,formatDateString:H.formatDateString},Vm);s(e,t,i)}if(de.enabled)switch(e.name){case"origin_select":ue(ge(Ee({},de),{origin:e.value}));break;case"destination_select":ue(ge(Ee({},de),{destination:e.value}))}j((t=>{if(!t)return null;const{TRAVELER_SELECTOR:a}=ym,{secondaries:n}=t,l=e.value,[r,i]=n,o=e.name===a?ge(Ee({},i),{text:l}):i;return ge(Ee({},t),{secondaries:[r,o]})}))},onSubmit:e=>{var t;Z(Q);const a=Array.from(e.currentTarget.elements),n="MULTI_DESTINATION"===u,l=Fl(a),r=((e,t,a)=>{if("MULTI_DESTINATION"===e){const e=Um(t,"EGDSSingleDatePicker-Date-date_form_field-0","EGDSSingleDatePicker-Date-date_form_field-1");return{location:{origin:t.filter(Al("origin_select")),destination:t.filter(Al("destination_select")),config:{sameLocationSelected:!0}},dates:e,travelers:{totalTravelers:Fl(t),config:{maxTotalTravelers:6}}}}const n=a?["EGDSDateRangePickerSoftPackages-StartDate-soft_packages_date_form_field","EGDSDateRangePickerSoftPackages-EndDate-soft_packages_date_form_field"]:[];if("ONE_WAY"===e){const e=Um(t,"EGDSSingleDatePicker-Date-date_form_field",void 0,...n);return{location:{origin:t.find(Al("origin_select")),destination:t.find(Al("destination_select")),config:{sameLocationSelected:!0}},dates:e,travelers:{totalTravelers:Fl(t),config:{maxTotalTravelers:6}}}}const l=Um(t,"EGDSDateRangePicker-StartDate-date_form_field","EGDSDateRangePicker-EndDate-date_form_field",...n);return{location:{origin:t.find(Al("origin_select")),destination:t.find(Al("destination_select")),config:{sameLocationSelected:!0}},dates:l,travelers:{totalTravelers:Fl(t),config:{maxTotalTravelers:6}}}})(u,a,ve);r.travelers={totalTravelers:l,config:{maxTotalTravelers:6}};const i=((e,t)=>e?Il(t):Cl(t))(n,r);if(!(0===i.length))return Z({fieldsWithErrors:i,errorCount:i.length,displayErrorSummary:!0,errorLinkReference:K[null==(t=i[0])?void 0:t.__typename]}),void e.preventDefault();const o=((e,t,a)=>{const n={primary:{journeyCriterias:[],travelers:[],tripType:t,searchPreferences:{advancedFilters:a?["NONSTOP"]:[],cabinClass:"COACH"}},secondary:null};return Array.from(e.currentTarget.elements).filter((e=>e.name.startsWith("EGDS"))).reduce(Cm,n)})(e,u,h),c={event:e,lineOfBusiness:W.p_.FLIGHTS,criteria:o};if(U(new W.KD("SEARCH_TOOLS_FORM_SUBMIT",c)),(p||y)&&(p&&p(e,{flightSearchCriteria:o}),y)){e.preventDefault();const{action:t,elements:a}=e.currentTarget,n=Array.from(a),l=ve?vm(n,u,h,{localDateFormat:O,formatDateString:H.formatDateString}):hm(o,Y,{localDateFormat:O,formatDateString:H.formatDateString},Vm);window.location.href=`${t}${l}${null!=D?D:""}`}},hasRequiredFieldIndicator:!0},ee&&f&&n.createElement(r.b,{margin:{block:"two"}},n.createElement("div",null,n.createElement(ze,{data:f,errorCount:te,inputErrorRef:ae}))),n.createElement(r.b,{margin:{blockstart:"six"}},n.createElement("div",{id:`FlightSearchForm_${u}`,"data-testid":`FlightSearchForm_${u}`},"MULTI_DESTINATION"===u&&"EGDSSearchFormButton"===(null==C?void 0:C.__typename)?n.createElement(wm,ge(Ee({},Ce),{addLeg:I,removeLeg:A,legHeading:F,search:C,legs:k,elements:T,playback:q,getFlightSearchCriteria:()=>bm(V,u),cabinClassField:be,travelersComposition:x})):n.createElement(d.LM,null,n.createElement(d.NP,null,q?n.createElement(Hi,{data:q,stickyPlayback:_,display:S,onDisplayToggle:E},n.createElement(Rm,ge(Ee({},Ce),{viewSize:d.OB.SMALL}))):n.createElement(Rm,ge(Ee({},Ce),{viewSize:d.OB.SMALL}))),n.createElement(d.rw,null,n.createElement(Rm,ge(Ee({},Ce),{viewSize:d.OB.MEDIUM}))),n.createElement(d.zQ,null,n.createElement(Rm,ge(Ee({},Ce),{viewSize:d.OB.LARGE})))))),De&&n.createElement(d.LM,null,n.createElement(d.rw,null,n.createElement(r.b,{margin:{blockstart:"three"}},n.createElement("div",null,De)))),0===z.bucket&&n.createElement("input",{type:"hidden",name:g.name,value:g.value}))};zm.fragment=Hm,zm.displayName="FlightSearchForm";var Ym=u.J1`
  query FlightSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $flightSearchCriteria: FlightSearchCriteriaInput
    $fixedTravelers: Boolean
    $includePlayback: Boolean = false
    $disabledCabins: [FlightsCabinClass!]
    $features: [String!]
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      flight(flightSearchCriteria: $flightSearchCriteria, fixedTravelers: $fixedTravelers, disabledCabins: $disabledCabins, features: $features) {
        ...FlightSearchFormFragment
      }
    }
  }

  ${zm.fragment}
`,qm=n.createContext({lobName:"flights",enablePriceCalendar:!1,priceCalendarInputs:{flightsSearchContext:{tripType:"ROUND_TRIP"},journeyCriteria:[]},onLocationChange:void 0}),jm=e=>{var t,a,l,o,c,s,u,y,_,S;const{inputs:h,skipSsr:v,skipQuery:D=!1,batchKey:f,includePlayback:T,features:b,enablePriceCalendar:C,pageLocation:I}=e,{context:A}=(0,m.R)(),{state:F,dispatch:O}=(0,i.kW)(),k=ge(Ee({},h),{context:A,includePlayback:!!T,features:b,pageLocation:I}),G=null!=(a=null==(t=h.flightSearchCriteria)?void 0:t.primary.tripType)?a:"ROUND_TRIP",R=(0,p.useLoggerEvents)(fu),{data:L,error:P,loading:M}=(0,g.I)(Ym,{context:{batchKey:f},variables:k,ssr:!v,skip:D}),N=ge(Ee({},e),{flightType:G}),x={origin:(null==(l=F.origin)?void 0:l.term)||"",destination:(null==(o=F.destination)?void 0:o.term)||"",departureDate:Iu(14).departureDate,flightsCabinClass:"COACH"},[B,$]=n.useState((null==(s=null==(c=h.flightSearchCriteria)?void 0:c.primary.journeyCriterias)?void 0:s.length)?h.flightSearchCriteria.primary.journeyCriterias:[x]);n.useEffect((()=>{var e,t,a,n,l;const r=null==(e=null==L?void 0:L.searchForm)?void 0:e.flight,i=null==(l=null==(n=null==(a=null==(t=null==r?void 0:r.legs)?void 0:t[0])?void 0:a.locations)?void 0:n.origin)?void 0:l.value;$((e=>{var t,a,n,l,r,o;return[ge(Ee({},e[0]),{origin:(null==(t=F.origin)?void 0:t.term)||(null==(a=e[0])?void 0:a.origin)||i||"",destination:(null==(n=F.destination)?void 0:n.term)||(null==(l=e[0])?void 0:l.destination)||"",departureDate:(null==(r=e[0])?void 0:r.departureDate)||x.departureDate,flightsCabinClass:(null==(o=e[0])?void 0:o.flightsCabinClass)||"COACH"})]}))}),[null==(u=F.origin)?void 0:u.term,null==(y=F.destination)?void 0:y.term]);const W="MULTI_DESTINATION"===G,w=n.useCallback((e=>{W||("origin_select"===e.name?O({type:"UPDATE_ORIGIN",location:{term:e.value,data:Ee({},ui)}}):"destination_select"===e.name&&O({type:"UPDATE_DESTINATION",location:{term:e.value,data:Ee({},ui)}}),$((t=>[Ee(Ee(Ee({},t[0]),"origin_select"===e.name?{origin:e.value}:{}),"destination_select"===e.name?{destination:e.value}:{})])))}),[O,W]),U=n.useMemo((()=>{var e,t;return{lobName:"flights",enablePriceCalendar:null!=C&&C,priceCalendarInputs:{flightsSearchContext:{tripType:(null==(t=null==(e=h.flightSearchCriteria)?void 0:e.primary)?void 0:t.tripType)||"ROUND_TRIP"},journeyCriteria:B},onLocationChange:w}}),[C,null==(S=null==(_=h.flightSearchCriteria)?void 0:_.primary)?void 0:S.tripType,B,w,W]);return M?n.createElement(r.b,{padding:{blockstart:"six"}},n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(We,{rows:[{type:"primary"},{type:"primary"},{type:"primary"}]})),n.createElement(d.rw,null,n.createElement(We,{rows:[{type:"primary"}]}))))):P||"FlightSearchForm"!==(null==L?void 0:L.searchForm.flight.__typename)?(R.SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE.log({name:null==P?void 0:P.name,error:new Error(null==P?void 0:P.message)}),n.createElement(Fe,null,n.createElement(E.ee,Ee({},Tu.SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_FALLBACK_IMPRESSION),n.createElement(zm,ge(Ee({},N),{data:Ju(G)}))))):n.createElement(E.ee,Ee({},Tu.SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_IMPRESSION),n.createElement(qm.Provider,{value:U},n.createElement(zm,ge(Ee({},N),{data:L.searchForm.flight}))))};jm.displayName="sharedui-FlightsSearchForm";var Km=e=>{var t,a,l,r,o;const{search:c}=(0,oe.zy)(),{inputs:s,onFlightTypeSelect:u,enableReflection:m,sticky:p,autoOpenPlayback:y,includePlayback:_,useFareCalendar:S,enablePriceCalendar:E}=e,g=null!=(t=new URLSearchParams(c).get("flightType"))?t:"",[h,v]=n.useState(null!=(r=null!=(l=fe[{ROUND_TRIP:"ROUND_TRIP",ONE_WAY:"ONE_WAY",MULTI_CITY:"MULTI_DESTINATION"}[g]])?l:null==(a=s.flightSearchCriteria)?void 0:a.primary.tripType)?r:"ROUND_TRIP"),[D,f]=n.useState({name:"EGDS-defaultCabinClass",value:"ANY"}),[T,b]=n.useState(!1),[C,I]=n.useState(!y),A=e=>{I(e)};n.useEffect((()=>{var e;(null==(e=s.flightSearchCriteria)?void 0:e.primary.tripType)&&v(s.flightSearchCriteria.primary.tripType)}),[null==(o=s.flightSearchCriteria)?void 0:o.primary.tripType]);const F=n.useCallback((e=>{v(e),null==u||u(e)}),[v,u]),O=n.useCallback((e=>{f(e)}),[f]),k=n.useCallback((e=>{b(e)}),[b]),G=t=>{const a=(l=C&&t===d.OB.SMALL,n.createElement(n.Fragment,null,(!l||!_)&&n.createElement(Cu,ge(Ee({},e),{inputs:ge(Ee({},s),{flightSearchCriteria:s.flightSearchCriteria?{primary:{journeyCriterias:[],travelers:[],tripType:s.flightSearchCriteria.primary.tripType}}:null}),onFlightTypeSelect:F,flightTypeOverride:g,onCabinClassSelect:O,onDirectFlightsSelect:k,directFlightsOnlySwitch:T})),n.createElement(jm,ge(Ee({},e),{inputs:ge(Ee({},s),{flightSearchCriteria:ge(Ee({},s.flightSearchCriteria),{primary:ge(Ee({},null!=(o=null==(r=s.flightSearchCriteria)?void 0:r.primary)?o:{journeyCriterias:[],travelers:[]}),{tripType:h})})}),displayPlayback:C,onDisplayPlaybackToggle:A,cabinClass:D,useFareCalendar:S,enablePriceCalendar:E,directFlightsOnlySwitch:T}))));var l,r,o;return m?n.createElement(i.tb,null,n.createElement("div",{"data-stid":"search-form-with-reflection"},a)):a};return n.createElement("div",{"data-stid":"search-form-sticky"},n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement("div",null,G(d.OB.SMALL))),n.createElement(d.rw,null,n.createElement(n.Fragment,null,p?n.createElement(he,null,G(d.OB.MEDIUM)):n.createElement("div",null,G(d.OB.MEDIUM))))))},Jm={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on search form",referrerId:"Web.Hotels.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on search form",referrerId:"Web.Hotels.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Qm={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"},{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},closeAnalytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},action:{accessibility:"Results available.",analytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!0,isDestination:!0,lineOfBusiness:"HOTELS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:2047,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by destination, accommodations, or landmark",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},multiLocations:null,changeAnalytics:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},Xm=new Date,Zm=new Date(Xm.getFullYear(),Xm.getMonth(),Xm.getDate()+14),ep=new Date(Zm.getFullYear(),Zm.getMonth(),Zm.getDate()+1),tp=Zm.getMonth()+1,ap=ep.getMonth()+1,np={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"Dates",errorMessage:"Check-out date must be after check-in date",validations:[{errorMessage:"Check out date must be within 29 days of check in date",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Hotels.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:{__typename:"EGDSDatePickerFlexibilityContent",calendarContent:{__typename:"EGDSDatePickerFlexibilityCalendarContent",flexibleDateOptions:[{accessibility:"Exact dates",disabled:!1,name:null,primary:"Exact dates",selected:!0,selectedText:null,value:"0_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.0_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 1 day",disabled:!1,name:null,primary:"± 1 day",selected:!1,selectedText:null,value:"1_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.1_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 2 days",disabled:!1,name:null,primary:"± 2 days",selected:!1,selectedText:null,value:"2_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.2_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 3 days",disabled:!1,name:null,primary:"± 3 days",selected:!1,selectedText:null,value:"3_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.3_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 7 days",disabled:!1,name:null,primary:"± 7 days",selected:!1,selectedText:null,value:"7_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.7_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"}],formElementId:"date_form_nested_flexible_field",title:null},contentSelector:{__typename:"EGDSBasicTabs",egdsElementId:"date_form_nested_flexible_tabs",selectedTabId:"date_form_nested_flexible_tab_calendar",tabs:[{__typename:"EGDSBasicTab",accessibility:"Calendar",clickAnalytics:{linkName:"Calendar tab select",referrerId:"Web.Hotels.Calendar.Select",__typename:"ClientSideAnalytics"},label:"Calendar",tabId:"date_form_nested_flexible_tab_calendar"},{__typename:"EGDSBasicTab",accessibility:"Flexible dates",clickAnalytics:{linkName:"Flexible dates tab select",referrerId:"Web.Hotels.FlexDateTab.Select",__typename:"ClientSideAnalytics"},label:"Flexible dates",tabId:"date_form_nested_flexible_tab_dates"}]},flexibleDatesContent:{__typename:"EGDSDatePickerFlexibilityDatesContent",nightsSelection:{heading:"How long do you want to stay?",includeWeekend:{__typename:"EGDSBasicCheckBox",egdsElementId:"date_form_flexible_checkbox",description:null,enabled:!0,checkedAnalytics:{linkName:"Flexible dates include weekend select",referrerId:"Web.Hotels.FlexDateForm.Weekend.Select",__typename:"ClientSideAnalytics"},uncheckedAnalytics:{linkName:"Flexible dates does not include weekend select",referrerId:"Web.Hotels.FlexDateForm.Weekend.Deselect",__typename:"ClientSideAnalytics"},label:{text:"Must include weekend",__typename:"EGDSPlainText"},name:null,required:!1,state:"CHECKED"},options:[{__typename:"EGDSBasicPill",accessibility:"1 night stay",disabled:!1,name:"date_form_flexible_nights_pill_1",primary:"1 night",selected:!1,selectedText:null,value:"1_DAY",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.1_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"2 to 3 night stay",disabled:!1,name:"date_form_flexible_nights_pill_2",primary:"2-3 nights",selected:!0,selectedText:null,value:"2_DAY_LOWER,3_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.2_DAY_LOWER,3_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"4 to 5 night stay",disabled:!1,name:"date_form_flexible_nights_pill_3",primary:"4-5 nights",selected:!1,selectedText:null,value:"4_DAY_LOWER,5_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.4_DAY_LOWER,5_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"6 to 7 night stay",disabled:!1,name:"date_form_flexible_nights_pill_4",primary:"6-7 nights",selected:!1,selectedText:null,value:"6_DAY_LOWER,7_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.6_DAY_LOWER,7_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null}],__typename:"EGDSDatePickerFlexibleNights"},monthsSelection:{heading:"When do you want to travel?",subHeading:"You can select more than one month.",options:{__typename:"EGDSToggleButtonGroup",options:[{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"August",subText:"2024",name:"date_form_flexible_toggle_button_Aug_2024-08-01_2024-08-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.8.1",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.8.1",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"September",subText:"2024",name:"date_form_flexible_toggle_button_Sep_2024-09-01_2024-09-30",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.9.2",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.9.2",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"October",subText:"2024",name:"date_form_flexible_toggle_button_Oct_2024-10-01_2024-10-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.10.3",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.10.3",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"November",subText:"2024",name:"date_form_flexible_toggle_button_Nov_2024-11-01_2024-11-30",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.11.4",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.11.4",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"December",subText:"2024",name:"date_form_flexible_toggle_button_Dec_2024-12-01_2024-12-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.12.5",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.12.5",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"January",subText:"2025",name:"date_form_flexible_toggle_button_Jan_2025-01-01_2025-01-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.1.6",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.1.6",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1}]},__typename:"EGDSDatePickerFlexibleMonths"}},flexibilityLabel:{templates:[{template:"${nightsSelected} in ${monthSelected}",category:"ZERO",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}",category:"ONE",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}",category:"TWO",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}",category:"FEW",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}...",category:"MANY",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}...",category:"OTHER",__typename:"CardinalTemplate"}],models:[{key:"nightsSelected",__typename:"TemplateModel"},{key:"monthSelected",__typename:"TemplateModel"},{key:"secondMonthSelected",__typename:"TemplateModel"},{key:"thirdMonthSelected",__typename:"TemplateModel"},{key:"fourthMonthSelected",__typename:"TemplateModel"},{key:"fifthMonthSelected",__typename:"TemplateModel"},{key:"sixthMonthSelected",__typename:"TemplateModel"}],__typename:"EGDSCardinalLocalizedText"}},nextButtonAnalytics:null,previousButtonAnalytics:null,buttonText:"Done",clearButtonText:"Clear dates",firstDayOfWeek:"SUN",maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:Zm.getDate(),month:tp,year:Zm.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:ep.getDate(),month:ap,year:ep.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:Xm.getDate(),month:Xm.getMonth(),year:Xm.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:Xm.getDate(),month:Xm.getMonth()+4,year:Xm.getFullYear()+1,__typename:"Date"},submitButtonAnalytics:{__typename:"ClientSideAnalytics",referrerId:"date picker submit",linkName:"date.picker.submit"},startDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker start date",referrerId:"date.picker.start.date"},endDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker end date",referrerId:"date.picker.end.date"},showClearDatesButton:!1,buttonTextTemplate:null,clearDatesButtonAnalytics:null,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},lp={__typename:"EGDSSearchFormTravelersField",readOnly:!1,action:{analytics:{linkName:"Guests selection",referrerId:"Web.Hotels.Traveler.GuestPicker.Open",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:"traveler_selector_add_room",primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:"traveler_selector_close_button",primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"close",token:"icon__close",title:"",__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Hotels.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"traveler_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Hotels.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},maxRoomCount:8,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Hotels.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of adults",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:14,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Child traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Child",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Child traveler added",referrerId:"Web.Hotels.Traveler.Add.Child",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of children",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:6,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{changeAnalytics:null,label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"Under 1",value:"0",egdsElementId:"children_age_option_0",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"1",value:"1",egdsElementId:"children_age_option_1",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"2",value:"2",egdsElementId:"children_age_option_2",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"3",value:"3",egdsElementId:"children_age_option_3",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"4",value:"4",egdsElementId:"children_age_option_4",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"5",value:"5",egdsElementId:"children_age_option_5",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"6",value:"6",egdsElementId:"children_age_option_6",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"7",value:"7",egdsElementId:"children_age_option_7",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"8",value:"8",egdsElementId:"children_age_option_8",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"9",value:"9",egdsElementId:"children_age_option_9",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"10",value:"10",egdsElementId:"children_age_option_10",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"11",value:"11",egdsElementId:"children_age_option_11",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"12",value:"12",egdsElementId:"children_age_option_12",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"13",value:"13",egdsElementId:"children_age_option_13",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"14",value:"14",egdsElementId:"children_age_option_14",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"15",value:"15",egdsElementId:"children_age_option_15",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"16",value:"16",egdsElementId:"children_age_option_16",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"17",value:"17",egdsElementId:"children_age_option_17",__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:"traveler_selector_remove_room",primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],infantSeatSelection:null,title:"Travelers",validations:[{errorMessage:"We allow up to 20 travelers per booking.",maxCount:20,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 20 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"}},rp={egdsElementId:"submit_button",primary:"Search",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Hotels.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},ip=(e=>(e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVEL_DATES_FLEXIBLE="EGDSDateRangePicker-Flexible",e.TRAVELER_ROOM_SELECTOR="EGDSRoomsTravelerSelector",e.TRAVELER_BASIC_SELECTOR="EGDSBasicTravelerSelector",e))(ip||{}),op=(e=>(e.SORT="sort",e.HOTEL_NAME="hotelName",e.REWARDS="rewards",e.STAR="star",e.GUEST_RATING="guestRating",e.CLEANING_AND_SAFETY="cleaningAndSafetyPractices",e.LODGING="lodging",e.MEAL_PLAN="mealPlan",e.AMENITIES="amenities",e.TRAVELER_TYPE="travelerType",e.PAYMENT_TYPE="paymentType",e.DEALS="deals",e.PROPERTY_STYLE="propertyStyle",e.BEDROOM_FILTER="bedroomFilter",e.NEIGHBORHOOD="neighborhood",e.STAY_TYPE="stayType",e.ACCESSIBILITY="accessibility",e.POI="poi",e.MIN_BEDROOMS="bedroom_count_gt",e.MIN_BATHROOMS="us_bathroom_count_gt",e.PROPERTY_TYPE="property_type_group",e.LOCATION="location_group",e.ACCESSIBILITY_FEATURES="accessibility_features_group",e.BOOKING_OPTIONS="booking_options_group",e.DISCOUNTS_GROUP="discounts_group",e.AMENITIES_FACILITIES="amenities_facilities_group",e.FREE_CANCELLATION_GROUP="free_cancellation_group",e.HOUSE_RULES="house_rules_group",e.NEARBY_ACTIVITIES="nearby_activities_group",e.NEIGHBORHOOD_GROUP="neighborhood_group",e.PREMIER_HOST="premier_host_group",e.PROPERTIES_GOOD="properties_good_for_group",e.PROPERTY_REVIEWS="property_reviews_group",e.ROOMS_SPACES="rooms_spaces_group",e.SAFETY="safety_group",e.VIRTUAL_TOUR_GROUP="virtual_tour_group",e.PRICING_GROUP="pricing_group",e.PROPERTY_NAME="propertyName",e.AVAILABLE_FILTER="availableFilter",e.AGENCY_BUSINESS_MODELS="agencyBusinessModels",e.COMMISSION_TIERS="commissionTiers",e.USE_REWARDS="useRewards",e.BED_TYPE_GROUP="bed_type_group",e.STAY_OPTIONS_GROUP="stay_options_group",e.HOTEL_BRAND="hotel_brand",e.MULTI_NEIGHBORHOOD_GROUP="multi_neighborhood_group",e.SPECIAL_DISCOUNTS_GROUP="special_discounts_group",e.HIGHLY_RATED_FOR_GROUP="highly_rated_for_group",e.AI_SEARCH_QUERY="ai_search_query",e.AVAILABILITY_GROUP="availableFilter",e.EXPEDIA_REWARDS_GROUP="expedia_rewards_group",e.AVAILABILITY_GROUP_VRBO="availability_group",e))(op||{}),cp=(e=>(e.PRICE="price",e.NIGHTLY_PRICE="nightly_price",e.TOTAL_PRICE="total_price",e))(cp||{}),sp=e=>{const[t,a,n]=e.split("-");return{year:parseInt(t,10),month:parseInt(a,10),day:parseInt(n,10)}},dp=e=>{const[t,a,n]=e.split("/");return`${n}-${t}-${a}`},up=e=>{const t=(e=>{const t=e.getAll("flexibility");return 0===t.length?null:t.reduce(((e,t)=>{const a=t.split("_");if(a.length>1){const t=parseInt(a[0],10),n=De[a[1].toUpperCase()],l=3===a.length?{bound:ve[a[2].toUpperCase()]}:{};t&&n&&e.push(Ee({length:t,unit:n},l))}return e}),[])})(e),a=(e=>e.getAll("searchRange").reduce(((e,t)=>{const a=t.split("_");return 2===a.length&&e.push({start:sp(a[0]),end:sp(a[1])}),e}),[]))(e),n=(e=>e.getAll("flexibleSearchRequirement").filter((e=>e)))(e),l=Ee(Ee(Ee({},(null==t?void 0:t.length)&&{flexibility:t}),(null==a?void 0:a.length)&&{searchRange:a}),(null==n?void 0:n.length)&&{flexibleSearchRequirement:n});return Object.getOwnPropertyNames(l).length?l:null},mp=e=>{const t=e.map((e=>e.split(","))).filter((([e,t])=>""!==e&&""!==t)).map((([e,t])=>({latitude:Number(e),longitude:Number(t)})));return 2===t.length?t:[]},pp=[{URL_PARAM_ID:"packageRates",QUERY_BOOLEAN_ID:"showPackageRates"},{URL_PARAM_ID:"vacationRentalsOnly",QUERY_BOOLEAN_ID:"showVacationRentalsOnly"},{URL_PARAM_ID:"dateSelectedByUser",QUERY_BOOLEAN_ID:"isUserSelectedDates"}],yp=(e,t)=>{var a;const n=(({destination:e,regionId:t,latLong:a,selected:n,mapBounds:l})=>{const[r,i]=(null==a?void 0:a.split(",").map((e=>parseFloat(e))))||[null,null];return Ee({regionName:e?decodeURIComponent(e):null,regionId:t,coordinates:r&&i?{latitude:r,longitude:i}:null,mapBounds:l},n&&{pinnedPropertyId:n})})({destination:e.get("destination"),regionId:"null"===e.get("regionId")?null:e.get("regionId"),latLong:e.get("latLong"),selected:e.get("selected"),mapBounds:mp(e.getAll("mapBounds"))}),l=(({startDate:e,endDate:t})=>{if(!e||!t)return null;const a=/^\d{4}-\d{2}-\d{2}$/,n=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/,l=a.test(e)||n.test(e),r=a.test(t)||n.test(t);if(!l||!r)return null;const i=a.test(e)?e:dp(e),o=a.test(t)?t:dp(t);return{checkInDate:sp(i),checkOutDate:sp(o)}})({startDate:e.get("startDate"),endDate:e.get("endDate")}),r=(({adults:e,children:t})=>{const a=(null==e?void 0:e.split(",").map((e=>parseInt(e,10))))||[],n=(null==t?void 0:t.split(","))||[];return a.map(((e,t)=>{const a=t+1;return{adults:e,children:n.filter((e=>e.startsWith(a.toString()))).map((e=>({age:parseInt(e.split("_")[1],10)})))}})).filter((e=>!Number.isNaN(e.adults)))})({adults:e.get("adults"),children:e.get("children")}),i=(({queryParams:e})=>{const t=[];return Object.values(cp).forEach((a=>{const n=e.getAll(a),l=(1===n.length?n[0].split(","):n).filter((e=>0!==e.length)).map(Number).filter((e=>!Number.isNaN(e)));l.length>1&&t.push({id:a,min:Math.min(...l),max:Math.max(...l)})})),t})({queryParams:e}),o=(({queryParams:e,paramsToExclude:t,isPartnerPointsToggleEnabled:a})=>{return n=Object.values(op).reduce(((n,l)=>{!a&&e.has("useRewards")&&e.delete("useRewards");const r=e.getAll(l);if(r.length&&""!==r[0]){const e=r.map((e=>(t.includes(l)?[e]:e.split(",")).map((e=>a&&"useRewards"===l?{id:l,value:"true"===e?"SHOP_WITH_POINTS":"SHOP_WITHOUT_POINTS"}:{id:l,value:e}))));return[...n,...e]}return[...n]}),[]).flat(),l={id:"sort",value:"RECOMMENDED"},n.some((e=>e.id===l.id))?n:[...n,l];var n,l})({queryParams:e,paramsToExclude:["hotelName","poi"],isPartnerPointsToggleEnabled:t}),c=up(e),s=c?{flexSearchCriteria:c}:{},d=(e=>pp.flatMap((t=>"true"===e.get(t.URL_PARAM_ID)?[{id:t.QUERY_BOOLEAN_ID,value:!0}]:[])))(e);return{propertySearchCriteriaInput:{primary:Ee({destination:n,rooms:r,dateRange:(null==c?void 0:c.searchRange)&&0!==(null==(a=null==c?void 0:c.searchRange)?void 0:a.length)?null:l},s),secondary:{ranges:i,selections:o,booleans:d}}}},_p=u.J1`
  fragment EGUisMicroMessageFragment on EGUisMicroMessage {
    schemaName
    messageContent
  }
`,Sp=u.J1`
  fragment AdaptexTrackingSuccessFragment on SearchFormAdaptExSuccessEvent {
    __typename
    datePrefill {
      ...EGUisMicroMessageFragment
    }
  }

  ${_p}
`,Ep=[Wi,Qa,Sl,Ke,pm],gp=u.J1`
  fragment LodgingSearchFormFragment on LodgingSearchForm {
    __typename
    egdsElementId
    actionURL
    errorSummary {
      ...EGDSErrorSummaryFragment
    }
    elements {
      __typename
      ...EGDSSearchFormLocationFieldFragment
      ...EGDSSearchFormDatePickerFieldFragment
      ...EGDSSearchFormTravelersFieldFragment
    }
    search {
      ...EGDSSearchFormButtonFragment
    }

    playback @include(if: $includePlayback) {
      ...EGDSSearchPlaybackFragment
    }

    softPackages {
      ...SoftPackagesFragment
    }

    adaptExSuccessEvent {
      ...AdaptexTrackingSuccessFragment
    }

    searchLocation {
      ...SearchLocationFragment
    }

    hidePlayback

    priceInsightsDailyConfig {
      debounceRate
      monthsToQuery
      __typename
    }

    groupStaysLink {
      ...EGDSStandardLinkFragment
    }

    searchFormAnalytics {
      datePrefillImpression {
        ...ClientSideAnalyticsFragment
      }
    }

    valuePropMessage {
      ...SearchFormMessagingFragment
    }
  }

  ${ze.fragment}
  ${Wi.fragment}
  ${Qa.fragment}
  ${Sl.fragment}
  ${Ke.fragment}
  ${Hi.fragment}
  ${pm.fragment}
  ${Sp}
  ${yi}
  ${zn.fragment}
  ${dm.fragment}
  ${Qu.fragment}
`,hp=["AIRPORT","UNKNOWN","POINT_OF_INTEREST"],vp=e=>{var t,a,l,o,c,s;const{data:u,onOpenLocationField:m,onFieldChange:p,onSubmit:y,onTogglePlayback:_,autoOpenCalendar:S,autoOpenPlayback:g,sticky:h,stickyPlayback:D,skipQuery:T,autoSubmitOnFieldChange:C,redirectToSearchResultOnSubmit:I,additionalQueryParams:A,dateFieldInitialFocus:F,layout:O,includeFlexibleCalendarContent:k=!1,includeFlexibleDatesContent:G=!1,autoSubmitOnFieldChangeConfig:R,lastSearchLatLong:L,updateLatLongOnSelection:P,regionId:M,handleOnFlexibleTabSelection:N,onOpenDatesField:x,enableReflection:w}=e,U=(0,$.useLocalization)(),[H,V]=n.useState({EGDSSearchFormLocationField:null,EGDSSearchFormLocationFieldOrigin:null,EGDSSearchFormDatePickerField:null}),z={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},Y=n.useRef(null),q=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL,[j,K]=n.useState(Ee({},z)),{egdsElementId:J,elements:Q,search:X,actionURL:Z,errorSummary:ee,playback:te,softPackages:ae,adaptExSuccessEvent:ne,searchLocation:le,hidePlayback:re,priceInsightsDailyConfig:ie,groupStaysLink:oe,valuePropMessage:ce,searchFormAnalytics:se}=u,[de,ue]=n.useState(te),[me,pe]=n.useState(ae),ye=Q.find((e=>"EGDSSearchFormLocationField"===e.__typename)),_e="EGDSSearchFormLocationField"===(null==ye?void 0:ye.__typename)?ye.regionId:"",Se=M&&""!==M?M:_e,ve=hp.includes(null!=(t=null==ye?void 0:ye.regionType)?t:"UNKNOWN")?null:Se,[De,fe]=n.useState(ve),[Te,be]=n.useState(!(re||g)),Ce={dailyPriceDebounce:null!=(a=null==ie?void 0:ie.debounceRate)?a:200,dailyPriceNumberOfMonthsToQuery:null==ie?void 0:ie.monthsToQuery},Ie=()=>{null==x||x()},Ae=null!=J?J:"search-lodging-form",Fe=[...Q,me,X].filter((e=>null!=e)),Oe=(0,E.KY)(),{track:ke}=(0,E._q)(),{publish:Ge}=(0,B.Yj)();n.useEffect((()=>{te&&!T&&ue(te)}),[te,T]);(0,B._H)("SEARCH_FORM_NEXT_PAGE",W.xy,{onSuccess:()=>{var e;(null==ne?void 0:ne.datePrefill)&&ke(E.p3.EVENT,{data:(e=[ne.datePrefill],e.map((e=>({messageContent:JSON.parse(e.messageContent),schemaName:e.schemaName}))))})}}),n.useEffect((()=>{var e,t;F&&(null==(t=null==(e=H.EGDSSearchFormDatePickerField)?void 0:e.current)||t.focus())}),[H.EGDSSearchFormDatePickerField]);const Re=n.useCallback(((e,t)=>{var a;const n=hl(e,null==(a=t.current)?void 0:a.id);V((e=>ge(Ee({},e),{[n]:t})))}),[]),Le=Q.find((e=>"EGDSSearchFormDatePickerField"===e.__typename)),Pe="EGDSSearchFormDatePickerField"===(null==Le?void 0:Le.__typename)&&"EGDSOpenDatePickerAction"===(null==(l=Le.action)?void 0:l.__typename)&&"EGDSDateRangePicker"===Le.action.datePicker.__typename&&null!=(o=Le.action.datePicker.maxNumberOfDaysSelected)?o:0,Me=()=>{m&&m()},Ne="EGDSBasicCheckBox"===(null==(c=null==me?void 0:me.addFlight)?void 0:c.__typename)&&"CHECKED"===me.addFlight.state,xe="EGDSBasicCheckBox"===(null==(s=null==me?void 0:me.addCar)?void 0:s.__typename)&&"CHECKED"===me.addCar.state,Be=n.useCallback((e=>{const t={location:ge(Ee({},Ne?{origin:e.find(Al("origin_select"))}:null),{destination:e.find(Al("destination_form_field"))}),dates:{startDateInput:e.find(Al("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:e.find(Al("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:Pe}}},a=Cl(t,Ne),n=a.length;return{fieldsWithErrors:a,errorCount:n,isFormValid:0===n}}),[Pe,Ne]),{displayErrorSummary:$e,errorCount:We,errorLinkReference:we}=j,Ue=ee&&$e,He=e=>{const{name:t,checked:a}=e.currentTarget;pe((e=>{var n,l;return"EGDSBasicCheckBox"===(null==(n=null==e?void 0:e.addCar)?void 0:n.__typename)&&null!==e.addCar.name&&t.includes(e.addCar.name)?ge(Ee({},e),{addCar:ge(Ee({},e.addCar),{state:a?"CHECKED":"UNCHECKED"})}):"EGDSBasicCheckBox"===(null==(l=null==e?void 0:e.addFlight)?void 0:l.__typename)&&null!==e.addFlight.name&&t.includes(e.addFlight.name)?ge(Ee({},e),{addFlight:ge(Ee({},e.addFlight),{state:a?"CHECKED":"UNCHECKED"})}):e}))},Ve=(e,t,a)=>{const n={__typename:"EGDSPlainText",accessibility:null,text:""},l=Q.find((e=>"EGDSSearchFormTravelersField"===e.__typename)),r=a?((e,t)=>{var a,n,l,r,o,c,s;if("EGDSOpenTravelerSelectorAction"===(null==(a=null==e?void 0:e.action)?void 0:a.__typename)){const{totalTravelerCount:a,roomCount:d}=(0,i.ur)(t);if("EGDSRoomsTravelerSelector"===(null==(l=null==(n=null==e?void 0:e.action)?void 0:n.travelerSelector)?void 0:l.__typename)&&"EGDSCompositeLocalizedText"===(null==(r=null==e?void 0:e.labelTemplate)?void 0:r.__typename))return el(null==e?void 0:e.labelTemplate,d,a);if("EGDSBasicTravelerSelector"===(null==(c=null==(o=null==e?void 0:e.action)?void 0:o.travelerSelector)?void 0:c.__typename)&&"EGDSCardinalLocalizedText"===(null==(s=null==e?void 0:e.labelTemplate)?void 0:s.__typename))return Zn(null==e?void 0:e.labelTemplate,a)}return null})(l,a):"",o="EGDSPlainText"===e[0].__typename?e[0].text:"";return[ge(Ee({},n),{text:(null==t?void 0:t.start)&&(null==t?void 0:t.end)?Tt(`${new Date(t.start.year,t.start.month-1,t.start.day).toISOString().split("T")[0]} - ${new Date(t.end.year,t.end.month-1,t.end.day).toISOString().split("T")[0]}`,U):o}),ge(Ee({},n),{text:null!=r?r:""})]},[Ye,qe]=n.useState(null!=L?L:""),je=()=>{fe("")},Ke=e=>{var t,a,n,l;P&&qe((null==(a=null==(t=e.data)?void 0:t.coordinates)?void 0:a.latitude)&&(null==(l=null==(n=e.data)?void 0:n.coordinates)?void 0:l.longitude)?`${e.data.coordinates.latitude},${e.data.coordinates.longitude}`:""),(e=>{var t,a,n,l;const r="AIRPORT"===(null==(t=e.data)?void 0:t.geoType)||"HOTEL"===(null==(a=e.data)?void 0:a.geoType)||"UNKNOWN"===(null==(n=e.data)?void 0:n.geoType);fe((null==(l=e.data)?void 0:l.regionId)&&!r?e.data.regionId:"")})(e),ue((t=>{var a;if(!t)return null;const{primary:n,secondaries:l}=t,r=ge(Ee({},n),{text:(null==(a=e.data)?void 0:a.primaryText)||e.term}),{travelers:i,dateRange:o}=e.data;if(i||o){const e=(e=>{var t;if(e)return"rooms"in e?{rooms:e.rooms.map((e=>{var t;return{adults:e.adults,childrenAges:null!=(t=e.childrenAges)?t:[],pets:!!e.pets}}))}:{adults:e.adults,childrenAges:null!=(t=e.childrenAges)?t:[],pets:!!e.pets}})(i);return ge(Ee({},t),{primary:r,secondaries:Ve(l,o,e)})}return ge(Ee({},t),{primary:r,secondaries:l})}))},Je=xe||Ne,Qe=Je&&me.actionURL?me.actionURL:Z,Xe=me&&n.createElement(f.i,{space:"three",direction:"IN_LINE"===O?"row":"column"},me&&n.createElement(f.j,{grow:1},n.createElement("div",null,n.createElement(pm,{data:me,searchLocationContent:null==le?void 0:le.content,onProductSelect:He,setFieldRefByTypename:Re,fieldError:j.fieldsWithErrors.find((e=>"EGDSSearchFormLocationFieldOrigin"===e.__typename)),searchFormMessaging:ce})))),Ze="SoftPackagesArea",et=t=>{const a=(e=>e===d.OB.SMALL||"STACKED"===O?["1fr"]:[(0,v.R)(3,"1fr"),"max-content"])(t),l=t===d.OB.SMALL||"STACKED"===O?(()=>{const e=[(0,v.R)(3,"max-content")];return me&&e.splice(3,0,(0,v.F)("1x")),e})():(()=>{const e=["1fr"];return me?[...e,(0,v.F)("1x")]:e})(),r=t===d.OB.SMALL||"STACKED"===O?(()=>{const e=["EGDSSearchFormLocationField","EGDSSearchFormDatePickerField","EGDSSearchFormTravelersField","EGDSSearchFormButton"];return me&&e.splice(3,0,Ze),e})():(()=>{const e=["EGDSSearchFormLocationField EGDSSearchFormDatePickerField EGDSSearchFormTravelersField EGDSSearchFormButton"];return me?[...e,`${Ze} ${Ze} ${Ze} ${Ze}`]:e})(),i=new URLSearchParams(window.location.search).get("destination");return n.createElement(v.E,{columns:a,rows:l,space:"three",areas:r},Fe.map(((t,a)=>{const{__typename:l}=t,r=Ep.find((({displayName:e})=>e===l));if(!r)return null;const o=j.fieldsWithErrors.find((e=>{const t="SoftPackages"===l&&"EGDSSearchFormLocationFieldOrigin"===e.__typename;return e.__typename===l||t})),c=(()=>{var e,t;const a=[...Fe].find((e=>"EGDSSearchFormLocationField"===e.__typename));return"EGDSSearchFormLocationField"===(null==a?void 0:a.__typename)&&"OpenTypeaheadAction"===(null==(e=null==a?void 0:a.action)?void 0:e.__typename)&&null!=(t=null==a?void 0:a.action.info.showCurrentLocation)&&t})()&&i?i:"",s=ge(Ee(ge(Ee({},e),{lastSearchLatLong:Ye,setFieldRefByTypename:Re,fieldError:o,autoOpen:S,onClearLocation:je,onProductSelect:He,valueFromQueryParam:c,onSelection:Ke,flexibleContentConfig:{includeFlexibleCalendarContent:k,includeFlexibleDatesContent:G},popoverWidth:650,onOpenDatesField:Ie,groupStaysLink:oe}),Je?me:{}),{showCurrentLocation:q,onOpenLocationField:Me,searchLocationAnalytics:null==le?void 0:le.analytics,searchLocationContent:null==le?void 0:le.content,gaiaId:De,dailyPriceInsightsConfig:Ce,onFlexibleTabSelection:N}),d="SoftPackages"===l,u="EGDSSearchFormDatePickerField"===r.displayName&&(null==se?void 0:se.datePrefillImpression)?n.createElement(Qu,{data:se.datePrefillImpression},n.createElement(r,ge(Ee({},s),{data:t}))):n.createElement(r,ge(Ee({},s),{data:t})),m=d?Xe:u,p=d?Ze:l;return n.createElement(v.a,{area:p,key:`field_${p}_${a}`},n.createElement(v.E,{autoRows:["max-content"]},m))})))};return n.createElement(b.E,{ref:Y,id:Ae,name:Ae,method:"GET",action:Qe,onFieldChange:(e,t)=>{var a,n,l;if(p){const n=Y.current?Array.from(null==(a=Y.current)?void 0:a.elements):[],l=wc("LODGING",n);p(e,t,l)}C&&(null==(n=Y.current)||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))),"EGDSDateRangePicker"===e.name&&(null==R?void 0:R.onDateFieldChange)&&!C&&(null==(l=Y.current)||l.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))),ue((t=>{const{DESTINATION:a,TRAVELER_ROOM_SELECTOR:n,TRAVELER_BASIC_SELECTOR:l,TRAVEL_DATES:r,TRAVEL_DATES_FLEXIBLE:i}=ip,{name:o,value:c}=e,s=o===r,d=o===i,u=o===n||o===l;if(!t)return null;if(!(s||u||o===a||d))return Ee({},t);const{secondaries:m}=t,p=((e,t,a,n,l)=>{const r={__typename:"EGDSPlainText",accessibility:null,text:""};if(n.length>1){if(e){const e=Tt(l,U);return[ge(Ee({},r),{text:e}),n[1]]}if(a)return[n[0],ge(Ee({},r),{text:l})];if(t)return[ge(Ee({},r),{text:l}),n[1]]}if(e){const e=Tt(l,U);return[ge(Ee({},r),{text:e}),n[0]]}return t?[ge(Ee({},r),{text:l}),n[0]]:a?[ge(Ee({},r),{text:l})]:[...n]})(s,d,u,m,c);return ge(Ee({},t),{secondaries:p})})),be(!0)},onSubmit:e=>{var t,a,n;K(Ee({},z));const l=Array.from(e.currentTarget.elements),{fieldsWithErrors:r,errorCount:i,isFormValid:o}=Be(l);if(H[null==(t=r[0])?void 0:t.__typename]&&(null==(a=null==u?void 0:u.errorSummary)?void 0:a.analytics)){const e=`${u.errorSummary.analytics.referrerId}.For.NoDestinationSubmit`;Oe(e,u.errorSummary.analytics.linkName)}if(!o)return K({fieldsWithErrors:r,errorCount:i,displayErrorSummary:!0,errorLinkReference:H[null==(n=r[0])?void 0:n.__typename]}),void e.preventDefault();if(y||I){const t=wc("LODGING",l),a=yp(new URLSearchParams(t))||void 0;y&&y(e,a),I&&(e.preventDefault(),Ge(new W.xy("SEARCH_FORM_NEXT_PAGE",{})),window.location.href=`${e.currentTarget.action}${t}${A?`&${A}`:""}`)}},hasRequiredFieldIndicator:!0},Ue&&n.createElement(ze,{data:ee,errorCount:We,inputErrorRef:we}),n.createElement(r.b,{margin:{blockstart:Ue?"two":void 0}},n.createElement("div",null,n.createElement(d.LM,null,n.createElement(d.NP,null,de?n.createElement(Hi,{data:de,stickyPlayback:D,display:Te,onDisplayToggle:e=>{be(e),null==_||_(!e)}},et(d.OB.SMALL)):et(d.OB.SMALL)),n.createElement(d.rw,null,h?n.createElement(he,null,et(d.OB.MEDIUM)):et(d.OB.MEDIUM)),n.createElement(d.zQ,null,h?n.createElement(he,null,et(d.OB.LARGE)):et(d.OB.LARGE))))))};vp.fragment=gp,vp.displayName="LodgingSearchForm";var Dp={SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE")},fp={linkName:"Lodging Search Form Fallback Presented",referrerId:"Web.Lodging.Search.Form.Fallback.Presented"},Tp={linkName:"Lodging Search Form Presented",referrerId:"Web.Hotels.Search.Form.Presented"},bp=u.J1`
  query LodgingSearchFormQuery(
    $context: ContextInput!
    $pageLocation: PageLocation
    $propertySearchCriteriaInput: PropertySearchCriteriaInput
    $includePlayback: Boolean = false
    $features: [String!]
  ) {
    searchForm(context: $context, pageLocation: $pageLocation) {
      lodging(propertySearchCriteria: $propertySearchCriteriaInput, features: $features) {
        __typename
        ...LodgingSearchFormFragment
      }
    }
  }

  ${vp.fragment}
`,Cp=e=>{var t,a,l,r,o,c,s,u,y,_,S,h,v,D,f;const{inputs:T,skipSsr:b,skipQuery:C=!1,fetchPolicy:I,batchKey:A,features:F,includePlayback:O,layout:k="IN_LINE",enableReflection:G,pageLocation:R}=e,{context:L}=(0,m.R)(),P=(0,p.useLoggerEvents)(Dp),[M,N]=n.useState(C),x=[...F?[...F]:[]],B=x.length>0?x:void 0,$=ge(Ee({},T),{context:L,includePlayback:!!O,features:B,pageLocation:R}),{data:W,error:w,loading:U,previousData:H}=(0,g.I)(bp,Ee({context:{batchKey:A},variables:$,ssr:!b,skip:M},I?{fetchPolicy:I}:{})),V=null!=W?W:H;if(n.useEffect((()=>{N(C&&!U)}),[U,C]),U&&!V)return n.createElement(d.LM,null,n.createElement(d.NP,null,n.createElement(We,{rows:[{type:"primary"},{type:"primary"},{type:"primary"}]})),n.createElement(d.rw,null,n.createElement(We,{rows:[{type:"primary"}]})));const z=null==(t=T.propertySearchCriteriaInput)?void 0:t.secondary,Y=null!=(o=null==(r=null==(l=null==(a=T.propertySearchCriteriaInput)?void 0:a.primary)?void 0:l.destination)?void 0:r.pinnedPropertyId)?o:void 0,q=z?{amenitiesFacilitiesGroup:null==(s=null==(c=null==z?void 0:z.selections)?void 0:c.find((e=>"amenities_facilities_group"===e.id)))?void 0:s.value,locationGroup:null==(y=null==(u=null==z?void 0:z.selections)?void 0:u.find((e=>"location_group"===e.id)))?void 0:y.value,propertiesGoodForGroup:null==(S=null==(_=null==z?void 0:z.selections)?void 0:_.find((e=>"properties_good_for_group"===e.id)))?void 0:S.value,propertyTypeGroup:null==(v=null==(h=null==z?void 0:z.selections)?void 0:h.find((e=>"property_type_group"===e.id)))?void 0:v.value}:void 0,j=ge(Ee({},e),{regionId:null!=(f=null==(D=T.propertySearchCriteriaInput)?void 0:D.primary.destination.regionId)?f:"",propertyRefinements:q,pinnedPropertyId:Y,skipQuery:M,layout:k,pageLocation:R});if(w||!V||"LodgingSearchForm"!==V.searchForm.lodging.__typename){const e={__typename:"LodgingSearchForm",egdsElementId:"lodging_search_form",actionURL:"/Hotel-Search",errorSummary:Jm,elements:[Qm,np,lp],search:rp,searchLocation:Ql,playback:null,softPackages:null,adaptExSuccessEvent:null,hidePlayback:null,priceInsightsDailyConfig:null,groupStaysLink:null,valuePropMessage:null,searchFormAnalytics:null};return P.SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE.log({name:null==w?void 0:w.name,error:new Error(null==w?void 0:w.message)}),n.createElement(Fe,null,n.createElement(E.ee,Ee({},fp),G?n.createElement(i.tb,null,n.createElement(vp,ge(Ee({},j),{data:e}))):n.createElement(vp,ge(Ee({},j),{data:e}))))}return n.createElement(E.ee,Ee({},Tp),G?n.createElement(i.tb,null,n.createElement(vp,ge(Ee({},j),{data:V.searchForm.lodging}))):n.createElement(vp,ge(Ee({},j),{data:V.searchForm.lodging})))};Cp.displayName="sharedui-LodgingSearchForm"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/lotus-home-ui/3222.86333d86499dfabf3e8f.js.map